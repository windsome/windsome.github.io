import{r as k,R as Y,c as Mp,g as pi,j as z,k as Tp,i as Zs,a as kp,b as Ap,d as cs,e as Dp,f as Pp}from"./index-7c566890.js";function Np(e,n){const o=k.useRef(n);k.useEffect(function(){n!==o.current&&e.attributionControl!=null&&(o.current!=null&&e.attributionControl.removeAttribution(o.current),n!=null&&e.attributionControl.addAttribution(n)),o.current=n},[e,n])}function Gu(e,n,o){n.center!==o.center&&e.setLatLng(n.center),n.radius!=null&&n.radius!==o.radius&&e.setRadius(n.radius)}const Ip=1;function Op(e){return Object.freeze({__version:Ip,map:e})}function mi(e,n){return Object.freeze({...e,...n})}const Yu=k.createContext(null),Xu=Yu.Provider;function Fs(){const e=k.useContext(Yu);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Ju(e){function n(o,i){const{instance:r,context:a}=e(o).current;return k.useImperativeHandle(i,()=>r),o.children==null?null:Y.createElement(Xu,{value:a},o.children)}return k.forwardRef(n)}function Rp(e){function n(o,i){const{instance:r}=e(o).current;return k.useImperativeHandle(i,()=>r),null}return k.forwardRef(n)}function Qu(e,n){const o=k.useRef();k.useEffect(function(){return n!=null&&e.instance.on(n),o.current=n,function(){o.current!=null&&e.instance.off(o.current),o.current=null}},[e,n])}function Ks(e,n){const o=e.pane??n.pane;return o?{...e,pane:o}:e}var us={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,n){(function(o,i){i(n)})(Mp,function(o){var i="1.9.4";function r(t){var s,d,g,C;for(d=1,g=arguments.length;d<g;d++){C=arguments[d];for(s in C)t[s]=C[s]}return t}var a=Object.create||function(){function t(){}return function(s){return t.prototype=s,new t}}();function l(t,s){var d=Array.prototype.slice;if(t.bind)return t.bind.apply(t,d.call(arguments,1));var g=d.call(arguments,2);return function(){return t.apply(s,g.length?g.concat(d.call(arguments)):arguments)}}var c=0;function u(t){return"_leaflet_id"in t||(t._leaflet_id=++c),t._leaflet_id}function f(t,s,d){var g,C,R,$;return $=function(){g=!1,C&&(R.apply(d,C),C=!1)},R=function(){g?C=arguments:(t.apply(d,arguments),setTimeout($,s),g=!0)},R}function h(t,s,d){var g=s[1],C=s[0],R=g-C;return t===g&&d?t:((t-C)%R+R)%R+C}function p(){return!1}function m(t,s){if(s===!1)return t;var d=Math.pow(10,s===void 0?6:s);return Math.round(t*d)/d}function v(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function E(t){return v(t).split(/\s+/)}function S(t,s){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?a(t.options):{});for(var d in s)t.options[d]=s[d];return t.options}function P(t,s,d){var g=[];for(var C in t)g.push(encodeURIComponent(d?C.toUpperCase():C)+"="+encodeURIComponent(t[C]));return(!s||s.indexOf("?")===-1?"?":"&")+g.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function w(t,s){return t.replace(b,function(d,g){var C=s[g];if(C===void 0)throw new Error("No value provided for variable "+d);return typeof C=="function"&&(C=C(s)),C})}var _=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function y(t,s){for(var d=0;d<t.length;d++)if(t[d]===s)return d;return-1}var x="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var H=0;function D(t){var s=+new Date,d=Math.max(0,16-(s-H));return H=s+d,window.setTimeout(t,d)}var N=window.requestAnimationFrame||A("RequestAnimationFrame")||D,U=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function I(t,s,d){if(d&&N===D)t.call(s);else return N.call(window,l(t,s))}function B(t){t&&U.call(window,t)}var M={__proto__:null,extend:r,create:a,bind:l,get lastId(){return c},stamp:u,throttle:f,wrapNum:h,falseFn:p,formatNum:m,trim:v,splitWords:E,setOptions:S,getParamString:P,template:w,isArray:_,indexOf:y,emptyImageUrl:x,requestFn:N,cancelFn:U,requestAnimFrame:I,cancelAnimFrame:B};function T(){}T.extend=function(t){var s=function(){S(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=s.__super__=this.prototype,g=a(d);g.constructor=s,s.prototype=g;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(s[C]=this[C]);return t.statics&&r(s,t.statics),t.includes&&(O(t.includes),r.apply(null,[g].concat(t.includes))),r(g,t),delete g.statics,delete g.includes,g.options&&(g.options=d.options?a(d.options):{},r(g.options,t.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,$=g._initHooks.length;R<$;R++)g._initHooks[R].call(this)}},s},T.include=function(t){var s=this.prototype.options;return r(this.prototype,t),t.options&&(this.prototype.options=s,this.mergeOptions(t.options)),this},T.mergeOptions=function(t){return r(this.prototype.options,t),this},T.addInitHook=function(t){var s=Array.prototype.slice.call(arguments,1),d=typeof t=="function"?t:function(){this[t].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function O(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=_(t)?t:[t];for(var s=0;s<t.length;s++)t[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var j={on:function(t,s,d){if(typeof t=="object")for(var g in t)this._on(g,t[g],s);else{t=E(t);for(var C=0,R=t.length;C<R;C++)this._on(t[C],s,d)}return this},off:function(t,s,d){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var g in t)this._off(g,t[g],s);else{t=E(t);for(var C=arguments.length===1,R=0,$=t.length;R<$;R++)C?this._off(t[R]):this._off(t[R],s,d)}return this},_on:function(t,s,d,g){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(t,s,d)===!1){d===this&&(d=void 0);var C={fn:s,ctx:d};g&&(C.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(C)}},_off:function(t,s,d){var g,C,R;if(this._events&&(g=this._events[t],!!g)){if(arguments.length===1){if(this._firingCount)for(C=0,R=g.length;C<R;C++)g[C].fn=p;delete this._events[t];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var $=this._listens(t,s,d);if($!==!1){var G=g[$];this._firingCount&&(G.fn=p,this._events[t]=g=g.slice()),g.splice($,1)}}},fire:function(t,s,d){if(!this.listens(t,d))return this;var g=r({},s,{type:t,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var C=this._events[t];if(C){this._firingCount=this._firingCount+1||1;for(var R=0,$=C.length;R<$;R++){var G=C[R],Q=G.fn;G.once&&this.off(t,Q,G.ctx),Q.call(G.ctx||this,g)}this._firingCount--}}return d&&this._propagateEvent(g),this},listens:function(t,s,d,g){typeof t!="string"&&console.warn('"string" type argument expected');var C=s;typeof s!="function"&&(g=!!s,C=void 0,d=void 0);var R=this._events&&this._events[t];if(R&&R.length&&this._listens(t,C,d)!==!1)return!0;if(g){for(var $ in this._eventParents)if(this._eventParents[$].listens(t,s,d,g))return!0}return!1},_listens:function(t,s,d){if(!this._events)return!1;var g=this._events[t]||[];if(!s)return!!g.length;d===this&&(d=void 0);for(var C=0,R=g.length;C<R;C++)if(g[C].fn===s&&g[C].ctx===d)return C;return!1},once:function(t,s,d){if(typeof t=="object")for(var g in t)this._on(g,t[g],s,!0);else{t=E(t);for(var C=0,R=t.length;C<R;C++)this._on(t[C],s,d,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[u(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[u(t)],this},_propagateEvent:function(t){for(var s in this._eventParents)this._eventParents[s].fire(t.type,r({layer:t.target,propagatedFrom:t.target},t),!0)}};j.addEventListener=j.on,j.removeEventListener=j.clearAllEventListeners=j.off,j.addOneTimeEventListener=j.once,j.fireEvent=j.fire,j.hasEventListeners=j.listens;var K=T.extend(j);function V(t,s,d){this.x=d?Math.round(t):t,this.y=d?Math.round(s):s}var F=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(t){return this.clone()._add(Z(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Z(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new V(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new V(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=F(this.x),this.y=F(this.y),this},distanceTo:function(t){t=Z(t);var s=t.x-this.x,d=t.y-this.y;return Math.sqrt(s*s+d*d)},equals:function(t){return t=Z(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Z(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function Z(t,s,d){return t instanceof V?t:_(t)?new V(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new V(t.x,t.y):new V(t,s,d)}function q(t,s){if(t)for(var d=s?[t,s]:t,g=0,C=d.length;g<C;g++)this.extend(d[g])}q.prototype={extend:function(t){var s,d;if(!t)return this;if(t instanceof V||typeof t[0]=="number"||"x"in t)s=d=Z(t);else if(t=W(t),s=t.min,d=t.max,!s||!d)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=d.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(t){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var s,d;return typeof t[0]=="number"||t instanceof V?t=Z(t):t=W(t),t instanceof q?(s=t.min,d=t.max):s=d=t,s.x>=this.min.x&&d.x<=this.max.x&&s.y>=this.min.y&&d.y<=this.max.y},intersects:function(t){t=W(t);var s=this.min,d=this.max,g=t.min,C=t.max,R=C.x>=s.x&&g.x<=d.x,$=C.y>=s.y&&g.y<=d.y;return R&&$},overlaps:function(t){t=W(t);var s=this.min,d=this.max,g=t.min,C=t.max,R=C.x>s.x&&g.x<d.x,$=C.y>s.y&&g.y<d.y;return R&&$},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var s=this.min,d=this.max,g=Math.abs(s.x-d.x)*t,C=Math.abs(s.y-d.y)*t;return W(Z(s.x-g,s.y-C),Z(d.x+g,d.y+C))},equals:function(t){return t?(t=W(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function W(t,s){return!t||t instanceof q?t:new q(t,s)}function J(t,s){if(t)for(var d=s?[t,s]:t,g=0,C=d.length;g<C;g++)this.extend(d[g])}J.prototype={extend:function(t){var s=this._southWest,d=this._northEast,g,C;if(t instanceof ee)g=t,C=t;else if(t instanceof J){if(g=t._southWest,C=t._northEast,!g||!C)return this}else return t?this.extend(te(t)||X(t)):this;return!s&&!d?(this._southWest=new ee(g.lat,g.lng),this._northEast=new ee(C.lat,C.lng)):(s.lat=Math.min(g.lat,s.lat),s.lng=Math.min(g.lng,s.lng),d.lat=Math.max(C.lat,d.lat),d.lng=Math.max(C.lng,d.lng)),this},pad:function(t){var s=this._southWest,d=this._northEast,g=Math.abs(s.lat-d.lat)*t,C=Math.abs(s.lng-d.lng)*t;return new J(new ee(s.lat-g,s.lng-C),new ee(d.lat+g,d.lng+C))},getCenter:function(){return new ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof ee||"lat"in t?t=te(t):t=X(t);var s=this._southWest,d=this._northEast,g,C;return t instanceof J?(g=t.getSouthWest(),C=t.getNorthEast()):g=C=t,g.lat>=s.lat&&C.lat<=d.lat&&g.lng>=s.lng&&C.lng<=d.lng},intersects:function(t){t=X(t);var s=this._southWest,d=this._northEast,g=t.getSouthWest(),C=t.getNorthEast(),R=C.lat>=s.lat&&g.lat<=d.lat,$=C.lng>=s.lng&&g.lng<=d.lng;return R&&$},overlaps:function(t){t=X(t);var s=this._southWest,d=this._northEast,g=t.getSouthWest(),C=t.getNorthEast(),R=C.lat>s.lat&&g.lat<d.lat,$=C.lng>s.lng&&g.lng<d.lng;return R&&$},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,s){return t?(t=X(t),this._southWest.equals(t.getSouthWest(),s)&&this._northEast.equals(t.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(t,s){return t instanceof J?t:new J(t,s)}function ee(t,s,d){if(isNaN(t)||isNaN(s))throw new Error("Invalid LatLng object: ("+t+", "+s+")");this.lat=+t,this.lng=+s,d!==void 0&&(this.alt=+d)}ee.prototype={equals:function(t,s){if(!t)return!1;t=te(t);var d=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return d<=(s===void 0?1e-9:s)},toString:function(t){return"LatLng("+m(this.lat,t)+", "+m(this.lng,t)+")"},distanceTo:function(t){return ie.distance(this,te(t))},wrap:function(){return ie.wrapLatLng(this)},toBounds:function(t){var s=180*t/40075017,d=s/Math.cos(Math.PI/180*this.lat);return X([this.lat-s,this.lng-d],[this.lat+s,this.lng+d])},clone:function(){return new ee(this.lat,this.lng,this.alt)}};function te(t,s,d){return t instanceof ee?t:_(t)&&typeof t[0]!="object"?t.length===3?new ee(t[0],t[1],t[2]):t.length===2?new ee(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new ee(t.lat,"lng"in t?t.lng:t.lon,t.alt):s===void 0?null:new ee(t,s,d)}var re={latLngToPoint:function(t,s){var d=this.projection.project(t),g=this.scale(s);return this.transformation._transform(d,g)},pointToLatLng:function(t,s){var d=this.scale(s),g=this.transformation.untransform(t,d);return this.projection.unproject(g)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var s=this.projection.bounds,d=this.scale(t),g=this.transformation.transform(s.min,d),C=this.transformation.transform(s.max,d);return new q(g,C)},infinite:!1,wrapLatLng:function(t){var s=this.wrapLng?h(t.lng,this.wrapLng,!0):t.lng,d=this.wrapLat?h(t.lat,this.wrapLat,!0):t.lat,g=t.alt;return new ee(d,s,g)},wrapLatLngBounds:function(t){var s=t.getCenter(),d=this.wrapLatLng(s),g=s.lat-d.lat,C=s.lng-d.lng;if(g===0&&C===0)return t;var R=t.getSouthWest(),$=t.getNorthEast(),G=new ee(R.lat-g,R.lng-C),Q=new ee($.lat-g,$.lng-C);return new J(G,Q)}},ie=r({},re,{wrapLng:[-180,180],R:6371e3,distance:function(t,s){var d=Math.PI/180,g=t.lat*d,C=s.lat*d,R=Math.sin((s.lat-t.lat)*d/2),$=Math.sin((s.lng-t.lng)*d/2),G=R*R+Math.cos(g)*Math.cos(C)*$*$,Q=2*Math.atan2(Math.sqrt(G),Math.sqrt(1-G));return this.R*Q}}),se=6378137,ae={R:se,MAX_LATITUDE:85.0511287798,project:function(t){var s=Math.PI/180,d=this.MAX_LATITUDE,g=Math.max(Math.min(d,t.lat),-d),C=Math.sin(g*s);return new V(this.R*t.lng*s,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(t){var s=180/Math.PI;return new ee((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*s,t.x*s/this.R)},bounds:function(){var t=se*Math.PI;return new q([-t,-t],[t,t])}()};function le(t,s,d,g){if(_(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=s,this._c=d,this._d=g}le.prototype={transform:function(t,s){return this._transform(t.clone(),s)},_transform:function(t,s){return s=s||1,t.x=s*(this._a*t.x+this._b),t.y=s*(this._c*t.y+this._d),t},untransform:function(t,s){return s=s||1,new V((t.x/s-this._b)/this._a,(t.y/s-this._d)/this._c)}};function ye(t,s,d,g){return new le(t,s,d,g)}var oe=r({},ie,{code:"EPSG:3857",projection:ae,transformation:function(){var t=.5/(Math.PI*ae.R);return ye(t,.5,-t,.5)}()}),ce=r({},oe,{code:"EPSG:900913"});function _e(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Pe(t,s){var d="",g,C,R,$,G,Q;for(g=0,R=t.length;g<R;g++){for(G=t[g],C=0,$=G.length;C<$;C++)Q=G[C],d+=(C?"L":"M")+Q.x+" "+Q.y;d+=s?me.svg?"z":"x":""}return d||"M0 0"}var Se=document.documentElement.style,ue="ActiveXObject"in window,ge=ue&&!document.addEventListener,ve="msLaunchUri"in navigator&&!("documentMode"in document),we=mt("webkit"),Te=mt("android"),He=mt("android 2")||mt("android 3"),je=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ke=Te&&mt("Google")&&je<537&&!("AudioNode"in window),Ae=!!window.opera,Xe=!ve&&mt("chrome"),at=mt("gecko")&&!we&&!Ae&&!ue,nt=!Xe&&mt("safari"),Ve=mt("phantom"),Ue="OTransition"in Se,Pt=navigator.platform.indexOf("Win")===0,Mt=ue&&"transition"in Se,Ct="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!He,st="MozPerspective"in Se,Ge=!window.L_DISABLE_3D&&(Mt||Ct||st)&&!Ue&&!Ve,lt=typeof orientation<"u"||mt("mobile"),Yt=lt&&we,ft=lt&&Ct,ct=!window.PointerEvent&&window.MSPointerEvent,Xt=!!(window.PointerEvent||ct),bt="ontouchstart"in window||!!window.TouchEvent,Ft=!window.L_NO_TOUCH&&(bt||Xt),$e=lt&&Ae,Oe=lt&&at,Et=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tt=function(){var t=!1;try{var s=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",p,s),window.removeEventListener("testPassiveEventSupport",p,s)}catch{}return t}(),Jt=function(){return!!document.createElement("canvas").getContext}(),Ht=!!(document.createElementNS&&_e("svg").createSVGRect),pn=!!Ht&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),mn=!Ht&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var s=t.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),ht=navigator.platform.indexOf("Mac")===0,gn=navigator.platform.indexOf("Linux")===0;function mt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var me={ie:ue,ielt9:ge,edge:ve,webkit:we,android:Te,android23:He,androidStock:Ke,opera:Ae,chrome:Xe,gecko:at,safari:nt,phantom:Ve,opera12:Ue,win:Pt,ie3d:Mt,webkit3d:Ct,gecko3d:st,any3d:Ge,mobile:lt,mobileWebkit:Yt,mobileWebkit3d:ft,msPointer:ct,pointer:Xt,touch:Ft,touchNative:bt,mobileOpera:$e,mobileGecko:Oe,retina:Et,passiveEvents:Tt,canvas:Jt,svg:Ht,vml:mn,inlineSvg:pn,mac:ht,linux:gn},Kt=me.msPointer?"MSPointerDown":"pointerdown",vn=me.msPointer?"MSPointerMove":"pointermove",zt=me.msPointer?"MSPointerUp":"pointerup",Bt=me.msPointer?"MSPointerCancel":"pointercancel",gt={touchstart:Kt,touchmove:vn,touchend:zt,touchcancel:Bt},qt={touchstart:yn,touchmove:Qt,touchend:Qt,touchcancel:Qt},be={},Ce=!1;function Ie(t,s,d){return s==="touchstart"&&Vn(),qt[s]?(d=qt[s].bind(this,d),t.addEventListener(gt[s],d,!1),d):(console.warn("wrong event specified:",s),p)}function qe(t,s,d){if(!gt[s]){console.warn("wrong event specified:",s);return}t.removeEventListener(gt[s],d,!1)}function Nt(t){be[t.pointerId]=t}function rt(t){be[t.pointerId]&&(be[t.pointerId]=t)}function jt(t){delete be[t.pointerId]}function Vn(){Ce||(document.addEventListener(Kt,Nt,!0),document.addEventListener(vn,rt,!0),document.addEventListener(zt,jt,!0),document.addEventListener(Bt,jt,!0),Ce=!0)}function Qt(t,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var d in be)s.touches.push(be[d]);s.changedTouches=[s],t(s)}}function yn(t,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&kt(s),Qt(t,s)}function It(t){var s={},d,g;for(g in t)d=t[g],s[g]=d&&d.bind?d.bind(t):d;return t=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var cr=200;function Sr(t,s){t.addEventListener("dblclick",s);var d=0,g;function C(R){if(R.detail!==1){g=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var $=Sl(R);if(!($.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!$.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var G=Date.now();G-d<=cr?(g++,g===2&&s(It(R))):g=1,d=G}}}return t.addEventListener("click",C),{dblclick:s,simDblclick:C}}function _n(t,s){t.removeEventListener("dblclick",s.dblclick),t.removeEventListener("click",s.simDblclick)}var rn=Fn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),on=Fn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),an=on==="webkitTransition"||on==="OTransition"?on+"End":"transitionend";function Pn(t){return typeof t=="string"?document.getElementById(t):t}function sn(t,s){var d=t.style[s]||t.currentStyle&&t.currentStyle[s];if((!d||d==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(t,null);d=g?g[s]:null}return d==="auto"?null:d}function Re(t,s,d){var g=document.createElement(t);return g.className=s||"",d&&d.appendChild(g),g}function Fe(t){var s=t.parentNode;s&&s.removeChild(t)}function Zn(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function $t(t){var s=t.parentNode;s&&s.lastChild!==t&&s.appendChild(t)}function Ut(t){var s=t.parentNode;s&&s.firstChild!==t&&s.insertBefore(t,s.firstChild)}function ur(t,s){if(t.classList!==void 0)return t.classList.contains(s);var d=fr(t);return d.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(d)}function Ne(t,s){if(t.classList!==void 0)for(var d=E(s),g=0,C=d.length;g<C;g++)t.classList.add(d[g]);else if(!ur(t,s)){var R=fr(t);dr(t,(R?R+" ":"")+s)}}function Qe(t,s){t.classList!==void 0?t.classList.remove(s):dr(t,v((" "+fr(t)+" ").replace(" "+s+" "," ")))}function dr(t,s){t.className.baseVal===void 0?t.className=s:t.className.baseVal=s}function fr(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Ot(t,s){"opacity"in t.style?t.style.opacity=s:"filter"in t.style&&_i(t,s)}function _i(t,s){var d=!1,g="DXImageTransform.Microsoft.Alpha";try{d=t.filters.item(g)}catch{if(s===1)return}s=Math.round(s*100),d?(d.Enabled=s!==100,d.Opacity=s):t.style.filter+=" progid:"+g+"(opacity="+s+")"}function Fn(t){for(var s=document.documentElement.style,d=0;d<t.length;d++)if(t[d]in s)return t[d];return!1}function bn(t,s,d){var g=s||new V(0,0);t.style[rn]=(me.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(d?" scale("+d+")":"")}function tt(t,s){t._leaflet_pos=s,me.any3d?bn(t,s):(t.style.left=s.x+"px",t.style.top=s.y+"px")}function ln(t){return t._leaflet_pos||new V(0,0)}var Kn,Lt,hr;if("onselectstart"in document)Kn=function(){De(window,"selectstart",kt)},Lt=function(){de(window,"selectstart",kt)};else{var Vt=Fn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Kn=function(){if(Vt){var t=document.documentElement.style;hr=t[Vt],t[Vt]="none"}},Lt=function(){Vt&&(document.documentElement.style[Vt]=hr,hr=void 0)}}function xn(){De(window,"dragstart",kt)}function Nn(){de(window,"dragstart",kt)}var wn,qn;function $n(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Wn(),wn=t,qn=t.style.outlineStyle,t.style.outlineStyle="none",De(window,"keydown",Wn))}function Wn(){wn&&(wn.style.outlineStyle=qn,wn=void 0,qn=void 0,de(window,"keydown",Wn))}function Ur(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Mr(t){var s=t.getBoundingClientRect();return{x:s.width/t.offsetWidth||1,y:s.height/t.offsetHeight||1,boundingClientRect:s}}var bi={__proto__:null,TRANSFORM:rn,TRANSITION:on,TRANSITION_END:an,get:Pn,getStyle:sn,create:Re,remove:Fe,empty:Zn,toFront:$t,toBack:Ut,hasClass:ur,addClass:Ne,removeClass:Qe,setClass:dr,getClass:fr,setOpacity:Ot,testProp:Fn,setTransform:bn,setPosition:tt,getPosition:ln,get disableTextSelection(){return Kn},get enableTextSelection(){return Lt},disableImageDrag:xn,enableImageDrag:Nn,preventOutline:$n,restoreOutline:Wn,getSizedParentNode:Ur,getScale:Mr};function De(t,s,d,g){if(s&&typeof s=="object")for(var C in s)Je(t,C,s[C],d);else{s=E(s);for(var R=0,$=s.length;R<$;R++)Je(t,s[R],d,g)}return this}var he="_leaflet_events";function de(t,s,d,g){if(arguments.length===1)et(t),delete t[he];else if(s&&typeof s=="object")for(var C in s)pr(t,C,s[C],d);else if(s=E(s),arguments.length===2)et(t,function(G){return y(s,G)!==-1});else for(var R=0,$=s.length;R<$;R++)pr(t,s[R],d,g);return this}function et(t,s){for(var d in t[he]){var g=d.split(/\d/)[0];(!s||s(g))&&pr(t,g,null,null,d)}}var it={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Je(t,s,d,g){var C=s+u(d)+(g?"_"+u(g):"");if(t[he]&&t[he][C])return this;var R=function(G){return d.call(g||t,G||window.event)},$=R;!me.touchNative&&me.pointer&&s.indexOf("touch")===0?R=Ie(t,s,R):me.touch&&s==="dblclick"?R=Sr(t,R):"addEventListener"in t?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?t.addEventListener(it[s]||s,R,me.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(R=function(G){G=G||window.event,Da(t,G)&&$(G)},t.addEventListener(it[s],R,!1)):t.addEventListener(s,$,!1):t.attachEvent("on"+s,R),t[he]=t[he]||{},t[he][C]=R}function pr(t,s,d,g,C){C=C||s+u(d)+(g?"_"+u(g):"");var R=t[he]&&t[he][C];if(!R)return this;!me.touchNative&&me.pointer&&s.indexOf("touch")===0?qe(t,s,R):me.touch&&s==="dblclick"?_n(t,R):"removeEventListener"in t?t.removeEventListener(it[s]||s,R,!1):t.detachEvent("on"+s,R),t[he][C]=null}function Cn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Vr(t){return Je(t,"wheel",Cn),this}function In(t){return De(t,"mousedown touchstart dblclick contextmenu",Cn),t._leaflet_disable_click=!0,this}function kt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Tr(t){return kt(t),Cn(t),this}function Sl(t){if(t.composedPath)return t.composedPath();for(var s=[],d=t.target;d;)s.push(d),d=d.parentNode;return s}function Ml(t,s){if(!s)return new V(t.clientX,t.clientY);var d=Mr(s),g=d.boundingClientRect;return new V((t.clientX-g.left)/d.x-s.clientLeft,(t.clientY-g.top)/d.y-s.clientTop)}var Ih=me.linux&&me.chrome?window.devicePixelRatio:me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Tl(t){return me.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Ih:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Da(t,s){var d=s.relatedTarget;if(!d)return!0;try{for(;d&&d!==t;)d=d.parentNode}catch{return!1}return d!==t}var Oh={__proto__:null,on:De,off:de,stopPropagation:Cn,disableScrollPropagation:Vr,disableClickPropagation:In,preventDefault:kt,stop:Tr,getPropagationPath:Sl,getMousePosition:Ml,getWheelDelta:Tl,isExternalTarget:Da,addListener:De,removeListener:de},kl=K.extend({run:function(t,s,d,g){this.stop(),this._el=t,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=ln(t),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=I(this._animate,this),this._step()},_step:function(t){var s=+new Date-this._startTime,d=this._duration*1e3;s<d?this._runFrame(this._easeOut(s/d),t):(this._runFrame(1),this._complete())},_runFrame:function(t,s){var d=this._startPos.add(this._offset.multiplyBy(t));s&&d._round(),tt(this._el,d),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Ze=K.extend({options:{crs:oe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,s){s=S(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(te(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=on&&me.any3d&&!me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),De(this._proxy,an,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,s,d){if(s=s===void 0?this._zoom:this._limitZoom(s),t=this._limitCenter(te(t),s,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=r({animate:d.animate},d.zoom),d.pan=r({animate:d.animate,duration:d.duration},d.pan));var g=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,s,d.zoom):this._tryAnimatedPan(t,d.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(t,s,d.pan&&d.pan.noMoveStart),this},setZoom:function(t,s){return this._loaded?this.setView(this.getCenter(),t,{zoom:s}):(this._zoom=t,this)},zoomIn:function(t,s){return t=t||(me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,s)},zoomOut:function(t,s){return t=t||(me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,s)},setZoomAround:function(t,s,d){var g=this.getZoomScale(s),C=this.getSize().divideBy(2),R=t instanceof V?t:this.latLngToContainerPoint(t),$=R.subtract(C).multiplyBy(1-1/g),G=this.containerPointToLatLng(C.add($));return this.setView(G,s,{zoom:d})},_getBoundsCenterZoom:function(t,s){s=s||{},t=t.getBounds?t.getBounds():X(t);var d=Z(s.paddingTopLeft||s.padding||[0,0]),g=Z(s.paddingBottomRight||s.padding||[0,0]),C=this.getBoundsZoom(t,!1,d.add(g));if(C=typeof s.maxZoom=="number"?Math.min(s.maxZoom,C):C,C===1/0)return{center:t.getCenter(),zoom:C};var R=g.subtract(d).divideBy(2),$=this.project(t.getSouthWest(),C),G=this.project(t.getNorthEast(),C),Q=this.unproject($.add(G).divideBy(2).add(R),C);return{center:Q,zoom:C}},fitBounds:function(t,s){if(t=X(t),!t.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(t,s);return this.setView(d.center,d.zoom,s)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,s){return this.setView(t,this._zoom,{pan:s})},panBy:function(t,s){if(t=Z(t).round(),s=s||{},!t.x&&!t.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new kl,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Ne(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,d,s.duration||.25,s.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,s,d){if(d=d||{},d.animate===!1||!me.any3d)return this.setView(t,s,d);this._stop();var g=this.project(this.getCenter()),C=this.project(t),R=this.getSize(),$=this._zoom;t=te(t),s=s===void 0?$:s;var G=Math.max(R.x,R.y),Q=G*this.getZoomScale($,s),ne=C.distanceTo(g)||1,pe=1.42,ke=pe*pe;function ze(vt){var yo=vt?-1:1,Cp=vt?Q:G,Ep=Q*Q-G*G+yo*ke*ke*ne*ne,Lp=2*Cp*ke*ne,Va=Ep/Lp,cc=Math.sqrt(Va*Va+1)-Va,Sp=cc<1e-9?-18:Math.log(cc);return Sp}function Zt(vt){return(Math.exp(vt)-Math.exp(-vt))/2}function St(vt){return(Math.exp(vt)+Math.exp(-vt))/2}function un(vt){return Zt(vt)/St(vt)}var Wt=ze(0);function Wr(vt){return G*(St(Wt)/St(Wt+pe*vt))}function _p(vt){return G*(St(Wt)*un(Wt+pe*vt)-Zt(Wt))/ke}function bp(vt){return 1-Math.pow(1-vt,1.5)}var xp=Date.now(),sc=(ze(1)-Wt)/pe,wp=d.duration?1e3*d.duration:1e3*sc*.8;function lc(){var vt=(Date.now()-xp)/wp,yo=bp(vt)*sc;vt<=1?(this._flyToFrame=I(lc,this),this._move(this.unproject(g.add(C.subtract(g).multiplyBy(_p(yo)/ne)),$),this.getScaleZoom(G/Wr(yo),$),{flyTo:!0})):this._move(t,s)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),lc.call(this),this},flyToBounds:function(t,s){var d=this._getBoundsCenterZoom(t,s);return this.flyTo(d.center,d.zoom,s)},setMaxBounds:function(t){return t=X(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var s=this.options.minZoom;return this.options.minZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var s=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,s){this._enforcingBounds=!0;var d=this.getCenter(),g=this._limitCenter(d,this._zoom,X(t));return d.equals(g)||this.panTo(g,s),this._enforcingBounds=!1,this},panInside:function(t,s){s=s||{};var d=Z(s.paddingTopLeft||s.padding||[0,0]),g=Z(s.paddingBottomRight||s.padding||[0,0]),C=this.project(this.getCenter()),R=this.project(t),$=this.getPixelBounds(),G=W([$.min.add(d),$.max.subtract(g)]),Q=G.getSize();if(!G.contains(R)){this._enforcingBounds=!0;var ne=R.subtract(G.getCenter()),pe=G.extend(R).getSize().subtract(Q);C.x+=ne.x<0?-pe.x:pe.x,C.y+=ne.y<0?-pe.y:pe.y,this.panTo(this.unproject(C),s),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=r({animate:!1,pan:!0},t===!0?{animate:!0}:t);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),g=s.divideBy(2).round(),C=d.divideBy(2).round(),R=g.subtract(C);return!R.x&&!R.y?this:(t.animate&&t.pan?this.panBy(R):(t.pan&&this._rawPanBy(R),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=r({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=l(this._handleGeolocationResponse,this),d=l(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,d,t):navigator.geolocation.getCurrentPosition(s,d,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var s=t.code,d=t.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var s=t.coords.latitude,d=t.coords.longitude,g=new ee(s,d),C=g.toBounds(t.coords.accuracy*2),R=this._locateOptions;if(R.setView){var $=this.getBoundsZoom(C);this.setView(g,R.maxZoom?Math.min($,R.maxZoom):$)}var G={latlng:g,bounds:C,timestamp:t.timestamp};for(var Q in t.coords)typeof t.coords[Q]=="number"&&(G[Q]=t.coords[Q]);this.fire("locationfound",G)}},addHandler:function(t,s){if(!s)return this;var d=this[t]=new s(this);return this._handlers.push(d),this.options[t]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Fe(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,s){var d="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),g=Re("div",d,s||this._mapPane);return t&&(this._panes[t]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),s=this.unproject(t.getBottomLeft()),d=this.unproject(t.getTopRight());return new J(s,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,s,d){t=X(t),d=Z(d||[0,0]);var g=this.getZoom()||0,C=this.getMinZoom(),R=this.getMaxZoom(),$=t.getNorthWest(),G=t.getSouthEast(),Q=this.getSize().subtract(d),ne=W(this.project(G,g),this.project($,g)).getSize(),pe=me.any3d?this.options.zoomSnap:1,ke=Q.x/ne.x,ze=Q.y/ne.y,Zt=s?Math.max(ke,ze):Math.min(ke,ze);return g=this.getScaleZoom(Zt,g),pe&&(g=Math.round(g/(pe/100))*(pe/100),g=s?Math.ceil(g/pe)*pe:Math.floor(g/pe)*pe),Math.max(C,Math.min(R,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,s){var d=this._getTopLeftPoint(t,s);return new q(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,s){var d=this.options.crs;return s=s===void 0?this._zoom:s,d.scale(t)/d.scale(s)},getScaleZoom:function(t,s){var d=this.options.crs;s=s===void 0?this._zoom:s;var g=d.zoom(t*d.scale(s));return isNaN(g)?1/0:g},project:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(te(t),s)},unproject:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(Z(t),s)},layerPointToLatLng:function(t){var s=Z(t).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(t){var s=this.project(te(t))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(te(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(X(t))},distance:function(t,s){return this.options.crs.distance(te(t),te(s))},containerPointToLayerPoint:function(t){return Z(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Z(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var s=this.containerPointToLayerPoint(Z(t));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(te(t)))},mouseEventToContainerPoint:function(t){return Ml(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var s=this._container=Pn(t);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");De(s,"scroll",this._onScroll,this),this._containerId=u(s)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&me.any3d,Ne(t,"leaflet-container"+(me.touch?" leaflet-touch":"")+(me.retina?" leaflet-retina":"")+(me.ielt9?" leaflet-oldie":"")+(me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=sn(t,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),tt(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ne(t.markerPane,"leaflet-zoom-hide"),Ne(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,s,d){tt(this._mapPane,new V(0,0));var g=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var C=this._zoom!==s;this._moveStart(C,d)._move(t,s)._moveEnd(C),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(t,s){return t&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(t,s,d,g){s===void 0&&(s=this._zoom);var C=this._zoom!==s;return this._zoom=s,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),g?d&&d.pinch&&this.fire("zoom",d):((C||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){tt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[u(this._container)]=this;var s=t?de:De;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),me.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=I(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,s){for(var d=[],g,C=s==="mouseout"||s==="mouseover",R=t.target||t.srcElement,$=!1;R;){if(g=this._targets[u(R)],g&&(s==="click"||s==="preclick")&&this._draggableMoved(g)){$=!0;break}if(g&&g.listens(s,!0)&&(C&&!Da(R,t)||(d.push(g),C))||R===this._container)break;R=R.parentNode}return!d.length&&!$&&!C&&this.listens(s,!0)&&(d=[this]),d},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var s=t.target||t.srcElement;if(!(!this._loaded||s._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(s))){var d=t.type;d==="mousedown"&&$n(s),this._fireDOMEvent(t,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,s,d){if(t.type==="click"){var g=r({},t);g.type="preclick",this._fireDOMEvent(g,g.type,d)}var C=this._findEventTargets(t,s);if(d){for(var R=[],$=0;$<d.length;$++)d[$].listens(s,!0)&&R.push(d[$]);C=R.concat(C)}if(C.length){s==="contextmenu"&&kt(t);var G=C[0],Q={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var ne=G.getLatLng&&(!G._radius||G._radius<=10);Q.containerPoint=ne?this.latLngToContainerPoint(G.getLatLng()):this.mouseEventToContainerPoint(t),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=ne?G.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for($=0;$<C.length;$++)if(C[$].fire(s,Q,!0),Q.originalEvent._stopped||C[$].options.bubblingMouseEvents===!1&&y(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,s=this._handlers.length;t<s;t++)this._handlers[t].disable()},whenReady:function(t,s){return this._loaded?t.call(s||this,{target:this}):this.on("load",t,s),this},_getMapPanePos:function(){return ln(this._mapPane)||new V(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,s){var d=t&&s!==void 0?this._getNewPixelOrigin(t,s):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,s){var d=this.getSize()._divideBy(2);return this.project(t,s)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,s,d){var g=this._getNewPixelOrigin(d,s);return this.project(t,s)._subtract(g)},_latLngBoundsToNewLayerBounds:function(t,s,d){var g=this._getNewPixelOrigin(d,s);return W([this.project(t.getSouthWest(),s)._subtract(g),this.project(t.getNorthWest(),s)._subtract(g),this.project(t.getSouthEast(),s)._subtract(g),this.project(t.getNorthEast(),s)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,s,d){if(!d)return t;var g=this.project(t,s),C=this.getSize().divideBy(2),R=new q(g.subtract(C),g.add(C)),$=this._getBoundsOffset(R,d,s);return Math.abs($.x)<=1&&Math.abs($.y)<=1?t:this.unproject(g.add($),s)},_limitOffset:function(t,s){if(!s)return t;var d=this.getPixelBounds(),g=new q(d.min.add(t),d.max.add(t));return t.add(this._getBoundsOffset(g,s))},_getBoundsOffset:function(t,s,d){var g=W(this.project(s.getNorthEast(),d),this.project(s.getSouthWest(),d)),C=g.min.subtract(t.min),R=g.max.subtract(t.max),$=this._rebound(C.x,-R.x),G=this._rebound(C.y,-R.y);return new V($,G)},_rebound:function(t,s){return t+s>0?Math.round(t-s)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(s))},_limitZoom:function(t){var s=this.getMinZoom(),d=this.getMaxZoom(),g=me.any3d?this.options.zoomSnap:1;return g&&(t=Math.round(t/g)*g),Math.max(s,Math.min(d,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Qe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,s){var d=this._getCenterOffset(t)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,s),!0)},_createAnimProxy:function(){var t=this._proxy=Re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(s){var d=rn,g=this._proxy.style[d];bn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),g===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),s=this.getZoom();bn(this._proxy,this.project(t,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,s,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(s),C=this._getCenterOffset(t)._divideBy(1-1/g);return d.animate!==!0&&!this.getSize().contains(C)?!1:(I(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(t,s,!0)},this),!0)},_animateZoom:function(t,s,d,g){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=s,Ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:s,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Qe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Rh(t,s){return new Ze(t,s)}var En=T.extend({options:{position:"topright"},initialize:function(t){S(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var s=this._map;return s&&s.removeControl(this),this.options.position=t,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var s=this._container=this.onAdd(t),d=this.getPosition(),g=t._controlCorners[d];return Ne(s,"leaflet-control"),d.indexOf("bottom")!==-1?g.insertBefore(s,g.firstChild):g.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),xi=function(t){return new En(t)};Ze.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},s="leaflet-",d=this._controlContainer=Re("div",s+"control-container",this._container);function g(C,R){var $=s+C+" "+s+R;t[C+R]=Re("div",$,d)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Fe(this._controlCorners[t]);Fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Al=En.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,s,d,g){return d<g?-1:g<d?1:0}},initialize:function(t,s,d){S(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in t)this._addLayer(t[g],g);for(g in s)this._addLayer(s[g],g,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return En.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,s){return this._addLayer(t,s),this._map?this._update():this},addOverlay:function(t,s){return this._addLayer(t,s,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var s=this._getLayer(u(t));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Qe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Qe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",s=this._container=Re("div",t),d=this.options.collapsed;s.setAttribute("aria-haspopup",!0),In(s),Vr(s);var g=this._section=Re("section",t+"-list");d&&(this._map.on("click",this.collapse,this),De(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Re("a",t+"-toggle",s);C.href="#",C.title="Layers",C.setAttribute("role","button"),De(C,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){kt(R),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Re("div",t+"-base",g),this._separator=Re("div",t+"-separator",g),this._overlaysList=Re("div",t+"-overlays",g),s.appendChild(g)},_getLayer:function(t){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&u(this._layers[s].layer)===t)return this._layers[s]},_addLayer:function(t,s,d){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:s,overlay:d}),this.options.sortLayers&&this._layers.sort(l(function(g,C){return this.options.sortFunction(g.layer,C.layer,g.name,C.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Zn(this._baseLayersList),Zn(this._overlaysList),this._layerControlInputs=[];var t,s,d,g,C=0;for(d=0;d<this._layers.length;d++)g=this._layers[d],this._addItem(g),s=s||g.overlay,t=t||!g.overlay,C+=g.overlay?0:1;return this.options.hideSingleBase&&(t=t&&C>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=s&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var s=this._getLayer(u(t.target)),d=s.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;d&&this._map.fire(d,s)},_createRadioElement:function(t,s){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(s?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=d,g.firstChild},_addItem:function(t){var s=document.createElement("label"),d=this._map.hasLayer(t.layer),g;t.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=d):g=this._createRadioElement("leaflet-base-layers_"+u(this),d),this._layerControlInputs.push(g),g.layerId=u(t.layer),De(g,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+t.name;var R=document.createElement("span");s.appendChild(R),R.appendChild(g),R.appendChild(C);var $=t.overlay?this._overlaysList:this._baseLayersList;return $.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,s,d,g=[],C=[];this._handlingClick=!0;for(var R=t.length-1;R>=0;R--)s=t[R],d=this._getLayer(s.layerId).layer,s.checked?g.push(d):s.checked||C.push(d);for(R=0;R<C.length;R++)this._map.hasLayer(C[R])&&this._map.removeLayer(C[R]);for(R=0;R<g.length;R++)this._map.hasLayer(g[R])||this._map.addLayer(g[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,s,d,g=this._map.getZoom(),C=t.length-1;C>=0;C--)s=t[C],d=this._getLayer(s.layerId).layer,s.disabled=d.options.minZoom!==void 0&&g<d.options.minZoom||d.options.maxZoom!==void 0&&g>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,De(t,"click",kt),this.expand();var s=this;setTimeout(function(){de(t,"click",kt),s._preventClick=!1})}}),Hh=function(t,s,d){return new Al(t,s,d)},Pa=En.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var s="leaflet-control-zoom",d=Re("div",s+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,s+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,s+"-out",d,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,s,d,g,C){var R=Re("a",d,g);return R.innerHTML=t,R.href="#",R.title=s,R.setAttribute("role","button"),R.setAttribute("aria-label",s),In(R),De(R,"click",Tr),De(R,"click",C,this),De(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var t=this._map,s="leaflet-disabled";Qe(this._zoomInButton,s),Qe(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Ne(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Ne(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ze.mergeOptions({zoomControl:!0}),Ze.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Pa,this.addControl(this.zoomControl))});var zh=function(t){return new Pa(t)},Dl=En.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var s="leaflet-control-scale",d=Re("div",s),g=this.options;return this._addScales(g,s+"-line",d),t.on(g.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),d},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,s,d){t.metric&&(this._mScale=Re("div",s,d)),t.imperial&&(this._iScale=Re("div",s,d))},_update:function(){var t=this._map,s=t.getSize().y/2,d=t.distance(t.containerPointToLatLng([0,s]),t.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(d)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var s=this._getRoundNum(t),d=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,d,s/t)},_updateImperial:function(t){var s=t*3.2808399,d,g,C;s>5280?(d=s/5280,g=this._getRoundNum(d),this._updateScale(this._iScale,g+" mi",g/d)):(C=this._getRoundNum(s),this._updateScale(this._iScale,C+" ft",C/s))},_updateScale:function(t,s,d){t.style.width=Math.round(this.options.maxWidth*d)+"px",t.innerHTML=s},_getRoundNum:function(t){var s=Math.pow(10,(Math.floor(t)+"").length-1),d=t/s;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,s*d}}),Bh=function(t){return new Dl(t)},jh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Na=En.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(me.inlineSvg?jh+" ":"")+"Leaflet</a>"},initialize:function(t){S(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Re("div","leaflet-control-attribution"),In(this._container);for(var s in t._layers)t._layers[s].getAttribution&&this.addAttribution(t._layers[s].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var s in this._attributions)this._attributions[s]&&t.push(s);var d=[];this.options.prefix&&d.push(this.options.prefix),t.length&&d.push(t.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Ze.mergeOptions({attributionControl:!0}),Ze.addInitHook(function(){this.options.attributionControl&&new Na().addTo(this)});var Uh=function(t){return new Na(t)};En.Layers=Al,En.Zoom=Pa,En.Scale=Dl,En.Attribution=Na,xi.layers=Hh,xi.zoom=zh,xi.scale=Bh,xi.attribution=Uh;var On=T.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});On.addTo=function(t,s){return t.addHandler(s,this),this};var Vh={Events:j},Pl=me.touch?"touchstart mousedown":"mousedown",mr=K.extend({options:{clickTolerance:3},initialize:function(t,s,d,g){S(this,g),this._element=t,this._dragStartTarget=s||t,this._preventOutline=d},enable:function(){this._enabled||(De(this._dragStartTarget,Pl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(mr._dragging===this&&this.finishDrag(!0),de(this._dragStartTarget,Pl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!ur(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){mr._dragging===this&&this.finishDrag();return}if(!(mr._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(mr._dragging=this,this._preventOutline&&$n(this._element),xn(),Kn(),!this._moving)){this.fire("down");var s=t.touches?t.touches[0]:t,d=Ur(this._element);this._startPoint=new V(s.clientX,s.clientY),this._startPos=ln(this._element),this._parentScale=Mr(d);var g=t.type==="mousedown";De(document,g?"mousemove":"touchmove",this._onMove,this),De(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var s=t.touches&&t.touches.length===1?t.touches[0]:t,d=new V(s.clientX,s.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,kt(t),this._moved||(this.fire("dragstart"),this._moved=!0,Ne(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),tt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Qe(document.body,"leaflet-dragging"),this._lastTarget&&(Qe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),de(document,"mousemove touchmove",this._onMove,this),de(document,"mouseup touchend touchcancel",this._onUp,this),Nn(),Lt();var s=this._moved&&this._moving;this._moving=!1,mr._dragging=!1,s&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Nl(t,s,d){var g,C=[1,4,2,8],R,$,G,Q,ne,pe,ke,ze;for(R=0,pe=t.length;R<pe;R++)t[R]._code=kr(t[R],s);for(G=0;G<4;G++){for(ke=C[G],g=[],R=0,pe=t.length,$=pe-1;R<pe;$=R++)Q=t[R],ne=t[$],Q._code&ke?ne._code&ke||(ze=ao(ne,Q,ke,s,d),ze._code=kr(ze,s),g.push(ze)):(ne._code&ke&&(ze=ao(ne,Q,ke,s,d),ze._code=kr(ze,s),g.push(ze)),g.push(Q));t=g}return t}function Il(t,s){var d,g,C,R,$,G,Q,ne,pe;if(!t||t.length===0)throw new Error("latlngs not passed");cn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var ke=te([0,0]),ze=X(t),Zt=ze.getNorthWest().distanceTo(ze.getSouthWest())*ze.getNorthEast().distanceTo(ze.getNorthWest());Zt<1700&&(ke=Ia(t));var St=t.length,un=[];for(d=0;d<St;d++){var Wt=te(t[d]);un.push(s.project(te([Wt.lat-ke.lat,Wt.lng-ke.lng])))}for(G=Q=ne=0,d=0,g=St-1;d<St;g=d++)C=un[d],R=un[g],$=C.y*R.x-R.y*C.x,Q+=(C.x+R.x)*$,ne+=(C.y+R.y)*$,G+=$*3;G===0?pe=un[0]:pe=[Q/G,ne/G];var Wr=s.unproject(Z(pe));return te([Wr.lat+ke.lat,Wr.lng+ke.lng])}function Ia(t){for(var s=0,d=0,g=0,C=0;C<t.length;C++){var R=te(t[C]);s+=R.lat,d+=R.lng,g++}return te([s/g,d/g])}var Zh={__proto__:null,clipPolygon:Nl,polygonCenter:Il,centroid:Ia};function Ol(t,s){if(!s||!t.length)return t.slice();var d=s*s;return t=qh(t,d),t=Kh(t,d),t}function Rl(t,s,d){return Math.sqrt(wi(t,s,d,!0))}function Fh(t,s,d){return wi(t,s,d)}function Kh(t,s){var d=t.length,g=typeof Uint8Array!=void 0+""?Uint8Array:Array,C=new g(d);C[0]=C[d-1]=1,Oa(t,C,s,0,d-1);var R,$=[];for(R=0;R<d;R++)C[R]&&$.push(t[R]);return $}function Oa(t,s,d,g,C){var R=0,$,G,Q;for(G=g+1;G<=C-1;G++)Q=wi(t[G],t[g],t[C],!0),Q>R&&($=G,R=Q);R>d&&(s[$]=1,Oa(t,s,d,g,$),Oa(t,s,d,$,C))}function qh(t,s){for(var d=[t[0]],g=1,C=0,R=t.length;g<R;g++)$h(t[g],t[C])>s&&(d.push(t[g]),C=g);return C<R-1&&d.push(t[R-1]),d}var Hl;function zl(t,s,d,g,C){var R=g?Hl:kr(t,d),$=kr(s,d),G,Q,ne;for(Hl=$;;){if(!(R|$))return[t,s];if(R&$)return!1;G=R||$,Q=ao(t,s,G,d,C),ne=kr(Q,d),G===R?(t=Q,R=ne):(s=Q,$=ne)}}function ao(t,s,d,g,C){var R=s.x-t.x,$=s.y-t.y,G=g.min,Q=g.max,ne,pe;return d&8?(ne=t.x+R*(Q.y-t.y)/$,pe=Q.y):d&4?(ne=t.x+R*(G.y-t.y)/$,pe=G.y):d&2?(ne=Q.x,pe=t.y+$*(Q.x-t.x)/R):d&1&&(ne=G.x,pe=t.y+$*(G.x-t.x)/R),new V(ne,pe,C)}function kr(t,s){var d=0;return t.x<s.min.x?d|=1:t.x>s.max.x&&(d|=2),t.y<s.min.y?d|=4:t.y>s.max.y&&(d|=8),d}function $h(t,s){var d=s.x-t.x,g=s.y-t.y;return d*d+g*g}function wi(t,s,d,g){var C=s.x,R=s.y,$=d.x-C,G=d.y-R,Q=$*$+G*G,ne;return Q>0&&(ne=((t.x-C)*$+(t.y-R)*G)/Q,ne>1?(C=d.x,R=d.y):ne>0&&(C+=$*ne,R+=G*ne)),$=t.x-C,G=t.y-R,g?$*$+G*G:new V(C,R)}function cn(t){return!_(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Bl(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),cn(t)}function jl(t,s){var d,g,C,R,$,G,Q,ne;if(!t||t.length===0)throw new Error("latlngs not passed");cn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var pe=te([0,0]),ke=X(t),ze=ke.getNorthWest().distanceTo(ke.getSouthWest())*ke.getNorthEast().distanceTo(ke.getNorthWest());ze<1700&&(pe=Ia(t));var Zt=t.length,St=[];for(d=0;d<Zt;d++){var un=te(t[d]);St.push(s.project(te([un.lat-pe.lat,un.lng-pe.lng])))}for(d=0,g=0;d<Zt-1;d++)g+=St[d].distanceTo(St[d+1])/2;if(g===0)ne=St[0];else for(d=0,R=0;d<Zt-1;d++)if($=St[d],G=St[d+1],C=$.distanceTo(G),R+=C,R>g){Q=(R-g)/C,ne=[G.x-Q*(G.x-$.x),G.y-Q*(G.y-$.y)];break}var Wt=s.unproject(Z(ne));return te([Wt.lat+pe.lat,Wt.lng+pe.lng])}var Wh={__proto__:null,simplify:Ol,pointToSegmentDistance:Rl,closestPointOnSegment:Fh,clipSegment:zl,_getEdgeIntersection:ao,_getBitCode:kr,_sqClosestPointOnSegment:wi,isFlat:cn,_flat:Bl,polylineCenter:jl},Ra={project:function(t){return new V(t.lng,t.lat)},unproject:function(t){return new ee(t.y,t.x)},bounds:new q([-180,-90],[180,90])},Ha={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var s=Math.PI/180,d=this.R,g=t.lat*s,C=this.R_MINOR/d,R=Math.sqrt(1-C*C),$=R*Math.sin(g),G=Math.tan(Math.PI/4-g/2)/Math.pow((1-$)/(1+$),R/2);return g=-d*Math.log(Math.max(G,1e-10)),new V(t.lng*s*d,g)},unproject:function(t){for(var s=180/Math.PI,d=this.R,g=this.R_MINOR/d,C=Math.sqrt(1-g*g),R=Math.exp(-t.y/d),$=Math.PI/2-2*Math.atan(R),G=0,Q=.1,ne;G<15&&Math.abs(Q)>1e-7;G++)ne=C*Math.sin($),ne=Math.pow((1-ne)/(1+ne),C/2),Q=Math.PI/2-2*Math.atan(R*ne)-$,$+=Q;return new ee($*s,t.x*s/d)}},Gh={__proto__:null,LonLat:Ra,Mercator:Ha,SphericalMercator:ae},Yh=r({},ie,{code:"EPSG:3395",projection:Ha,transformation:function(){var t=.5/(Math.PI*Ha.R);return ye(t,.5,-t,.5)}()}),Ul=r({},ie,{code:"EPSG:4326",projection:Ra,transformation:ye(1/180,1,-1/180,.5)}),Xh=r({},re,{projection:Ra,transformation:ye(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,s){var d=s.lng-t.lng,g=s.lat-t.lat;return Math.sqrt(d*d+g*g)},infinite:!0});re.Earth=ie,re.EPSG3395=Yh,re.EPSG3857=oe,re.EPSG900913=ce,re.EPSG4326=Ul,re.Simple=Xh;var Ln=K.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[u(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[u(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var s=t.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var d=this.getEvents();s.on(d,this),this.once("remove",function(){s.off(d,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Ze.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var s=u(t);return this._layers[s]?this:(this._layers[s]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var s=u(t);return this._layers[s]?(this._loaded&&t.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return u(t)in this._layers},eachLayer:function(t,s){for(var d in this._layers)t.call(s,this._layers[d]);return this},_addLayers:function(t){t=t?_(t)?t:[t]:[];for(var s=0,d=t.length;s<d;s++)this.addLayer(t[s])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[u(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var s=u(t);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,s=-1/0,d=this._getZoomSpan();for(var g in this._zoomBoundLayers){var C=this._zoomBoundLayers[g].options;t=C.minZoom===void 0?t:Math.min(t,C.minZoom),s=C.maxZoom===void 0?s:Math.max(s,C.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=t===1/0?void 0:t,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Zr=Ln.extend({initialize:function(t,s){S(this,s),this._layers={};var d,g;if(t)for(d=0,g=t.length;d<g;d++)this.addLayer(t[d])},addLayer:function(t){var s=this.getLayerId(t);return this._layers[s]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var s=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(t){var s=typeof t=="number"?t:this.getLayerId(t);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var s=Array.prototype.slice.call(arguments,1),d,g;for(d in this._layers)g=this._layers[d],g[t]&&g[t].apply(g,s);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,s){for(var d in this._layers)t.call(s,this._layers[d]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return u(t)}}),Jh=function(t,s){return new Zr(t,s)},Gn=Zr.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Zr.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Zr.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new J;for(var s in this._layers){var d=this._layers[s];t.extend(d.getBounds?d.getBounds():d.getLatLng())}return t}}),Qh=function(t,s){return new Gn(t,s)},Fr=T.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){S(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,s){var d=this._getIconUrl(t);if(!d){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(d,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(g,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(t,s){var d=this.options,g=d[s+"Size"];typeof g=="number"&&(g=[g,g]);var C=Z(g),R=Z(s==="shadow"&&d.shadowAnchor||d.iconAnchor||C&&C.divideBy(2,!0));t.className="leaflet-marker-"+s+" "+(d.className||""),R&&(t.style.marginLeft=-R.x+"px",t.style.marginTop=-R.y+"px"),C&&(t.style.width=C.x+"px",t.style.height=C.y+"px")},_createImg:function(t,s){return s=s||document.createElement("img"),s.src=t,s},_getIconUrl:function(t){return me.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function ep(t){return new Fr(t)}var Ci=Fr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Ci.imagePath!="string"&&(Ci.imagePath=this._detectIconPath()),(this.options.imagePath||Ci.imagePath)+Fr.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var s=function(d,g,C){var R=g.exec(d);return R&&R[C]};return t=s(t,/^url\((['"])?(.+)\1\)$/,2),t&&s(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Re("div","leaflet-default-icon-path",document.body),s=sn(t,"background-image")||sn(t,"backgroundImage");if(document.body.removeChild(t),s=this._stripUrl(s),s)return s;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Vl=On.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new mr(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ne(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Qe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var s=this._marker,d=s._map,g=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,R=ln(s._icon),$=d.getPixelBounds(),G=d.getPixelOrigin(),Q=W($.min._subtract(G).add(C),$.max._subtract(G).subtract(C));if(!Q.contains(R)){var ne=Z((Math.max(Q.max.x,R.x)-Q.max.x)/($.max.x-Q.max.x)-(Math.min(Q.min.x,R.x)-Q.min.x)/($.min.x-Q.min.x),(Math.max(Q.max.y,R.y)-Q.max.y)/($.max.y-Q.max.y)-(Math.min(Q.min.y,R.y)-Q.min.y)/($.min.y-Q.min.y)).multiplyBy(g);d.panBy(ne,{animate:!1}),this._draggable._newPos._add(ne),this._draggable._startPos._add(ne),tt(s._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=I(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=I(this._adjustPan.bind(this,t)))},_onDrag:function(t){var s=this._marker,d=s._shadow,g=ln(s._icon),C=s._map.layerPointToLatLng(g);d&&tt(d,g),s._latlng=C,t.latlng=C,t.oldLatLng=this._oldLatLng,s.fire("move",t).fire("drag",t)},_onDragEnd:function(t){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),so=Ln.extend({options:{icon:new Ci,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,s){S(this,s),this._latlng=te(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var s=this._latlng;return this._latlng=te(t),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=t.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,t.title&&(d.title=t.title),d.tagName==="IMG"&&(d.alt=t.alt||"")),Ne(d,s),t.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&De(d,"focus",this._panOnFocus,this);var C=t.icon.createShadow(this._shadow),R=!1;C!==this._shadow&&(this._removeShadow(),R=!0),C&&(Ne(C,s),C.alt=""),this._shadow=C,t.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&R&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&de(this._icon,"focus",this._panOnFocus,this),Fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Fe(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&tt(this._icon,t),this._shadow&&tt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Vl)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Vl(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ot(this._icon,t),this._shadow&&Ot(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var s=this.options.icon.options,d=s.iconSize?Z(s.iconSize):Z(0,0),g=s.iconAnchor?Z(s.iconAnchor):Z(0,0);t.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:d.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tp(t,s){return new so(t,s)}var gr=Ln.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return S(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),lo=gr.extend({options:{fill:!0,radius:10},initialize:function(t,s){S(this,s),this._latlng=te(t),this._radius=this.options.radius},setLatLng:function(t){var s=this._latlng;return this._latlng=te(t),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var s=t&&t.radius||this._radius;return gr.prototype.setStyle.call(this,t),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,s=this._radiusY||t,d=this._clickTolerance(),g=[t+d,s+d];this._pxBounds=new q(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function np(t,s){return new lo(t,s)}var za=lo.extend({initialize:function(t,s,d){if(typeof s=="number"&&(s=r({},d,{radius:s})),S(this,s),this._latlng=te(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:gr.prototype.setStyle,_project:function(){var t=this._latlng.lng,s=this._latlng.lat,d=this._map,g=d.options.crs;if(g.distance===ie.distance){var C=Math.PI/180,R=this._mRadius/ie.R/C,$=d.project([s+R,t]),G=d.project([s-R,t]),Q=$.add(G).divideBy(2),ne=d.unproject(Q).lat,pe=Math.acos((Math.cos(R*C)-Math.sin(s*C)*Math.sin(ne*C))/(Math.cos(s*C)*Math.cos(ne*C)))/C;(isNaN(pe)||pe===0)&&(pe=R/Math.cos(Math.PI/180*s)),this._point=Q.subtract(d.getPixelOrigin()),this._radius=isNaN(pe)?0:Q.x-d.project([ne,t-pe]).x,this._radiusY=Q.y-$.y}else{var ke=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(ke).x}this._updateBounds()}});function rp(t,s,d){return new za(t,s,d)}var Yn=gr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,s){S(this,s),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var s=1/0,d=null,g=wi,C,R,$=0,G=this._parts.length;$<G;$++)for(var Q=this._parts[$],ne=1,pe=Q.length;ne<pe;ne++){C=Q[ne-1],R=Q[ne];var ke=g(t,C,R,!0);ke<s&&(s=ke,d=g(t,C,R))}return d&&(d.distance=Math.sqrt(s)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return jl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,s){return s=s||this._defaultShape(),t=te(t),s.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new J,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return cn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var s=[],d=cn(t),g=0,C=t.length;g<C;g++)d?(s[g]=te(t[g]),this._bounds.extend(s[g])):s[g]=this._convertLatLngs(t[g]);return s},_project:function(){var t=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),s=new V(t,t);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(t,s,d){var g=t[0]instanceof ee,C=t.length,R,$;if(g){for($=[],R=0;R<C;R++)$[R]=this._map.latLngToLayerPoint(t[R]),d.extend($[R]);s.push($)}else for(R=0;R<C;R++)this._projectLatlngs(t[R],s,d)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,d,g,C,R,$,G,Q;for(d=0,C=0,R=this._rings.length;d<R;d++)for(Q=this._rings[d],g=0,$=Q.length;g<$-1;g++)G=zl(Q[g],Q[g+1],t,g,!0),G&&(s[C]=s[C]||[],s[C].push(G[0]),(G[1]!==Q[g+1]||g===$-2)&&(s[C].push(G[1]),C++))}},_simplifyPoints:function(){for(var t=this._parts,s=this.options.smoothFactor,d=0,g=t.length;d<g;d++)t[d]=Ol(t[d],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,s){var d,g,C,R,$,G,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(d=0,R=this._parts.length;d<R;d++)for(G=this._parts[d],g=0,$=G.length,C=$-1;g<$;C=g++)if(!(!s&&g===0)&&Rl(t,G[C],G[g])<=Q)return!0;return!1}});function ip(t,s){return new Yn(t,s)}Yn._flat=Bl;var Kr=Yn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Il(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var s=Yn.prototype._convertLatLngs.call(this,t),d=s.length;return d>=2&&s[0]instanceof ee&&s[0].equals(s[d-1])&&s.pop(),s},_setLatLngs:function(t){Yn.prototype._setLatLngs.call(this,t),cn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return cn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,s=this.options.weight,d=new V(s,s);if(t=new q(t.min.subtract(d),t.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,C=this._rings.length,R;g<C;g++)R=Nl(this._rings[g],t,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var s=!1,d,g,C,R,$,G,Q,ne;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(R=0,Q=this._parts.length;R<Q;R++)for(d=this._parts[R],$=0,ne=d.length,G=ne-1;$<ne;G=$++)g=d[$],C=d[G],g.y>t.y!=C.y>t.y&&t.x<(C.x-g.x)*(t.y-g.y)/(C.y-g.y)+g.x&&(s=!s);return s||Yn.prototype._containsPoint.call(this,t,!0)}});function op(t,s){return new Kr(t,s)}var Xn=Gn.extend({initialize:function(t,s){S(this,s),this._layers={},t&&this.addData(t)},addData:function(t){var s=_(t)?t:t.features,d,g,C;if(s){for(d=0,g=s.length;d<g;d++)C=s[d],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var R=this.options;if(R.filter&&!R.filter(t))return this;var $=co(t,R);return $?($.feature=ho(t),$.defaultOptions=$.options,this.resetStyle($),R.onEachFeature&&R.onEachFeature(t,$),this.addLayer($)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=r({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(s){this._setLayerStyle(s,t)},this)},_setLayerStyle:function(t,s){t.setStyle&&(typeof s=="function"&&(s=s(t.feature)),t.setStyle(s))}});function co(t,s){var d=t.type==="Feature"?t.geometry:t,g=d?d.coordinates:null,C=[],R=s&&s.pointToLayer,$=s&&s.coordsToLatLng||Ba,G,Q,ne,pe;if(!g&&!d)return null;switch(d.type){case"Point":return G=$(g),Zl(R,t,G,s);case"MultiPoint":for(ne=0,pe=g.length;ne<pe;ne++)G=$(g[ne]),C.push(Zl(R,t,G,s));return new Gn(C);case"LineString":case"MultiLineString":return Q=uo(g,d.type==="LineString"?0:1,$),new Yn(Q,s);case"Polygon":case"MultiPolygon":return Q=uo(g,d.type==="Polygon"?1:2,$),new Kr(Q,s);case"GeometryCollection":for(ne=0,pe=d.geometries.length;ne<pe;ne++){var ke=co({geometry:d.geometries[ne],type:"Feature",properties:t.properties},s);ke&&C.push(ke)}return new Gn(C);case"FeatureCollection":for(ne=0,pe=d.features.length;ne<pe;ne++){var ze=co(d.features[ne],s);ze&&C.push(ze)}return new Gn(C);default:throw new Error("Invalid GeoJSON object.")}}function Zl(t,s,d,g){return t?t(s,d):new so(d,g&&g.markersInheritOptions&&g)}function Ba(t){return new ee(t[1],t[0],t[2])}function uo(t,s,d){for(var g=[],C=0,R=t.length,$;C<R;C++)$=s?uo(t[C],s-1,d):(d||Ba)(t[C]),g.push($);return g}function ja(t,s){return t=te(t),t.alt!==void 0?[m(t.lng,s),m(t.lat,s),m(t.alt,s)]:[m(t.lng,s),m(t.lat,s)]}function fo(t,s,d,g){for(var C=[],R=0,$=t.length;R<$;R++)C.push(s?fo(t[R],cn(t[R])?0:s-1,d,g):ja(t[R],g));return!s&&d&&C.length>0&&C.push(C[0].slice()),C}function qr(t,s){return t.feature?r({},t.feature,{geometry:s}):ho(s)}function ho(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Ua={toGeoJSON:function(t){return qr(this,{type:"Point",coordinates:ja(this.getLatLng(),t)})}};so.include(Ua),za.include(Ua),lo.include(Ua),Yn.include({toGeoJSON:function(t){var s=!cn(this._latlngs),d=fo(this._latlngs,s?1:0,!1,t);return qr(this,{type:(s?"Multi":"")+"LineString",coordinates:d})}}),Kr.include({toGeoJSON:function(t){var s=!cn(this._latlngs),d=s&&!cn(this._latlngs[0]),g=fo(this._latlngs,d?2:s?1:0,!0,t);return s||(g=[g]),qr(this,{type:(d?"Multi":"")+"Polygon",coordinates:g})}}),Zr.include({toMultiPoint:function(t){var s=[];return this.eachLayer(function(d){s.push(d.toGeoJSON(t).geometry.coordinates)}),qr(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(t){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(t);var d=s==="GeometryCollection",g=[];return this.eachLayer(function(C){if(C.toGeoJSON){var R=C.toGeoJSON(t);if(d)g.push(R.geometry);else{var $=ho(R);$.type==="FeatureCollection"?g.push.apply(g,$.features):g.push($)}}}),d?qr(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Fl(t,s){return new Xn(t,s)}var ap=Fl,po=Ln.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,s,d){this._url=t,this._bounds=X(s),S(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&$t(this._image),this},bringToBack:function(){return this._map&&Ut(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=X(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",s=this._image=t?this._url:Re("img");if(Ne(s,"leaflet-image-layer"),this._zoomAnimated&&Ne(s,"leaflet-zoom-animated"),this.options.className&&Ne(s,this.options.className),s.onselectstart=p,s.onmousemove=p,s.onload=l(this.fire,this,"load"),s.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(t){var s=this._map.getZoomScale(t.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;bn(this._image,d,s)},_reset:function(){var t=this._image,s=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=s.getSize();tt(t,s.min),t.style.width=d.x+"px",t.style.height=d.y+"px"},_updateOpacity:function(){Ot(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),sp=function(t,s,d){return new po(t,s,d)},Kl=po.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",s=this._image=t?this._url:Re("video");if(Ne(s,"leaflet-image-layer"),this._zoomAnimated&&Ne(s,"leaflet-zoom-animated"),this.options.className&&Ne(s,this.options.className),s.onselectstart=p,s.onmousemove=p,s.onloadeddata=l(this.fire,this,"load"),t){for(var d=s.getElementsByTagName("source"),g=[],C=0;C<d.length;C++)g.push(d[C].src);this._url=d.length>0?g:[s.src];return}_(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var $=Re("source");$.src=this._url[R],s.appendChild($)}}});function lp(t,s,d){return new Kl(t,s,d)}var ql=po.extend({_initImage:function(){var t=this._image=this._url;Ne(t,"leaflet-image-layer"),this._zoomAnimated&&Ne(t,"leaflet-zoom-animated"),this.options.className&&Ne(t,this.options.className),t.onselectstart=p,t.onmousemove=p}});function cp(t,s,d){return new ql(t,s,d)}var Rn=Ln.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,s){t&&(t instanceof ee||_(t))?(this._latlng=te(t),S(this,s)):(S(this,t),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ot(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ot(this._container,1),this.bringToFront(),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ot(this._container,0),this._removeTimeout=setTimeout(l(Fe,void 0,this._container),200)):Fe(this._container),this.options.interactive&&(Qe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=te(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$t(this._container),this},bringToBack:function(){return this._map&&Ut(this._container),this},_prepareOpen:function(t){var s=this._source;if(!s._map)return!1;if(s instanceof Gn){s=null;var d=this._source._layers;for(var g in d)if(d[g]._map){s=d[g];break}if(!s)return!1;this._source=s}if(!t)if(s.getCenter)t=s.getCenter();else if(s.getLatLng)t=s.getLatLng();else if(s.getBounds)t=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")t.innerHTML=s;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),s=Z(this.options.offset),d=this._getAnchor();this._zoomAnimated?tt(this._container,t.add(d)):s=s.add(t).add(d);var g=this._containerBottom=-s.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=g+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Ze.include({_initOverlay:function(t,s,d,g){var C=s;return C instanceof t||(C=new t(g).setContent(s)),d&&C.setLatLng(d),C}}),Ln.include({_initOverlay:function(t,s,d,g){var C=d;return C instanceof t?(S(C,g),C._source=this):(C=s&&!g?s:new t(g,this),C.setContent(d)),C}});var mo=Rn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Rn.prototype.openOn.call(this,t)},onAdd:function(t){Rn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof gr||this._source.on("preclick",Cn))},onRemove:function(t){Rn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof gr||this._source.off("preclick",Cn))},getEvents:function(){var t=Rn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",s=this._container=Re("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Re("div",t+"-content-wrapper",s);if(this._contentNode=Re("div",t+"-content",d),In(s),Vr(this._contentNode),De(s,"contextmenu",Cn),this._tipContainer=Re("div",t+"-tip-container",s),this._tip=Re("div",t+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Re("a",t+"-close-button",s);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',De(g,"click",function(C){kt(C),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,s=t.style;s.width="",s.whiteSpace="nowrap";var d=t.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),s.width=d+1+"px",s.whiteSpace="",s.height="";var g=t.offsetHeight,C=this.options.maxHeight,R="leaflet-popup-scrolled";C&&g>C?(s.height=C+"px",Ne(t,R)):Qe(t,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),d=this._getAnchor();tt(this._container,s.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,s=parseInt(sn(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+s,g=this._containerWidth,C=new V(this._containerLeft,-d-this._containerBottom);C._add(ln(this._container));var R=t.layerPointToContainerPoint(C),$=Z(this.options.autoPanPadding),G=Z(this.options.autoPanPaddingTopLeft||$),Q=Z(this.options.autoPanPaddingBottomRight||$),ne=t.getSize(),pe=0,ke=0;R.x+g+Q.x>ne.x&&(pe=R.x+g-ne.x+Q.x),R.x-pe-G.x<0&&(pe=R.x-G.x),R.y+d+Q.y>ne.y&&(ke=R.y+d-ne.y+Q.y),R.y-ke-G.y<0&&(ke=R.y-G.y),(pe||ke)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([pe,ke]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),up=function(t,s){return new mo(t,s)};Ze.mergeOptions({closePopupOnClick:!0}),Ze.include({openPopup:function(t,s,d){return this._initOverlay(mo,t,s,d).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Ln.include({bindPopup:function(t,s){return this._popup=this._initOverlay(mo,this._popup,t,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Gn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Tr(t);var s=t.layer||t.target;if(this._popup._source===s&&!(s instanceof gr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=s,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var go=Rn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Rn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Rn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Rn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",s=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Re("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var s,d,g=this._map,C=this._container,R=g.latLngToContainerPoint(g.getCenter()),$=g.layerPointToContainerPoint(t),G=this.options.direction,Q=C.offsetWidth,ne=C.offsetHeight,pe=Z(this.options.offset),ke=this._getAnchor();G==="top"?(s=Q/2,d=ne):G==="bottom"?(s=Q/2,d=0):G==="center"?(s=Q/2,d=ne/2):G==="right"?(s=0,d=ne/2):G==="left"?(s=Q,d=ne/2):$.x<R.x?(G="right",s=0,d=ne/2):(G="left",s=Q+(pe.x+ke.x)*2,d=ne/2),t=t.subtract(Z(s,d,!0)).add(pe).add(ke),Qe(C,"leaflet-tooltip-right"),Qe(C,"leaflet-tooltip-left"),Qe(C,"leaflet-tooltip-top"),Qe(C,"leaflet-tooltip-bottom"),Ne(C,"leaflet-tooltip-"+G),tt(C,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ot(this._container,t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(s)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),dp=function(t,s){return new go(t,s)};Ze.include({openTooltip:function(t,s,d){return this._initOverlay(go,t,s,d).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Ln.include({bindTooltip:function(t,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(go,this._tooltip,t,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var s=t?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[s](d),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Gn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&(De(s,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),De(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var s=t.latlng,d,g;this._tooltip.options.sticky&&t.originalEvent&&(d=this._map.mouseEventToContainerPoint(t.originalEvent),g=this._map.containerPointToLayerPoint(d),s=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(s)}});var $l=Fr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var s=t&&t.tagName==="DIV"?t:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Zn(s),s.appendChild(d.html)):s.innerHTML=d.html!==!1?d.html:"",d.bgPos){var g=Z(d.bgPos);s.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function fp(t){return new $l(t)}Fr.Default=Ci;var Ei=Ln.extend({options:{tileSize:256,opacity:1,updateWhenIdle:me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){S(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Fe(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($t(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ut(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof V?t:new V(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var s=this.getPane().children,d=-t(-1/0,1/0),g=0,C=s.length,R;g<C;g++)R=s[g].style.zIndex,s[g]!==this._container&&R&&(d=t(d,+R));isFinite(d)&&(this.options.zIndex=d+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!me.ielt9){Ot(this._container,this.options.opacity);var t=+new Date,s=!1,d=!1;for(var g in this._tiles){var C=this._tiles[g];if(!(!C.current||!C.loaded)){var R=Math.min(1,(t-C.loaded)/200);Ot(C.el,R),R<1?s=!0:(C.active?d=!0:this._onOpaqueTile(C),C.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),s&&(B(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,s=this.options.maxZoom;if(t!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===t?(this._levels[d].el.style.zIndex=s-Math.abs(t-d),this._onUpdateLevel(d)):(Fe(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var g=this._levels[t],C=this._map;return g||(g=this._levels[t]={},g.el=Re("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=s,g.origin=C.project(C.unproject(C.getPixelOrigin()),t).round(),g.zoom=t,this._setZoomTransform(g,C.getCenter(),C.getZoom()),p(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var t,s,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)s=this._tiles[t],s.retain=s.current;for(t in this._tiles)if(s=this._tiles[t],s.current&&!s.active){var g=s.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var s in this._tiles)this._tiles[s].coords.z===t&&this._removeTile(s)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Fe(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,s,d,g){var C=Math.floor(t/2),R=Math.floor(s/2),$=d-1,G=new V(+C,+R);G.z=+$;var Q=this._tileCoordsToKey(G),ne=this._tiles[Q];return ne&&ne.active?(ne.retain=!0,!0):(ne&&ne.loaded&&(ne.retain=!0),$>g?this._retainParent(C,R,$,g):!1)},_retainChildren:function(t,s,d,g){for(var C=2*t;C<2*t+2;C++)for(var R=2*s;R<2*s+2;R++){var $=new V(C,R);$.z=d+1;var G=this._tileCoordsToKey($),Q=this._tiles[G];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);d+1<g&&this._retainChildren(C,R,d+1,g)}},_resetView:function(t){var s=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var s=this.options;return s.minNativeZoom!==void 0&&t<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<t?s.maxNativeZoom:t},_setView:function(t,s,d,g){var C=Math.round(s);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var R=this.options.updateWhenZooming&&C!==this._tileZoom;(!g||R)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(t),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(t,s)},_setZoomTransforms:function(t,s){for(var d in this._levels)this._setZoomTransform(this._levels[d],t,s)},_setZoomTransform:function(t,s,d){var g=this._map.getZoomScale(d,t.zoom),C=t.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(s,d)).round();me.any3d?bn(t.el,C,g):tt(t.el,C)},_resetGrid:function(){var t=this._map,s=t.options.crs,d=this._tileSize=this.getTileSize(),g=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,s.wrapLng[0]],g).x/d.x),Math.ceil(t.project([0,s.wrapLng[1]],g).x/d.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([s.wrapLat[0],0],g).y/d.x),Math.ceil(t.project([s.wrapLat[1],0],g).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var s=this._map,d=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),g=s.getZoomScale(d,this._tileZoom),C=s.project(t,this._tileZoom).floor(),R=s.getSize().divideBy(g*2);return new q(C.subtract(R),C.add(R))},_update:function(t){var s=this._map;if(s){var d=this._clampZoom(s.getZoom());if(t===void 0&&(t=s.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(t),C=this._pxBoundsToTileRange(g),R=C.getCenter(),$=[],G=this.options.keepBuffer,Q=new q(C.getBottomLeft().subtract([G,-G]),C.getTopRight().add([G,-G]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ne in this._tiles){var pe=this._tiles[ne].coords;(pe.z!==this._tileZoom||!Q.contains(new V(pe.x,pe.y)))&&(this._tiles[ne].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(t,d);return}for(var ke=C.min.y;ke<=C.max.y;ke++)for(var ze=C.min.x;ze<=C.max.x;ze++){var Zt=new V(ze,ke);if(Zt.z=this._tileZoom,!!this._isValidTile(Zt)){var St=this._tiles[this._tileCoordsToKey(Zt)];St?St.current=!0:$.push(Zt)}}if($.sort(function(Wt,Wr){return Wt.distanceTo(R)-Wr.distanceTo(R)}),$.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var un=document.createDocumentFragment();for(ze=0;ze<$.length;ze++)this._addTile($[ze],un);this._level.el.appendChild(un)}}}},_isValidTile:function(t){var s=this._map.options.crs;if(!s.infinite){var d=this._globalTileRange;if(!s.wrapLng&&(t.x<d.min.x||t.x>d.max.x)||!s.wrapLat&&(t.y<d.min.y||t.y>d.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(t);return X(this.options.bounds).overlaps(g)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var s=this._map,d=this.getTileSize(),g=t.scaleBy(d),C=g.add(d),R=s.unproject(g,t.z),$=s.unproject(C,t.z);return[R,$]},_tileCoordsToBounds:function(t){var s=this._tileCoordsToNwSe(t),d=new J(s[0],s[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var s=t.split(":"),d=new V(+s[0],+s[1]);return d.z=+s[2],d},_removeTile:function(t){var s=this._tiles[t];s&&(Fe(s.el),delete this._tiles[t],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Ne(t,"leaflet-tile");var s=this.getTileSize();t.style.width=s.x+"px",t.style.height=s.y+"px",t.onselectstart=p,t.onmousemove=p,me.ielt9&&this.options.opacity<1&&Ot(t,this.options.opacity)},_addTile:function(t,s){var d=this._getTilePos(t),g=this._tileCoordsToKey(t),C=this.createTile(this._wrapCoords(t),l(this._tileReady,this,t));this._initTile(C),this.createTile.length<2&&I(l(this._tileReady,this,t,null,C)),tt(C,d),this._tiles[g]={el:C,coords:t,current:!0},s.appendChild(C),this.fire("tileloadstart",{tile:C,coords:t})},_tileReady:function(t,s,d){s&&this.fire("tileerror",{error:s,tile:d,coords:t});var g=this._tileCoordsToKey(t);d=this._tiles[g],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Ot(d.el,0),B(this._fadeFrame),this._fadeFrame=I(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),s||(Ne(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),me.ielt9||!this._map._fadeAnimated?I(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var s=new V(this._wrapX?h(t.x,this._wrapX):t.x,this._wrapY?h(t.y,this._wrapY):t.y);return s.z=t.z,s},_pxBoundsToTileRange:function(t){var s=this.getTileSize();return new q(t.min.unscaleBy(s).floor(),t.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function hp(t){return new Ei(t)}var $r=Ei.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,s){this._url=t,s=S(this,s),s.detectRetina&&me.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,s){return this._url===t&&s===void 0&&(s=!0),this._url=t,s||this.redraw(),this},createTile:function(t,s){var d=document.createElement("img");return De(d,"load",l(this._tileOnLoad,this,s,d)),De(d,"error",l(this._tileOnError,this,s,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(t),d},getTileUrl:function(t){var s={r:me.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-t.y;this.options.tms&&(s.y=d),s["-y"]=d}return w(this._url,r(s,this.options))},_tileOnLoad:function(t,s){me.ielt9?setTimeout(l(t,this,null,s),0):t(null,s)},_tileOnError:function(t,s,d){var g=this.options.errorTileUrl;g&&s.getAttribute("src")!==g&&(s.src=g),t(d,s)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,s=this.options.maxZoom,d=this.options.zoomReverse,g=this.options.zoomOffset;return d&&(t=s-t),t+g},_getSubdomain:function(t){var s=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var t,s;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(s=this._tiles[t].el,s.onload=p,s.onerror=p,!s.complete)){s.src=x;var d=this._tiles[t].coords;Fe(s),delete this._tiles[t],this.fire("tileabort",{tile:s,coords:d})}},_removeTile:function(t){var s=this._tiles[t];if(s)return s.el.setAttribute("src",x),Ei.prototype._removeTile.call(this,t)},_tileReady:function(t,s,d){if(!(!this._map||d&&d.getAttribute("src")===x))return Ei.prototype._tileReady.call(this,t,s,d)}});function Wl(t,s){return new $r(t,s)}var Gl=$r.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,s){this._url=t;var d=r({},this.defaultWmsParams);for(var g in s)g in this.options||(d[g]=s[g]);s=S(this,s);var C=s.detectRetina&&me.retina?2:1,R=this.getTileSize();d.width=R.x*C,d.height=R.y*C,this.wmsParams=d},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,$r.prototype.onAdd.call(this,t)},getTileUrl:function(t){var s=this._tileCoordsToNwSe(t),d=this._crs,g=W(d.project(s[0]),d.project(s[1])),C=g.min,R=g.max,$=(this._wmsVersion>=1.3&&this._crs===Ul?[C.y,C.x,R.y,R.x]:[C.x,C.y,R.x,R.y]).join(","),G=$r.prototype.getTileUrl.call(this,t);return G+P(this.wmsParams,G,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+$},setParams:function(t,s){return r(this.wmsParams,t),s||this.redraw(),this}});function pp(t,s){return new Gl(t,s)}$r.WMS=Gl,Wl.wms=pp;var Jn=Ln.extend({options:{padding:.1},initialize:function(t){S(this,t),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,s){var d=this._map.getZoomScale(s,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,s),R=g.multiplyBy(-d).add(C).subtract(this._map._getNewPixelOrigin(t,s));me.any3d?bn(this._container,R,d):tt(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,s=this._map.getSize(),d=this._map.containerPointToLayerPoint(s.multiplyBy(-t)).round();this._bounds=new q(d,d.add(s.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yl=Jn.extend({options:{tolerance:0},getEvents:function(){var t=Jn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Jn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");De(t,"mousemove",this._onMouseMove,this),De(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),De(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,Fe(this._container),de(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var s in this._layers)t=this._layers[s],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jn.prototype._update.call(this);var t=this._bounds,s=this._container,d=t.getSize(),g=me.retina?2:1;tt(s,t.min),s.width=g*d.x,s.height=g*d.y,s.style.width=d.x+"px",s.style.height=d.y+"px",me.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Jn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[u(t)]=t;var s=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var s=t._order,d=s.next,g=s.prev;d?d.prev=g:this._drawLast=g,g?g.next=d:this._drawFirst=d,delete t._order,delete this._layers[u(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var s=t.options.dashArray.split(/[, ]+/),d=[],g,C;for(C=0;C<s.length;C++){if(g=Number(s[C]),isNaN(g))return;d.push(g)}t.options._dashArray=d}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||I(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var s=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(t._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(t._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var s=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,s=this._redrawBounds;if(this._ctx.save(),s){var d=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)t=g.layer,(!s||t._pxBounds&&t._pxBounds.intersects(s))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,s){if(this._drawing){var d,g,C,R,$=t._parts,G=$.length,Q=this._ctx;if(G){for(Q.beginPath(),d=0;d<G;d++){for(g=0,C=$[d].length;g<C;g++)R=$[d][g],Q[g?"lineTo":"moveTo"](R.x,R.y);s&&Q.closePath()}this._fillStroke(Q,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var s=t._point,d=this._ctx,g=Math.max(Math.round(t._radius),1),C=(Math.max(Math.round(t._radiusY),1)||g)/g;C!==1&&(d.save(),d.scale(1,C)),d.beginPath(),d.arc(s.x,s.y/C,g,0,Math.PI*2,!1),C!==1&&d.restore(),this._fillStroke(d,t)}},_fillStroke:function(t,s){var d=s.options;d.fill&&(t.globalAlpha=d.fillOpacity,t.fillStyle=d.fillColor||d.color,t.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(t.setLineDash&&t.setLineDash(s.options&&s.options._dashArray||[]),t.globalAlpha=d.opacity,t.lineWidth=d.weight,t.strokeStyle=d.color,t.lineCap=d.lineCap,t.lineJoin=d.lineJoin,t.stroke())},_onClick:function(t){for(var s=this._map.mouseEventToLayerPoint(t),d,g,C=this._drawFirst;C;C=C.next)d=C.layer,d.options.interactive&&d._containsPoint(s)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(d))&&(g=d);this._fireEvent(g?[g]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,s)}},_handleMouseOut:function(t){var s=this._hoveredLayer;s&&(Qe(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,s){if(!this._mouseHoverThrottled){for(var d,g,C=this._drawFirst;C;C=C.next)d=C.layer,d.options.interactive&&d._containsPoint(s)&&(g=d);g!==this._hoveredLayer&&(this._handleMouseOut(t),g&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([g],t,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,s,d){this._map._fireDOMEvent(s,d||s.type,t)},_bringToFront:function(t){var s=t._order;if(s){var d=s.next,g=s.prev;if(d)d.prev=g;else return;g?g.next=d:d&&(this._drawFirst=d),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(t)}},_bringToBack:function(t){var s=t._order;if(s){var d=s.next,g=s.prev;if(g)g.next=d;else return;d?d.prev=g:g&&(this._drawLast=g),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(t)}}});function Xl(t){return me.canvas?new Yl(t):null}var Li=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),mp={_initContainer:function(){this._container=Re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Jn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var s=t._container=Li("shape");Ne(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",t._path=Li("path"),s.appendChild(t._path),this._updateStyle(t),this._layers[u(t)]=t},_addPath:function(t){var s=t._container;this._container.appendChild(s),t.options.interactive&&t.addInteractiveTarget(s)},_removePath:function(t){var s=t._container;Fe(s),t.removeInteractiveTarget(s),delete this._layers[u(t)]},_updateStyle:function(t){var s=t._stroke,d=t._fill,g=t.options,C=t._container;C.stroked=!!g.stroke,C.filled=!!g.fill,g.stroke?(s||(s=t._stroke=Li("stroke")),C.appendChild(s),s.weight=g.weight+"px",s.color=g.color,s.opacity=g.opacity,g.dashArray?s.dashStyle=_(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=g.lineCap.replace("butt","flat"),s.joinstyle=g.lineJoin):s&&(C.removeChild(s),t._stroke=null),g.fill?(d||(d=t._fill=Li("fill")),C.appendChild(d),d.color=g.fillColor||g.color,d.opacity=g.fillOpacity):d&&(C.removeChild(d),t._fill=null)},_updateCircle:function(t){var s=t._point.round(),d=Math.round(t._radius),g=Math.round(t._radiusY||d);this._setPath(t,t._empty()?"M0 0":"AL "+s.x+","+s.y+" "+d+","+g+" 0,"+65535*360)},_setPath:function(t,s){t._path.v=s},_bringToFront:function(t){$t(t._container)},_bringToBack:function(t){Ut(t._container)}},vo=me.vml?Li:_e,Si=Jn.extend({_initContainer:function(){this._container=vo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Fe(this._container),de(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jn.prototype._update.call(this);var t=this._bounds,s=t.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,d.setAttribute("width",s.x),d.setAttribute("height",s.y)),tt(d,t.min),d.setAttribute("viewBox",[t.min.x,t.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(t){var s=t._path=vo("path");t.options.className&&Ne(s,t.options.className),t.options.interactive&&Ne(s,"leaflet-interactive"),this._updateStyle(t),this._layers[u(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Fe(t._path),t.removeInteractiveTarget(t._path),delete this._layers[u(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var s=t._path,d=t.options;s&&(d.stroke?(s.setAttribute("stroke",d.color),s.setAttribute("stroke-opacity",d.opacity),s.setAttribute("stroke-width",d.weight),s.setAttribute("stroke-linecap",d.lineCap),s.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?s.setAttribute("stroke-dasharray",d.dashArray):s.removeAttribute("stroke-dasharray"),d.dashOffset?s.setAttribute("stroke-dashoffset",d.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),d.fill?(s.setAttribute("fill",d.fillColor||d.color),s.setAttribute("fill-opacity",d.fillOpacity),s.setAttribute("fill-rule",d.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(t,s){this._setPath(t,Pe(t._parts,s))},_updateCircle:function(t){var s=t._point,d=Math.max(Math.round(t._radius),1),g=Math.max(Math.round(t._radiusY),1)||d,C="a"+d+","+g+" 0 1,0 ",R=t._empty()?"M0 0":"M"+(s.x-d)+","+s.y+C+d*2+",0 "+C+-d*2+",0 ";this._setPath(t,R)},_setPath:function(t,s){t._path.setAttribute("d",s)},_bringToFront:function(t){$t(t._path)},_bringToBack:function(t){Ut(t._path)}});me.vml&&Si.include(mp);function Jl(t){return me.svg||me.vml?new Si(t):null}Ze.include({getRenderer:function(t){var s=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var s=this._paneRenderers[t];return s===void 0&&(s=this._createRenderer({pane:t}),this._paneRenderers[t]=s),s},_createRenderer:function(t){return this.options.preferCanvas&&Xl(t)||Jl(t)}});var Ql=Kr.extend({initialize:function(t,s){Kr.prototype.initialize.call(this,this._boundsToLatLngs(t),s)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=X(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function gp(t,s){return new Ql(t,s)}Si.create=vo,Si.pointsToPath=Pe,Xn.geometryToLayer=co,Xn.coordsToLatLng=Ba,Xn.coordsToLatLngs=uo,Xn.latLngToCoords=ja,Xn.latLngsToCoords=fo,Xn.getFeature=qr,Xn.asFeature=ho,Ze.mergeOptions({boxZoom:!0});var ec=On.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){De(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){de(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Kn(),xn(),this._startPoint=this._map.mouseEventToContainerPoint(t),De(document,{contextmenu:Tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Re("div","leaflet-zoom-box",this._container),Ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var s=new q(this._point,this._startPoint),d=s.getSize();tt(this._box,s.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Fe(this._box),Qe(this._container,"leaflet-crosshair")),Lt(),Nn(),de(document,{contextmenu:Tr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var s=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ze.addInitHook("addHandler","boxZoom",ec),Ze.mergeOptions({doubleClickZoom:!0});var tc=On.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var s=this._map,d=s.getZoom(),g=s.options.zoomDelta,C=t.originalEvent.shiftKey?d-g:d+g;s.options.doubleClickZoom==="center"?s.setZoom(C):s.setZoomAround(t.containerPoint,C)}});Ze.addInitHook("addHandler","doubleClickZoom",tc),Ze.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var nc=On.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new mr(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Qe(this._map._container,"leaflet-grab"),Qe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=X(this._map.options.maxBounds);this._offsetLimit=W(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var s=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(s),this._prunePositions(s)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,s){return t-(t-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;t.x<s.min.x&&(t.x=this._viscousLimit(t.x,s.min.x)),t.y<s.min.y&&(t.y=this._viscousLimit(t.y,s.min.y)),t.x>s.max.x&&(t.x=this._viscousLimit(t.x,s.max.x)),t.y>s.max.y&&(t.y=this._viscousLimit(t.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,s=Math.round(t/2),d=this._initialWorldOffset,g=this._draggable._newPos.x,C=(g-s+d)%t+s-d,R=(g+s+d)%t-s-d,$=Math.abs(C+d)<Math.abs(R+d)?C:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=$},_onDragEnd:function(t){var s=this._map,d=s.options,g=!d.inertia||t.noInertia||this._times.length<2;if(s.fire("dragend",t),g)s.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,$=d.easeLinearity,G=C.multiplyBy($/R),Q=G.distanceTo([0,0]),ne=Math.min(d.inertiaMaxSpeed,Q),pe=G.multiplyBy(ne/Q),ke=ne/(d.inertiaDeceleration*$),ze=pe.multiplyBy(-ke/2).round();!ze.x&&!ze.y?s.fire("moveend"):(ze=s._limitOffset(ze,s.options.maxBounds),I(function(){s.panBy(ze,{duration:ke,easeLinearity:$,noMoveStart:!0,animate:!0})}))}}});Ze.addInitHook("addHandler","dragging",nc),Ze.mergeOptions({keyboard:!0,keyboardPanDelta:80});var rc=On.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),De(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),de(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,s=document.documentElement,d=t.scrollTop||s.scrollTop,g=t.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(g,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var s=this._panKeys={},d=this.keyCodes,g,C;for(g=0,C=d.left.length;g<C;g++)s[d.left[g]]=[-1*t,0];for(g=0,C=d.right.length;g<C;g++)s[d.right[g]]=[t,0];for(g=0,C=d.down.length;g<C;g++)s[d.down[g]]=[0,t];for(g=0,C=d.up.length;g<C;g++)s[d.up[g]]=[0,-1*t]},_setZoomDelta:function(t){var s=this._zoomKeys={},d=this.keyCodes,g,C;for(g=0,C=d.zoomIn.length;g<C;g++)s[d.zoomIn[g]]=t;for(g=0,C=d.zoomOut.length;g<C;g++)s[d.zoomOut[g]]=-t},_addHooks:function(){De(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){de(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var s=t.keyCode,d=this._map,g;if(s in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(g=this._panKeys[s],t.shiftKey&&(g=Z(g).multiplyBy(3)),d.options.maxBounds&&(g=d._limitOffset(Z(g),d.options.maxBounds)),d.options.worldCopyJump){var C=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(g)));d.panTo(C)}else d.panBy(g)}else if(s in this._zoomKeys)d.setZoom(d.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;Tr(t)}}});Ze.addInitHook("addHandler","keyboard",rc),Ze.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ic=On.extend({addHooks:function(){De(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){de(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var s=Tl(t),d=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var g=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),g),Tr(t)},_performZoom:function(){var t=this._map,s=t.getZoom(),d=this._map.options.zoomSnap||0;t._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,R=d?Math.ceil(C/d)*d:C,$=t._limitZoom(s+(this._delta>0?R:-R))-s;this._delta=0,this._startTime=null,$&&(t.options.scrollWheelZoom==="center"?t.setZoom(s+$):t.setZoomAround(this._lastMousePos,s+$))}});Ze.addInitHook("addHandler","scrollWheelZoom",ic);var vp=600;Ze.mergeOptions({tapHold:me.touchNative&&me.safari&&me.mobile,tapTolerance:15});var oc=On.extend({addHooks:function(){De(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){de(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var s=t.touches[0];this._startPos=this._newPos=new V(s.clientX,s.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(De(document,"touchend",kt),De(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),vp),De(document,"touchend touchcancel contextmenu",this._cancel,this),De(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){de(document,"touchend",kt),de(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),de(document,"touchend touchcancel contextmenu",this._cancel,this),de(document,"touchmove",this._onMove,this)},_onMove:function(t){var s=t.touches[0];this._newPos=new V(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,s){var d=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});d._simulated=!0,s.target.dispatchEvent(d)}});Ze.addInitHook("addHandler","tapHold",oc),Ze.mergeOptions({touchZoom:me.touch,bounceAtZoomLimits:!0});var ac=On.extend({addHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),De(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Qe(this._map._container,"leaflet-touch-zoom"),de(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var s=this._map;if(!(!t.touches||t.touches.length!==2||s._animatingZoom||this._zooming)){var d=s.mouseEventToContainerPoint(t.touches[0]),g=s.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(d.add(g)._divideBy(2))),this._startDist=d.distanceTo(g),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),De(document,"touchmove",this._onTouchMove,this),De(document,"touchend touchcancel",this._onTouchEnd,this),kt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var s=this._map,d=s.mouseEventToContainerPoint(t.touches[0]),g=s.mouseEventToContainerPoint(t.touches[1]),C=d.distanceTo(g)/this._startDist;if(this._zoom=s.getScaleZoom(C,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&C<1||this._zoom>s.getMaxZoom()&&C>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var R=d._add(g)._divideBy(2)._subtract(this._centerPoint);if(C===1&&R.x===0&&R.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var $=l(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=I($,this,!0),kt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),de(document,"touchmove",this._onTouchMove,this),de(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ze.addInitHook("addHandler","touchZoom",ac),Ze.BoxZoom=ec,Ze.DoubleClickZoom=tc,Ze.Drag=nc,Ze.Keyboard=rc,Ze.ScrollWheelZoom=ic,Ze.TapHold=oc,Ze.TouchZoom=ac,o.Bounds=q,o.Browser=me,o.CRS=re,o.Canvas=Yl,o.Circle=za,o.CircleMarker=lo,o.Class=T,o.Control=En,o.DivIcon=$l,o.DivOverlay=Rn,o.DomEvent=Oh,o.DomUtil=bi,o.Draggable=mr,o.Evented=K,o.FeatureGroup=Gn,o.GeoJSON=Xn,o.GridLayer=Ei,o.Handler=On,o.Icon=Fr,o.ImageOverlay=po,o.LatLng=ee,o.LatLngBounds=J,o.Layer=Ln,o.LayerGroup=Zr,o.LineUtil=Wh,o.Map=Ze,o.Marker=so,o.Mixin=Vh,o.Path=gr,o.Point=V,o.PolyUtil=Zh,o.Polygon=Kr,o.Polyline=Yn,o.Popup=mo,o.PosAnimation=kl,o.Projection=Gh,o.Rectangle=Ql,o.Renderer=Jn,o.SVG=Si,o.SVGOverlay=ql,o.TileLayer=$r,o.Tooltip=go,o.Transformation=le,o.Util=M,o.VideoOverlay=Kl,o.bind=l,o.bounds=W,o.canvas=Xl,o.circle=rp,o.circleMarker=np,o.control=xi,o.divIcon=fp,o.extend=r,o.featureGroup=Qh,o.geoJSON=Fl,o.geoJson=ap,o.gridLayer=hp,o.icon=ep,o.imageOverlay=sp,o.latLng=te,o.latLngBounds=X,o.layerGroup=Jh,o.map=Rh,o.marker=tp,o.point=Z,o.polygon=op,o.polyline=ip,o.popup=up,o.rectangle=gp,o.setOptions=S,o.stamp=u,o.svg=Jl,o.svgOverlay=cp,o.tileLayer=Wl,o.tooltip=dp,o.transformation=ye,o.version=i,o.videoOverlay=lp;var yp=window.L;o.noConflict=function(){return window.L=yp,this},window.L=o})})(us,us.exports);var lr=us.exports;const oi=pi(lr);function jr(e,n,o){return Object.freeze({instance:e,context:n,container:o})}function qs(e,n){return n==null?function(i,r){const a=k.useRef();return a.current||(a.current=e(i,r)),a}:function(i,r){const a=k.useRef();a.current||(a.current=e(i,r));const l=k.useRef(i),{instance:c}=a.current;return k.useEffect(function(){l.current!==i&&(n(c,i,l.current),l.current=i)},[c,i,r]),a}}function ed(e,n){k.useEffect(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){var a;(a=n.layerContainer)==null||a.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function td(e){return function(o){const i=Fs(),r=e(Ks(o,i),i);return Np(i.map,o.attribution),Qu(r.current,o.eventHandlers),ed(r.current,i),r}}function Hp(e,n){const o=k.useRef();k.useEffect(function(){if(n.pathOptions!==o.current){const r=n.pathOptions??{};e.instance.setStyle(r),o.current=r}},[e,n])}function zp(e){return function(o){const i=Fs(),r=e(Ks(o,i),i);return Qu(r.current,o.eventHandlers),ed(r.current,i),Hp(r.current,o),r}}function nd(e,n){const o=qs(e,n),i=td(o);return Ju(i)}function ia(e,n){const o=qs(e,n),i=zp(o);return Ju(i)}function Bp(e,n){const o=qs(e,n),i=td(o);return Rp(i)}function jp(e,n,o){const{opacity:i,zIndex:r}=n;i!=null&&i!==o.opacity&&e.setOpacity(i),r!=null&&r!==o.zIndex&&e.setZIndex(r)}function Up(e,n,o){n.bounds instanceof lr.LatLngBounds&&n.bounds!==o.bounds&&e.setBounds(n.bounds),n.opacity!=null&&n.opacity!==o.opacity&&e.setOpacity(n.opacity),n.zIndex!=null&&n.zIndex!==o.zIndex&&e.setZIndex(n.zIndex)}function Vp(){return Fs().map}function Zp(e){const n=Vp();return k.useEffect(function(){return n.on(e),function(){n.off(e)}},[n,e]),n}const Fp=ia(function({center:n,children:o,...i},r){const a=new lr.Circle(n,i);return jr(a,mi(r,{overlayContainer:a}))},Gu),Kp=ia(function({center:n,children:o,...i},r){const a=new lr.CircleMarker(n,i);return jr(a,mi(r,{overlayContainer:a}))},Gu);function ds(){return ds=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},ds.apply(this,arguments)}function qp({bounds:e,boundsOptions:n,center:o,children:i,className:r,id:a,placeholder:l,style:c,whenReady:u,zoom:f,...h},p){const[m]=k.useState({className:r,id:a,style:c}),[v,E]=k.useState(null);k.useImperativeHandle(p,()=>(v==null?void 0:v.map)??null,[v]);const S=k.useCallback(b=>{if(b!==null&&v===null){const w=new lr.Map(b,h);o!=null&&f!=null?w.setView(o,f):e!=null&&w.fitBounds(e,n),u!=null&&w.whenReady(u),E(Op(w))}},[]);k.useEffect(()=>()=>{v==null||v.map.remove()},[v]);const P=v?Y.createElement(Xu,{value:v},i):l??null;return Y.createElement("div",ds({},m,{ref:S}),P)}const $p=k.forwardRef(qp),Za=nd(function({position:n,...o},i){const r=new lr.Marker(n,o);return jr(r,mi(i,{overlayContainer:r}))},function(n,o,i){o.position!==i.position&&n.setLatLng(o.position),o.icon!=null&&o.icon!==i.icon&&n.setIcon(o.icon),o.zIndexOffset!=null&&o.zIndexOffset!==i.zIndexOffset&&n.setZIndexOffset(o.zIndexOffset),o.opacity!=null&&o.opacity!==i.opacity&&n.setOpacity(o.opacity),n.dragging!=null&&o.draggable!==i.draggable&&(o.draggable===!0?n.dragging.enable():n.dragging.disable())}),Wp=ia(function({positions:n,...o},i){const r=new lr.Polygon(n,o);return jr(r,mi(i,{overlayContainer:r}))},function(n,o,i){o.positions!==i.positions&&n.setLatLngs(o.positions)}),Gp=ia(function({bounds:n,...o},i){const r=new lr.Rectangle(n,o);return jr(r,mi(i,{overlayContainer:r}))},function(n,o,i){o.bounds!==i.bounds&&n.setBounds(o.bounds)}),_o=Bp(function({url:n,...o},i){const r=new lr.TileLayer(n,Ks(o,i));return jr(r,i)},function(n,o,i){jp(n,o,i);const{url:r}=o;r!=null&&r!==i.url&&n.setUrl(r)}),Yp=[31.22,121.39],Xp={url:"https://t{s}.tianditu.gov.cn/DataServer?T=vec_w&X={x}&Y={y}&L={z}&tk=d6f4af9510cc1bde9a1f6541150167b3",subdomains:["0","1","2","3","4","5","6","7"]},Jp={url:"https://t{s}.tianditu.gov.cn/DataServer?T=cva_w&X={x}&Y={y}&L={z}&tk=d6f4af9510cc1bde9a1f6541150167b3",subdomains:["0","1","2","3","4","5","6","7"]},Qp={url:"https://t{s}.tianditu.gov.cn/DataServer?T=img_w&X={x}&Y={y}&L={z}&tk=d6f4af9510cc1bde9a1f6541150167b3",subdomains:["0","1","2","3","4","5","6","7"]},em={url:"https://t{s}.tianditu.gov.cn/DataServer?T=cia_w&X={x}&Y={y}&L={z}&tk=d6f4af9510cc1bde9a1f6541150167b3",subdomains:["0","1","2","3","4","5","6","7"]};oi.divIcon({html:`
  <svg height="24" width="24">
    <path d="M12.1875 21.75C10.9717 21.7564 4.875 12.6199 4.875 9.5625C4.875 7.6231 5.64542 5.76314 7.01678 4.39178C8.38814 3.02042 10.2481 2.25 12.1875 2.25C14.1269 2.25 15.9869 3.02042 17.3582 4.39178C18.7296 5.76314 19.5 7.6231 19.5 9.5625C19.5 12.579 13.3841 21.7564 12.1875 21.75ZM12.1875 3.46875C10.5713 3.46875 9.02137 4.11077 7.87857 5.25357C6.73577 6.39637 6.09375 7.94634 6.09375 9.5625C6.09375 12.1103 11.1743 19.9271 12.1875 19.9219C13.185 19.9271 18.2812 12.075 18.2812 9.5625C18.2812 7.94634 17.6392 6.39637 16.4964 5.25357C15.3536 4.11077 13.8037 3.46875 12.1875 3.46875ZM12.1875 12.6094C11.5849 12.6094 10.9958 12.4307 10.4947 12.0959C9.99369 11.7611 9.60317 11.2852 9.37255 10.7285C9.14194 10.1717 9.08161 9.55912 9.19917 8.96808C9.31673 8.37705 9.60692 7.83415 10.033 7.40803C10.4591 6.98192 11.002 6.69173 11.5931 6.57417C12.1841 6.45661 12.7967 6.51694 13.3535 6.74755C13.9102 6.97817 14.3861 7.36869 14.7209 7.86975C15.0557 8.3708 15.2344 8.95989 15.2344 9.5625C15.2344 10.3706 14.9134 11.1456 14.342 11.717C13.7706 12.2884 12.9956 12.6094 12.1875 12.6094ZM12.1875 7.73438C11.8259 7.73438 11.4725 7.84159 11.1718 8.04247C10.8712 8.24335 10.6369 8.52886 10.4985 8.86291C10.3602 9.19695 10.324 9.56453 10.3945 9.91915C10.465 10.2738 10.6392 10.5995 10.8948 10.8552C11.1505 11.1108 11.4762 11.285 11.8309 11.3555C12.1855 11.426 12.553 11.3898 12.8871 11.2515C13.2211 11.1131 13.5067 10.8788 13.7075 10.5782C13.9084 10.2775 14.0156 9.92407 14.0156 9.5625C14.0156 9.07765 13.823 8.61266 13.4802 8.26982C13.1373 7.92698 12.6723 7.73438 12.1875 7.73438Z" fill="black"/>
  </svg> 
  `,iconSize:[24,24],iconAnchor:[12,24],popupAnchor:[0,-24]});const rd=["polygon","rectangle","circle","point"];(function(e,n,o){e.L.Toolbar2=(L.Layer||L.Class).extend({statics:{baseClass:"leaflet-toolbar"},options:{className:"",filter:function(){return!0},actions:[]},initialize:function(r){L.setOptions(this,r),this._toolbar_type=this.constructor._toolbar_class_id},addTo:function(r){return this._arguments=[].slice.call(arguments),r.addLayer(this),this},onAdd:function(r){var a=r._toolbars[this._toolbar_type];this._calculateDepth()===0&&(a&&r.removeLayer(a),r._toolbars[this._toolbar_type]=this)},onRemove:function(r){this._calculateDepth()===0&&delete r._toolbars[this._toolbar_type]},appendToContainer:function(r){var a,l,c,u,f=this.constructor.baseClass+"-"+this._calculateDepth()+" "+this.options.className;for(this._container=r,this._ul=L.DomUtil.create("ul",f,r),this._disabledEvents=["click","mousemove","dblclick","mousedown","mouseup","touchstart"],l=0,u=this._disabledEvents.length;l<u;l++)L.DomEvent.on(this._ul,this._disabledEvents[l],L.DomEvent.stopPropagation);for(a=0,c=this.options.actions.length;a<c;a++)new(this._getActionConstructor(this.options.actions[a]))()._createIcon(this,this._ul,this._arguments)},_getActionConstructor:function(r){var a=this._arguments,l=this;return r.extend({initialize:function(){r.prototype.initialize.apply(this,a)},enable:function(c){l._active&&l._active.disable(),l._active=this,r.prototype.enable.call(this,c)}})},_hide:function(){this._ul.style.display="none"},_show:function(){this._ul.style.display="block"},_calculateDepth:function(){for(var r=0,a=this.parentToolbar;a;)r+=1,a=a.parentToolbar;return r}}),L.Evented||L.Toolbar2.include(L.Mixin.Events),L.toolbar={};var i=0;L.Toolbar2.extend=function(r){var a=L.extend({},r.statics,{_toolbar_class_id:i});return i+=1,L.extend(r,{statics:a}),L.Class.extend.call(this,r)},L.Map.addInitHook(function(){this._toolbars={}}),L.Toolbar2.Action=L.Handler.extend({statics:{baseClass:"leaflet-toolbar-icon"},options:{toolbarIcon:{html:"",className:"",tooltip:""},subToolbar:new L.Toolbar2},initialize:function(r){var a=L.Toolbar2.Action.prototype.options.toolbarIcon;L.setOptions(this,r),this.options.toolbarIcon=L.extend({},a,this.options.toolbarIcon)},enable:function(r){r&&L.DomEvent.preventDefault(r),this._enabled||(this._enabled=!0,this.addHooks&&this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks&&this.removeHooks())},_createIcon:function(r,a,l){var c=this.options.toolbarIcon;this.toolbar=r,this._icon=L.DomUtil.create("li","",a),this._link=L.DomUtil.create("a","",this._icon),this._link.innerHTML=c.html,this._link.setAttribute("href","#"),this._link.setAttribute("title",c.tooltip),L.DomUtil.addClass(this._link,this.constructor.baseClass),c.className&&L.DomUtil.addClass(this._link,c.className),L.DomEvent.on(this._link,"click",this.enable,this),this._addSubToolbar(r,this._icon,l)},_addSubToolbar:function(r,a,l){var c=this.options.subToolbar,u=this.addHooks,f=this.removeHooks;c.parentToolbar=r,c.options.actions.length>0&&((l=[].slice.call(l)).push(this),c.addTo.apply(c,l),c.appendToContainer(a),this.addHooks=function(h){typeof u=="function"&&u.call(this,h),c._show()},this.removeHooks=function(h){typeof f=="function"&&f.call(this,h),c._hide()})}}),L.toolbarAction=function(r){return new L.Toolbar2.Action(r)},L.Toolbar2.Action.extendOptions=function(r){return this.extend({options:r})},L.Toolbar2.Control=L.Toolbar2.extend({statics:{baseClass:"leaflet-control-toolbar "+L.Toolbar2.baseClass},initialize:function(r){L.Toolbar2.prototype.initialize.call(this,r),this._control=new L.Control.Toolbar(this.options)},onAdd:function(r){this._control.addTo(r),L.Toolbar2.prototype.onAdd.call(this,r),this.appendToContainer(this._control.getContainer())},onRemove:function(r){L.Toolbar2.prototype.onRemove.call(this,r),this._control.remove?this._control.remove():this._control.removeFrom(r)}}),L.Control.Toolbar=L.Control.extend({onAdd:function(){return L.DomUtil.create("div","")}}),L.toolbar.control=function(r){return new L.Toolbar2.Control(r)},L.Toolbar2.Popup=L.Toolbar2.extend({statics:{baseClass:"leaflet-popup-toolbar "+L.Toolbar2.baseClass},options:{anchor:[0,0]},initialize:function(r,a){L.Toolbar2.prototype.initialize.call(this,a),this._marker=new L.Marker(r,{icon:new L.DivIcon({className:this.options.className,iconAnchor:[0,0]})})},onAdd:function(r){this._map=r,this._marker.addTo(r),L.Toolbar2.prototype.onAdd.call(this,r),this.appendToContainer(this._marker._icon),this._setStyles()},onRemove:function(r){r.removeLayer(this._marker),L.Toolbar2.prototype.onRemove.call(this,r),delete this._map},setLatLng:function(r){return this._marker.setLatLng(r),this},_setStyles:function(){for(var r,a,l,c=this._container,u=this._ul,f=L.point(this.options.anchor),h=u.querySelectorAll(".leaflet-toolbar-icon"),p=[],m=0,v=0,E=h.length;v<E;v++)h[v].parentNode.parentNode===u&&(p.push(parseInt(L.DomUtil.getStyle(h[v],"height"),10)),m+=Math.ceil(parseFloat(L.DomUtil.getStyle(h[v],"width"))),m+=Math.ceil(parseFloat(L.DomUtil.getStyle(h[v],"border-right-width"))));u.style.width=m+"px",this._tipContainer=L.DomUtil.create("div","leaflet-toolbar-tip-container",c),this._tipContainer.style.width=m+Math.ceil(parseFloat(L.DomUtil.getStyle(u,"border-left-width")))+"px",this._tip=L.DomUtil.create("div","leaflet-toolbar-tip",this._tipContainer),r=Math.max.apply(void 0,p),u.style.height=r+"px",a=parseInt(L.DomUtil.getStyle(this._tip,"width"),10),l=new L.Point(m/2,r+1.414*a),c.style.marginLeft=f.x-l.x+"px",c.style.marginTop=f.y-l.y+"px"}}),L.toolbar.popup=function(r){return new L.Toolbar2.Popup(r)}})(window);(function(){(function(){var e={"./node_modules/ansi-html-community/index.js":function(i){i.exports=f;var r=/(?:(?:\u001b\[)|\u009b)(?:(?:[0-9]{1,3})?(?:(?:;[0-9]{0,3})*)?[A-M|f-m])|\u001b[A-M]/,a={reset:["fff","000"],black:"000",red:"ff0000",green:"209805",yellow:"e8bf03",blue:"0000ff",magenta:"ff00ff",cyan:"00ffee",lightgrey:"f0f0f0",darkgrey:"888"},l={30:"black",31:"red",32:"green",33:"yellow",34:"blue",35:"magenta",36:"cyan",37:"lightgrey"},c={1:"font-weight:bold",2:"opacity:0.5",3:"<i>",4:"<u>",8:"display:none",9:"<del>"},u={23:"</i>",24:"</u>",29:"</del>"};[0,21,22,27,28,39,49].forEach(function(p){u[p]="</span>"});function f(p){if(!r.test(p))return p;var m=[],v=p.replace(/\033\[(\d+)m/g,function(S,P){var b=c[P];if(b)return~m.indexOf(P)?(m.pop(),"</span>"):(m.push(P),b[0]==="<"?b:'<span style="'+b+';">');var w=u[P];return w?(m.pop(),w):""}),E=m.length;return E>0&&(v+=Array(E+1).join("</span>")),v}f.setColors=function(p){if(typeof p!="object")throw new Error("`colors` parameter must be an Object.");var m={};for(var v in a){var E=p.hasOwnProperty(v)?p[v]:null;if(!E){m[v]=a[v];continue}if(v==="reset"){if(typeof E=="string"&&(E=[E]),!Array.isArray(E)||E.length===0||E.some(function(P){return typeof P!="string"}))throw new Error("The value of `"+v+"` property must be an Array and each item could only be a hex string, e.g.: FF0000");var S=a[v];E[0]||(E[0]=S[0]),(E.length===1||!E[1])&&(E=[E[0]],E.push(S[1])),E=E.slice(0,2)}else if(typeof E!="string")throw new Error("The value of `"+v+"` property must be a hex string, e.g.: FF0000");m[v]=E}h(m)},f.reset=function(){h(a)},f.tags={},Object.defineProperty?(Object.defineProperty(f.tags,"open",{get:function(){return c}}),Object.defineProperty(f.tags,"close",{get:function(){return u}})):(f.tags.open=c,f.tags.close=u);function h(p){c[0]="font-weight:normal;opacity:1;color:#"+p.reset[0]+";background:#"+p.reset[1],c[7]="color:#"+p.reset[1]+";background:#"+p.reset[0],c[90]="color:#"+p.darkgrey;for(var m in l){var v=l[m],E=p[v]||"000";c[m]="color:#"+E,m=parseInt(m),c[(m+10).toString()]="background:#"+E}}f.reset()},"./src/DistortableCollection.js":function(){L.DistortableCollection=L.FeatureGroup.extend({options:{editable:!0,exportOpts:{exportStartUrl:"//export.mapknitter.org/export",statusUrl:"//export.mapknitter.org",exportUrl:"http://export.mapknitter.org/"}},initialize:function(r){L.setOptions(this,r),L.FeatureGroup.prototype.initialize.call(this,r),L.Utils.initTranslation.call(this),this.editable=this.options.editable},onAdd:function(r){L.FeatureGroup.prototype.onAdd.call(this,r),this._map=r,this.editable&&this.editing.enable(),this.on("layeradd",this._addEvents,this),this.on("layerremove",this._removeEvents,this)},onRemove:function(){this.editing&&this.editing.disable(),this.off("layeradd",this._addEvents,this),this.off("layerremove",this._removeEvents,this)},_addEvents:function(r){var a=r.layer;L.DomEvent.on(a,{dragstart:this._dragStartMultiple,drag:this._dragMultiple},this),L.DomEvent.on(a.getElement(),{mousedown:this._deselectOthers,contextmenu:this._longPressMultiSelect},this)},_removeEvents:function(r){var a=r.layer;L.DomEvent.off(a,{dragstart:this._dragStartMultiple,drag:this._dragMultiple},this),L.DomEvent.off(a.getElement(),{mousedown:this._deselectOthers,contextmenu:this._longPressMultiSelect},this)},_longPressMultiSelect:function(r){var a=this;this.editable&&(r.preventDefault(),this.eachLayer(function(l){var c=l.editing;l.getElement()===r.target&&c.enabled()&&(L.DomUtil.toggleClass(l.getElement(),"collected"),a.anyCollected()?(l.deselect(),a.editing._addToolbar()):a.editing._removeToolbar())}))},isCollected:function(r){return L.DomUtil.hasClass(r.getElement(),"collected")},anyCollected:function(){var r=this.getLayers();return r.some(this.isCollected.bind(this))},_toggleCollected:function(r,a){r.shiftKey&&a.editing.enabled()&&L.DomUtil.toggleClass(r.target,"collected"),this.anyCollected()?a.deselect():this.editing._removeToolbar()},_deselectOthers:function(r){var a=this;this.editable&&(this.eachLayer(function(l){l.getElement()!==r.target?l.deselect():a._toggleCollected(r,l)}),r&&L.DomEvent.stopPropagation(r))},_dragStartMultiple:function(r){var a=r.target,l=this._map,c;this.isCollected(a)&&this.eachLayer(function(u){for(u._dragStartPoints={},u.deselect(),c=0;c<4;c++){var f=u.getCorner(c);u._dragStartPoints[c]=l.latLngToLayerPoint(f)}})},_dragMultiple:function(r){var a=r.target,l=this._map;if(this.isCollected(a)){var c=l.latLngToLayerPoint(a.getCorner(0)),u=a._dragStartPoints[0].subtract(c);this._updateCollectionFromPoints(u,a)}},_toRemove:function(){var r=this,a=this.getLayers();return a.filter(function(l){var c=l.editing._mode;return r.isCollected(l)&&c!=="lock"})},_toMove:function(r){var a=this,l=this.getLayers();return l.filter(function(c){var u=c.editing._mode;return c!==r&&a.isCollected(c)&&u!=="lock"})},_updateCollectionFromPoints:function(r,a){var l=this._toMove(a),c=new L.Transformation(1,-r.x,1,-r.y),u;l.forEach(function(f){var h={};for(u=0;u<4;u++)h[u]=c.transform(f._dragStartPoints[u]);f.setCornersFromPoints(h)})},_getAvgCmPerPixel:function(r){var a=r.reduce(function(l,c){return l+c.cm_per_pixel},0);return a/r.length},generateExportJson:function(){var r={};return r.images=[],this.eachLayer(function(a){if(this.isCollected(a)){var l=a._image.src.split("/"),c=l[l.length-1],u=a.getCorners(),f=[{lat:u[0].lat,lon:u[0].lng},{lat:u[1].lat,lon:u[1].lng},{lat:u[3].lat,lon:u[3].lng},{lat:u[2].lat,lon:u[2].lng}];r.images.push({id:this.getLayerId(a),src:a._image.src,width:a._image.width,height:a._image.height,image_file_name:c,nodes:f,cm_per_pixel:L.ImageUtil.getCmPerPixel(a)})}},this),r.images=r.images.reverse(),r.avg_cm_per_pixel=this._getAvgCmPerPixel(r.images),r}}),L.distortableCollection=function(i,r){return new L.DistortableCollection(i,r)}},"./src/DistortableImageOverlay.js":function(){L.DistortableImageOverlay=L.ImageOverlay.extend({options:{height:200,crossOrigin:!0,edgeMinWidth:50,editable:!0,mode:"distort",selected:!1},initialize:function(r,a){L.setOptions(this,a),L.Utils.initTranslation.call(this),this.edgeMinWidth=this.options.edgeMinWidth,this.editable=this.options.editable,this._selected=this.options.selected,this._url=r,this.rotation={}},onAdd:function(r){var a=this;this._map=r,this.getElement()||this._initImage(),r.on("viewreset",this._reset,this),this.options.corners&&(this._corners=this.options.corners,r.options.zoomAnimation&&L.Browser.any3d&&r.on("zoomanim",this._animateZoom,this)),L.DomEvent.on(this.getElement(),"load",function(){if(a.getPane().appendChild(a.getElement()),a._initImageDimensions(),a.options.rotation){var l=a.options.rotation.deg?"deg":"rad";a.setAngle(a.options.rotation[l],l)}else a.rotation={deg:0,rad:0},a._reset(),a.fire("loaded");a._corners||r.options.zoomAnimation&&L.Browser.any3d&&r.on("zoomanim",a._animateZoom,a);var c=a._eventParents;c?(a.eP=c[Object.keys(c)[0]],a.eP.editable&&a.editing.enable()):(a.editable&&a.editing.enable(),a.eP=null)}),L.DomEvent.on(this.getElement(),"click",this.select,this),L.DomEvent.on(r,{singleclickon:this._singleClickListeners,singleclickoff:this._resetClickListeners,singleclick:this._singleClick},this),r.doubleClickZoom.enabled()||r.doubleClickLabels.enabled()||L.DomEvent.on(r,"click",this.deselect,this),this.fire("add")},onRemove:function(r){L.DomEvent.off(this.getElement(),"click",this.select,this),L.DomEvent.off(r,{singleclickon:this._singleClickListeners,singleclickoff:this._resetClickListeners,singleclick:this._singleClick},this),L.DomEvent.off(r,"click",this.deselect,this),this.editing&&this.editing.disable(),this.fire("remove"),L.ImageOverlay.prototype.onRemove.call(this,r)},_initImageDimensions:function(){var r=this._map,a=parseInt(L.DomUtil.getStyle(this.getElement(),"width"))||this.options.width||300,l=parseInt(L.DomUtil.getStyle(this.getElement(),"height"))||this.options.height||200,c=a/l,u=this.options.height,f=parseInt(c*u),h=r.project(r.getCenter()),p=L.point(f,u).divideBy(2);this.options.corners?this._corners=this.options.corners:this._corners=[r.unproject(h.subtract(p)),r.unproject(h.add(L.point(p.x,-p.y))),r.unproject(h.add(L.point(-p.x,p.y))),r.unproject(h.add(p))],this._initialDimensions={center:h,offset:p,zoom:r.getZoom()},this.setBounds(L.latLngBounds(this.getCorners()))},_singleClick:function(r){if(r.type==="singleclick")this.deselect();else return},_singleClickListeners:function(){var r=this._map;L.DomEvent.off(r,"click",this.deselect,this),L.DomEvent.on(r,"singleclick",this.deselect,this)},_resetClickListeners:function(){var r=this._map;L.DomEvent.on(r,"click",this.deselect,this),L.DomEvent.off(r,"singleclick",this.deselect,this)},isSelected:function(){return this._selected},deselect:function(){var r=this.editing;if(r.enabled())return r._removeToolbar(),r._hideMarkers(),this._selected=!1,this.fire("deselect"),this},select:function(r){var a=this.editing,l=this.eP;if(a.enabled()){if(r&&L.DomEvent.stopPropagation(r),this._programmaticGrouping(),this._selected=!0,a._addToolbar(),a._showMarkers(),this.fire("select"),l&&l.anyCollected()){this.deselect();return}return this}},_programmaticGrouping:function(){this._map.eachLayer(function(r){r instanceof L.DistortableImageOverlay&&r.deselect()})},setCorner:function(r,a){var l=this.editing;return this._corners[r]=a,this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update"),l.toolbar&&l.toolbar instanceof L.DistortableImage.PopupBar&&l._updateToolbarPos(),this.edited=!0,this},_cornerExceedsMapLats:function(r,a,l){if(l.options.crs==L.CRS.Simple)return!1;var c,u;return r===0?(c=l.project(a).y<2,u=l.project(a).y>=255):(c=l.project(a).y/r<2,u=l.project(a).y/Math.pow(2,r)>=255),c||u},setCorners:function(r){var a=this._map,l=a.getZoom(),c=this.editing,u=0;for(var f in r)if(this._cornerExceedsMapLats(l,r[f],a)){this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update");return}for(f in r)this._corners[u]=r[f],u+=1;return this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update"),c.toolbar&&c.toolbar instanceof L.DistortableImage.PopupBar&&c._updateToolbarPos(),this.edited=!0,this},setCornersFromPoints:function(r){var a=this._map,l=a.getZoom(),c=this.editing,u=0;for(var f in r){var h=a.layerPointToLatLng(r[f]);if(this._cornerExceedsMapLats(l,h,a)){this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update");return}}for(f in r)this._corners[u]=a.layerPointToLatLng(r[f]),u+=1;return this.setBounds(L.latLngBounds(this.getCorners())),this.fire("update"),c.toolbar&&c.toolbar instanceof L.DistortableImage.PopupBar&&c._updateToolbarPos(),this.edited=!0,this},scaleBy:function(r){var a=this._map,l=a.project(this.getCenter()),c,u,f={};if(r!==0){for(c=0;c<4;c++)u=a.project(this.getCorner(c)).subtract(l).multiplyBy(r).add(l),f[c]=a.unproject(u);return this.setCorners(f),this}},getAngle:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"deg",a=this.getElement().style[L.DomUtil.TRANSFORM].split("matrix3d")[1].slice(1,-1).split(","),l=a[0],c=a[1],u=a[4],f=a[5],h=l*f-c*u,p=L.TrigUtil.calcAngle(l,c,"rad");return h<0&&(p+=p<0?Math.PI:-Math.PI),p<0&&(p=2*Math.PI+p),r==="deg"?Math.round(L.TrigUtil.radiansToDegrees(p)):L.Util.formatNum(p,2)},setAngle:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"deg",l=this.getAngle(a),c=r-l;return this.rotateBy(c,a),this},rotateBy:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"deg",l=this._map,c=l.project(this.getCenter()),u={},f,h,p;for(a==="deg"&&(r=L.TrigUtil.degreesToRadians(r)),f=0;f<4;f++)h=l.project(this.getCorner(f)).subtract(c),p=L.point(Math.cos(r)*h.x-Math.sin(r)*h.y,Math.sin(r)*h.x+Math.cos(r)*h.y),u[f]=l.unproject(p.add(c));return this.setCorners(u),this},dragBy:function(r,a){var l=this._map,c,u,f={},h=l.project(r).subtract(l.project(a));for(c=0;c<4;c++)u=l.project(this.getCorner(c)).subtract(h),f[c]=l.unproject(u);this.setCorners(f)},restore:function(){for(var r=this._map,a=this._initialDimensions.center,l=this._initialDimensions.offset,c=this._initialDimensions.zoom,u=[a.subtract(l),a.add(L.point(l.x,-l.y)),a.add(L.point(-l.x,l.y)),a.add(l)],f=0;f<4;f++)r.unproject(u[f],c).equals(this.getCorner(f))||this.setCorner(f,r.unproject(u[f],c));return this.edited=!1,this.fire("restore"),this},_getTranslateString:function(r){var a=L.Browser.webkit3d,l="translate"+(a?"3d":"")+"(",c=(a?",0":"")+")";return l+r.x+"px,"+r.y+"px"+c},_reset:function(){var r=this._map,a=this.getElement(),l=L.bind(r.latLngToLayerPoint,r),c=this._calculateProjectiveTransform(l),u=l(this.getCorner(0)),f=L.DomUtil.getMatrixString(c),h=this._getTranslateString(u);a._leaflet_pos=u;var p=parseInt(L.DomUtil.getStyle(a,"width"))||this.options.width||300,m=parseInt(L.DomUtil.getStyle(a,"height"))||this.options.height||200,v=p/m,E=this.options.height,S=parseInt(v*E);a.style.width=S+"px",a.style.height=E+"px",a.style[L.DomUtil.TRANSFORM]=[h,f].join(" "),a.style[L.DomUtil.TRANSFORM+"-origin"]="0 0 0",this.rotation.deg=this.getAngle(),this.rotation.rad=this.getAngle("rad")},_animateZoom:function(r){var a=this._map,l=this.getElement(),c=function(v){return a._latLngToNewLayerPoint(v,r.zoom,r.center)},u=this._calculateProjectiveTransform(c),f=c(this.getCorner(0)),h=L.DomUtil.getMatrixString(u),p=this._getTranslateString(f);l._leaflet_pos=f,l.style[L.DomUtil.TRANSFORM]=[p,h].join(" ")},getCorners:function(){return this._corners},getCorner:function(r){return this._corners[r]},getCenter:function(){var r=this._map,a=this.getCorners().reduce(function(l,c){return l.add(r.project(c))},L.point(0,0));return r.unproject(a.divideBy(4))},_calculateProjectiveTransform:function(r){var a=r(this.getCorner(0)),l=this.getElement().offsetWidth||500,c=this.getElement().offsetHeight||375,u=[],f;for(f=0;f<4;f++)u.push(r(this.getCorner(f))._subtract(a));return L.MatrixUtil.general2DProjection(0,0,u[0].x,u[0].y,l,0,u[1].x,u[1].y,0,c,u[2].x,u[2].y,l,c,u[3].x,u[3].y)}}),L.distortableImageOverlay=function(i,r){return new L.DistortableImageOverlay(i,r)},L.Map.addInitHook(function(){L.DomUtil.hasClass(this.getContainer(),"ldi")||L.DomUtil.addClass(this.getContainer(),"ldi")})},"./src/components/DistortableImage.Keymapper.js":function(){var i=this;L.DomUtil=L.DomUtil||{},L.DistortableImage=L.DistortableImage||{},L.distortableImage=L.DistortableImage,L.DistortableImage.Keymapper=L.Handler.extend({options:{position:"topright"},initialize:function(a,l){this._map=a,L.setOptions(this,l)},addHooks:function(){this._keymapper||(this._container=this._buildContainer(),this._scrollWrapper=this._wrap(),this._toggler=this._createButton(),this._setMapper(this._container,this._scrollWrapper,this._toggler),L.DomEvent.on(this._toggler,"click",this._toggleKeymapper,this),L.DomEvent.disableClickPropagation(this._container),L.DomEvent.disableScrollPropagation(this._container))},removeHooks:function(){this._keymapper&&(L.DomEvent.off(this._toggler,"click",this._toggleKeymapper,this),L.DomUtil.remove(this._toggler),L.DomUtil.remove(this._scrollWrapper),L.DomUtil.remove(this._container),this._keymapper=!1)},_buildContainer:function(){var a=L.DomUtil.create("div","ldi-keymapper-hide");a.setAttribute("id","ldi-keymapper");var l=L.DomUtil.create("br","divider");return a.appendChild(l),a},_createButton:function(){var a=L.DomUtil.create("a","");return a.innerHTML=L.IconUtil.create("keyboard_open"),a.setAttribute("id","toggle-keymapper"),a.setAttribute("href","#"),a.setAttribute("title","Show keymap"),a.setAttribute("role","button"),a.setAttribute("aria-label","Show keymap"),a},_wrap:function(){var a=L.DomUtil.create("div","");return a.setAttribute("id","keymapper-wrapper"),a.style.display="none",a},_setMapper:function(a,l,c){this._keymapper=L.control({position:this.options.position}),this._keymapper.onAdd=function(){return a.appendChild(l),l.insertAdjacentHTML("beforeend",'<table><tbody><hr id="keymapper-hr"><tr><td><div class="left"><span>Rotate Mode</span></div><div class="right"><kbd>R</kbd></div></td></tr><tr><td><div class="left"><span>RotateScale Mode</span></div><div class="right"><kbd>r</kbd></div></td></tr><tr><td><div class="left"><span>Scale Mode</span></div><div class="right"><kbd>s</kbd></div></td></tr><tr><td><div class="left"><span>Distort Mode</span></div><div class="right"><kbd>d</kbd></div></td></tr><tr><td><div class="left"><span>Drag Mode</span></div><div class="right"><kbd>D</kbd></div></td></tr><tr><td><div class="left"><span>Lock (Mode) / Unlock Image</span></div><div class="right"><kbd>l</kbd><kbd>u</kbd></div></td></tr><tr><td><div class="left"><span>Stack up / down</span></div><div class="right"><kbd>q</kbd><kbd>a</kbd></div></td></tr><tr><td><div class="left"><span>Add / Remove Image Border</span></div><div class="right"><kbd>b</kbd></div></td></tr><tr><td><div class="left"><span>Toggle Opacity</span></div><div class="right"><kbd>o</kbd></div></td></tr><tr><td><div class="left"><span>Deselect All</span></div><div class="right"><kbd>esc</kbd></div></td></tr><tr><td><div class="left"><span>Delete Image(s)</span></div><div class="right"><kbd>delete</kbd><kbd>backspace</kbd></div></td></tr><tr><td><div class="left"><span>Export Image(s)</span></div><div class="right"><kbd>e</kbd></div></td></tr></tbody></table>'),a.appendChild(c),a},this._keymapper.addTo(this._map)},_toggleKeymapper:function(a){a.preventDefault(),this._container.className=this._container.className==="ldi-keymapper leaflet-control"?"ldi-keymapper-hide leaflet-control":"ldi-keymapper leaflet-control",this._scrollWrapper.style.display=this._scrollWrapper.style.display==="none"?"block":"none",this._toggler.innerHTML=this._toggler.innerHTML==="close"?L.IconUtil.create("keyboard_open"):"close",L.IconUtil.toggleTitle(this._toggler,"Show keymap","Hide keymap"),L.DomUtil.toggleClass(this._toggler,"close-icon")},_injectIconSet:function(){if(!document.querySelector("#keymapper-iconset")){var a=L.DomUtil.create("div","");a.id="keymapper-iconset",a.setAttribute("hidden","hidden"),this._iconset=new L.KeymapperIconSet().render(),a.innerHTML=this._iconset,document.querySelector(".leaflet-control-container").appendChild(a)}}}),L.DistortableImage.Keymapper.addInitHook(function(){L.DistortableImage.Keymapper.prototype._n=L.DistortableImage.Keymapper.prototype._n?L.DistortableImage.Keymapper.prototype._n+1:1,L.DistortableImage.Keymapper.prototype._n===1&&!L.Browser.mobile&&(i.enable(),i._injectIconSet())}),L.distortableImage.keymapper=function(r,a){return new L.DistortableImage.Keymapper(r,a)}},"./src/edit/DistortableCollection.Edit.js":function(){L.DistortableImage=L.DistortableImage||{},L.DistortableCollection.Edit=L.Handler.extend({options:{keymap:L.distortableImage.group_action_map},initialize:function(r,a){this._group=r,this._exportOpts=r.options.exportOpts,L.setOptions(this,a),L.distortableImage.group_action_map.Escape="_decollectAll"},addHooks:function(){var r=this._group,a=r._map;this.editActions=this.options.actions,this.runExporter=L.bind(L.Utils.getNestedVal(this,"_exportOpts","exporter")||this.startExport,this),L.DomEvent.on(document,"keydown",this._onKeyDown,this),a.doubleClickZoom.enabled()||a.doubleClickLabels.enabled()||L.DomEvent.on(a,"click",this._decollectAll,this),L.DomEvent.on(a,{singleclickon:this._singleClickListeners,singleclickoff:this._resetClickListeners,singleclick:this._singleClick,boxcollectend:this._addCollections},this),this._group.editable=!0,this._group.eachLayer(function(l){return l.editing.enable()})},removeHooks:function(){var r=this._group,a=r._map;L.DomEvent.off(document,"keydown",this._onKeyDown,this),a.doubleClickZoom.enabled()||a.doubleClickLabels.enabled()||L.DomEvent.off(a,"click",this._decollectAll,this),L.DomEvent.off(a,{singleclickon:this._singleClickListeners,singleclickoff:this._resetClickListeners,singleclick:this._singleClick,boxcollectend:this._addCollections},this),this._decollectAll(),this._group.editable=!1,this._group.eachLayer(function(l){return l.editing.disable()})},enable:function(){return this._enabled=!0,this.addHooks(),this},disable:function(){return this._enabled=!1,this.removeHooks(),this},_onKeyDown:function(r){var a=this.options.keymap,l=a[r.key];this[l]&&this._group.anyCollected()&&this[l].call(this)},_singleClick:function(r){if(r.type==="singleclick")this._decollectAll(r);else return},_singleClickListeners:function(){var r=this._group._map;L.DomEvent.off(r,"click",this._decollectAll,this),L.DomEvent.on(r,"singleclick",this._decollectAll,this)},_resetClickListeners:function(){var r=this._group._map;L.DomEvent.on(r,"click",this._decollectAll,this),L.DomEvent.off(r,"singleclick",this._decollectAll,this)},_decollectAll:function(r){var a;r&&(a=r.originalEvent),!(a&&(a.shiftKey||a.target instanceof HTMLImageElement))&&(this._group.eachLayer(function(l){L.DomUtil.removeClass(l.getElement(),"collected"),l.deselect()}),this._removeToolbar(),r&&L.DomEvent.stopPropagation(r))},_unlockGroup:function(){var r=this;this.hasTool(L.UnlockAction)&&this._group.eachLayer(function(a){if(r._group.isCollected(a)){var l=a.editing;l._unlock(),a.deselect()}})},_lockGroup:function(){var r=this;this.hasTool(L.LockAction)&&this._group.eachLayer(function(a){if(r._group.isCollected(a)){var l=a.editing;l._lock(),L.DomUtil.addClass(a.getElement(),"collected")}})},_addCollections:function(r){var a=this,l=r.boxCollectBounds,c=this._group._map;this._group.eachLayer(function(u){var f=u.editing;u.isSelected()&&u.deselect();var h=c.getZoom(),p=c.getCenter(),m=L.latLngBounds(u.getCorner(2),u.getCorner(1));m=c._latLngBoundsToNewLayerBounds(m,h,p),l.intersects(m)&&f.enabled()&&(a.toolbar||a._addToolbar(),L.DomUtil.addClass(u.getElement(),"collected"))})},_removeGroup:function(r){var a=this;if(this.hasTool(L.DeleteAction)){var l=this._group._toRemove(),c=l.length;if(c!==0){var u=L.DomUtil.confirmDeletes(c);u&&(l.forEach(function(f){a._group.removeLayer(f)}),this._group.anyCollected()||this._removeToolbar()),r&&L.DomEvent.stopPropagation(r)}}},cancelExport:function(){this.customCollection||(this._exportOpts.collection=void 0),clearInterval(this.updateInterval)},_addToolbar:function(){var r=this._group,a=r._map;r.options.suppressToolbar||this.toolbar||(this.toolbar=L.distortableImage.controlBar({actions:this.editActions,position:"topleft"}).addTo(a,r))},_removeToolbar:function(){var r=this._group._map;if(this.toolbar)r.removeLayer(this.toolbar),this.toolbar=!1;else return!1},hasTool:function(r){return this.editActions.some(function(a){return a===r})},addTool:function(r){return r.baseClass==="leaflet-toolbar-icon"&&!this.hasTool(r)&&(this._removeToolbar(),this.editActions.push(r),this._addToolbar()),this},removeTool:function(r){var a=this;return this.editActions.some(function(l,c){return a.editActions[c]===r?(a._removeToolbar(),a.editActions.splice(c,1),a._addToolbar(),!0):!1}),this},startExport:function(){var r=this;if(this.hasTool(L.ExportAction))return new Promise(function(a){var l=r._exportOpts;l.resolve=a;var c;r.updateInterval=null;var u=function(m){m=JSON.parse(m),m.status_url&&(c!==m.status_url&&m.status_url.match(".json")&&(c=m.status_url),m.status==="complete"&&(clearInterval(r.updateInterval),r.customCollection||(r._exportOpts.collection=void 0),a(),m.jpg!==null&&alert("Export succeeded. "+l.exportUrl+m.jpg)),console.log(m))},f=function(m){c=l.statusUrl+m,r.updateInterval=setInterval(function(){var v={method:"GET"},E=new Request("".concat(c,"?").concat(Date.now()),v);fetch(E).then(function(S){if(S.ok)return S.text()}).then(l.updater)},l.frequency)},h=function(m){var v=new FormData;v.append("collection",JSON.stringify(m.collection)),v.append("scale",m.scale),v.append("upload",!0);var E={method:"POST",body:v},S=new Request(m.exportStartUrl,E);fetch(S).then(function(P){if(P.ok)return P.text()}).then(m.handleStatusRes)};r.customCollection=!!l.collection,r.customCollection||(l.collection=r._group.generateExportJson().images),l.frequency=l.frequency||3e3,l.scale=l.scale||100,l.updater=l.updater||u,l.handleStatusRes=l.handleStatusRes||f,l.fetchStatusUrl=l.fetchStatusUrl||h,l.fetchStatusUrl(l)})}}),L.distortableCollection.edit=function(i,r){return new L.DistortableCollection.Edit(i,r)}},"./src/edit/DistortableImage.Edit.js":function(){L.DistortableImage=L.DistortableImage||{},L.DistortableImage.Edit=L.Handler.extend({options:{opacity:.7,outline:"1px solid red",keymap:L.distortableImage.action_map},initialize:function(r,a){this._overlay=r,this._toggledImage=!1,this._mode=r.options.mode,this._transparent=!1,this._outlined=!1,L.setOptions(this,a),L.distortableImage.action_map.Escape="_deselect"},addHooks:function(){var r=this._overlay;this.editActions=this.options.actions,r.bringToFront(),this._initModes(),this._initHandles(),this._appendHandlesandDragable(),r.isSelected()&&!r.options.suppressToolbar&&this._addToolbar(),this.parentGroup=r.eP?r.eP:!1,L.DomEvent.on(r.getElement(),{dblclick:this.nextMode},this),L.DomEvent.on(window,"keydown",this._onKeyDown,this)},removeHooks:function(){var r=this._overlay,a=this.parentGroup;this._disableDragging(),this.toolbar&&this._removeToolbar();for(var l in this._handles)L.DomUtil.remove(l);L.DomUtil.hasClass(r.getElement(),"collected")&&L.DomUtil.removeClass(r.getElement(),"collected"),a&&!a.anyCollected()&&a.editing.toolbar&&a.editing._removeToolbar(),L.DomEvent.off(r.getElement(),{dblclick:this.nextMode},this),L.DomEvent.off(window,"keydown",this._onKeyDown,this)},disable:function(){return this._enabled?(this._overlay.deselect(),this._enabled=!1,this.removeHooks(),this):this},_initModes:function(){this._modes={};for(var r in L.DistortableImage.Edit.MODES){var a=L.DistortableImage.Edit.MODES[r];this.editActions.indexOf(a)!==-1&&(this._modes[r]=a)}this._modes[this._mode]||(this._mode=Object.keys(this._modes)[0])},_initHandles:function(){var r=this._overlay,a;for(this._dragHandles=L.layerGroup(),a=0;a<4;a++)this._dragHandles.addLayer(L.dragHandle(r,a));for(this._scaleHandles=L.layerGroup(),a=0;a<4;a++)this._scaleHandles.addLayer(L.scaleHandle(r,a));for(this._distortHandles=L.layerGroup(),a=0;a<4;a++)this._distortHandles.addLayer(L.distortHandle(r,a));for(this._rotateHandles=L.layerGroup(),a=0;a<4;a++)this._rotateHandles.addLayer(L.rotateHandle(r,a));for(this._freeRotateHandles=L.layerGroup(),a=0;a<4;a++)this._freeRotateHandles.addLayer(L.freeRotateHandle(r,a));for(this._lockHandles=L.layerGroup(),a=0;a<4;a++)this._lockHandles.addLayer(L.lockHandle(r,a,{draggable:!1}));this._handles={drag:this._dragHandles,scale:this._scaleHandles,distort:this._distortHandles,rotate:this._rotateHandles,freeRotate:this._freeRotateHandles,lock:this._lockHandles}},_appendHandlesandDragable:function(){var r=this._overlay;if(!this._mode){this._enableDragging();return}this._updateHandle(),!r.isSelected()&&this.currentHandle&&this.currentHandle.eachLayer(function(a){a.setOpacity(0),a.dragging&&a.dragging.disable()}),this.isMode("lock")||this._enableDragging()},_onKeyDown:function(r){var a=this.options.keymap,l=a[r.key],c=this._overlay,u=this.parentGroup;u&&u.anyCollected()||this[l]!==void 0&&!c.options.suppressToolbar&&c.isSelected()&&this.toolbar&&this[l].call(this)},replaceTool:function(r,a){var l=this;return a.baseClass!=="leaflet-toolbar-icon"||this.hasTool(a)?this:(this.editActions.some(function(c,u){if(c===r){l._removeToolbar(),l.editActions[u]=a,l._addToolbar();for(var f in L.DistortableImage.Edit.MODES)L.DistortableImage.Edit.MODES[f]===r?(delete l._modes[f],l._nextOrNone(f)):L.DistortableImage.Edit.MODES[f]===a&&(l._modes[f]=a);return!0}}),this)},addTool:function(r){if(r.baseClass==="leaflet-toolbar-icon"&&!this.hasTool(r)){this._removeToolbar(),this.editActions.push(r),this._addToolbar();for(var a in L.DistortableImage.Edit.MODES)L.DistortableImage.Edit.MODES[a]===r&&(this._modes[a]=r);this._overlay.isSelected()||this._removeToolbar()}return this},hasTool:function(r){return this.editActions.some(function(a){return a===r})},removeTool:function(r){var a=this;return this.editActions.some(function(l,c){if(l===r){a._removeToolbar(),a.editActions.splice(c,1),a._addToolbar();for(var u in L.DistortableImage.Edit.MODES)L.DistortableImage.Edit.MODES[u]===r&&(delete a._modes[u],a._nextOrNone(u));return!0}}),this._overlay.isSelected()||this._removeToolbar(),this},_nextOrNone:function(r){this.isMode(r)&&(Object.keys(this.getModes()).length>=1?this.nextMode():(r==="lock"&&this._enableDragging(),this._mode="",this._updateHandle()))},_removeToolbar:function(){var r=this._overlay,a=r._map;this.toolbar&&(a.removeLayer(this.toolbar),this.toolbar=!1)},_enableDragging:function(){var r=this,a=this._overlay,l=a._map;this.dragging=new L.Draggable(a.getElement()),this.dragging.enable(),this.dragging.on("dragstart",function(){a.fire("dragstart"),r._removeToolbar()}),this.dragging._updatePosition=function(){var c=a.getCorner(0),u=this._newPos.subtract(l.latLngToLayerPoint(c)),f,h={},p;for(this.fire("predrag"),p=0;p<4;p++)f=l.latLngToLayerPoint(a.getCorner(p)),h[p]=l.layerPointToLatLng(f.add(u));a.setCorners(h),a.fire("drag"),this.fire("drag")},this.dragging.on("dragend",function(){a.fire("dragend")})},_disableDragging:function(){this.dragging&&(this.dragging.disable(),delete this.dragging)},_dragMode:function(){this.setMode("drag")},_scaleMode:function(){this.setMode("scale")},_distortMode:function(){this.setMode("distort")},_rotateMode:function(){this.setMode("rotate")},_freeRotateMode:function(){this.setMode("freeRotate")},_toggleLockMode:function(){this.isMode("lock")?this._unlock():this._lock()},_toggleOpacity:function(){var r=this._overlay.getElement(),a;this.hasTool(L.OpacityAction)&&(this._transparent=!this._transparent,a=this._transparent?this.options.opacity:1,L.DomUtil.setOpacity(r,a),r.setAttribute("opacity",a),this._refresh())},_toggleBorder:function(){var r=this._overlay.getElement(),a;this.hasTool(L.BorderAction)&&(this._outlined=!this._outlined,a=this._outlined?this.options.outline:"none",r.style.outline=a,this._refresh())},_toggleOrder:function(){this._toggledImage?this._stackUp():this._stackDown()},_removeOverlay:function(){var r=this._overlay,a=this.parentGroup;if(!(this.isMode("lock")||!this.hasTool(L.DeleteAction))){var l=L.DomUtil.confirmDelete();l&&(this._removeToolbar(),a?a.removeLayer(r):r._map.removeLayer(r))}},_getExport:function(){var r=this._overlay,a=r._map,l=r.getElement();if(this.hasTool(L.ExportAction)){var c=new Image;c.id=c.id||"tempId12345",document.body.appendChild(c),c.onload=function(){var f=c.height,h=c.width,p=a.latLngToLayerPoint(r.getCorner(0)),m=a.latLngToLayerPoint(r.getCorner(1)),v=a.latLngToLayerPoint(r.getCorner(2)),E=a.latLngToLayerPoint(r.getCorner(3));c.onload=function(){L.DomUtil.remove(c)},window&&window.hasOwnProperty("warpWebGl")&&warpWebGl(c.id,[0,0,h,0,h,f,0,f],[p.x,p.y,m.x,m.y,E.x,E.y,v.x,v.y],!0)},c.src=r.options.fullResolutionSrc||l.src}},_stackUp:function(){var r=this._toggledImage;!r||!this.hasTool(L.StackAction)||(this._toggledImage=!1,this._overlay.bringToFront(),this._refresh())},_stackDown:function(){var r=this._toggledImage;r||!this.hasTool(L.StackAction)||(this._toggledImage=!0,this._overlay.bringToBack(),this._refresh())},_unlock:function(){var r=this._overlay,a=r._map,l=this.parentGroup;this.isMode("lock")&&((l&&!l.isCollected(r)||!l)&&!this.hasTool(L.LockAction)||(this.currentHandle&&a.removeLayer(this.currentHandle),r.options.mode==="lock"||!this.hasMode(r.options.mode)?(this._mode="",this.currentHandle=""):this._mode=r.options.mode,this._updateHandle(),this._enableDragging(),this._refresh()))},_lock:function(){var r=this._overlay,a=r._map,l=this.parentGroup;this.isMode("lock")||(l&&!l.isCollected(r)||!l)&&!this.hasTool(L.LockAction)||(this.currentHandle&&a.removeLayer(this.currentHandle),this._mode="lock",this._updateHandle(),this._disableDragging(),this._refresh())},_deselect:function(){this._overlay.deselect()},_showMarkers:function(r){var a=this.parentGroup;this.currentHandle&&(!this.isMode("lock")&&a&&a.anyCollected()||this.currentHandle.eachLayer(function(l){l.setOpacity(1),l.dragging&&l.dragging.enable(),L.DomUtil.addClass(l.getElement(),"leaflet-interactive")}))},_hideMarkers:function(){var r=this._overlay,a=this.parentGroup;this._handles||this._initHandles(),this.currentHandle&&(this.isMode("lock")&&a&&a.isCollected(r)||this.currentHandle.eachLayer(function(l){l.setOpacity(0),l.dragging&&l.dragging.disable(),L.DomUtil.removeClass(l.getElement(),"leaflet-interactive")}))},_updateHandle:function(){var r=this._overlay,a=r._map,l=this.getMode();this.currentHandle&&a.removeLayer(this.currentHandle),this.currentHandle=l===""?"":this._handles[l],this.currentHandle!==""&&a.addLayer(this.currentHandle)},_addToolbar:function(){var r=this._overlay,a=this.parentGroup,l=r._map,c=r.getCorners(),u=-1/0;if(a&&a.anyCollected()){a.editing._addToolbar();return}if(!(r.options.suppressToolbar||this.toolbar)){for(var f=0;f<c.length;f++)c[f].lat>u&&(u=c[f].lat);var h=r.getCenter();h.lat=u,this.toolbar=L.distortableImage.popupBar(h,{actions:this.editActions}).addTo(l,r),r.fire("toolbar:created")}},_refresh:function(){this.toolbar&&this._removeToolbar(),this._addToolbar()},_updateToolbarPos:function(){var r=this._overlay,a=r.getCorners(),l=this.toolbar,c=-1/0;if(l&&l instanceof L.DistortableImage.PopupBar){for(var u=0;u<a.length;u++)a[u].lat>c&&(c=a[u].lat);var f=r.getCenter();f.lat=c,r.options.suppressToolbar||this.toolbar.setLatLng(f)}},hasMode:function(r){return!!this._modes[r]},getMode:function(){if(this.enabled())return this._mode},getModes:function(){return this._modes},isMode:function(r){return this.enabled()?this._mode===r:!1},setMode:function(r){var a=this._overlay,l=this.parentGroup,c=this.getMode();if(!(c===r||!this.hasMode(r)||!this.enabled()))return this.toolbar&&this.toolbar.clickTool(r),this.isMode("lock")&&!this.dragging&&this._enableDragging(),this._mode=r,this.isMode("lock")&&this._disableDragging(),this._updateHandle(),this._refresh(),l&&l.isCollected(a)&&a.deselect(),this},nextMode:function(r){var a=this.getMode(),l=this.parentGroup,c=Object.keys(this.getModes()),u=c.indexOf(a),f=(u+1)%c.length,h=c[f];if(r){if(l&&l.anyCollected())return;L.DomEvent.stop(r)}return this.setMode(h)}}),L.distortableImage.edit=function(i,r){return new L.DistortableImage.Edit(i,r)}},"./src/edit/actions/BorderAction.js":function(){L.BorderAction=L.EditAction.extend({initialize:function(r,a,l){var c=a.editing,u=c._mode,f,h;c._outlined?(f="border_outer",h=a.options.translation.removeBorder):(f="border_clear",h=a.options.translation.addBorder),l=l||{},l.toolbarIcon={svg:!0,html:f,tooltip:h,className:u==="lock"?"disabled":""},L.DistortableImage.action_map.b=u==="lock"?"":"_toggleBorder",L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.editing;L.IconUtil.toggleXlink(this._link,"border_clear","border_outer"),L.IconUtil.toggleTitle(this._link,"Remove Border","Add Border"),r._toggleBorder()}})},"./src/edit/actions/DeleteAction.js":function(){L.DeleteAction=L.EditAction.extend({initialize:function(r,a,l){var c=a.editing,u="delete_forever",f;c instanceof L.DistortableImage.Edit?(f=a.options.translation.deleteImage,L.DistortableImage.action_map.Backspace=c._mode==="lock"?"":"_removeOverlay"):(f=a.options.translation.deleteImages,L.DistortableImage.group_action_map.Backspace=c._mode==="lock"?"":"_removeGroup"),l=l||{},l.toolbarIcon={svg:!0,html:u,tooltip:f,className:c._mode==="lock"?"disabled":""},L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.editing;r instanceof L.DistortableImage.Edit?r._removeOverlay():r._removeGroup()}})},"./src/edit/actions/DistortAction.js":function(){L.DistortAction=L.EditAction.extend({initialize:function(r,a,l){l=l||{},l.toolbarIcon={svg:!0,html:"distort",tooltip:a.options.translation.distortImage,className:"distort"},L.DistortableImage.action_map.d="_distortMode",L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.editing;r._distortMode()}})},"./src/edit/actions/DragAction.js":function(){L.DragAction=L.EditAction.extend({initialize:function(r,a,l){l=l||{},l.toolbarIcon={svg:!0,html:"drag",tooltip:a.options.translation.dragImage,className:"drag"},L.DistortableImage.action_map.D="_dragMode",L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.editing;r._dragMode()}})},"./src/edit/actions/EditAction.js":function(){L.DistortableImage=L.DistortableImage||{},L.distortableImage=L.DistortableImage,L.DistortableImage.action_map={},L.EditAction=L.Toolbar2.Action.extend({options:{toolbarIcon:{svg:!1,html:"",className:"",tooltip:""}},initialize:function(r,a,l){this._overlay=a,this._map=r,L.setOptions(this,l),L.Toolbar2.Action.prototype.initialize.call(this,l),this._injectIconSet()},_createIcon:function(r,a,l){var c=this,u=this.options.toolbarIcon,f=u.className,h=this._overlay.editing;this.toolbar=r,this._icon=L.DomUtil.create("li","",a),this._link=L.DomUtil.create("a","",this._icon),u.svg?this._link.innerHTML=L.IconUtil.create(u.html):this._link.innerHTML=u.html,this._link.setAttribute("href","#"),this._link.setAttribute("title",u.tooltip),this._link.setAttribute("role","button"),L.DomUtil.addClass(this._link,this.constructor.baseClass),f&&(L.DomUtil.addClass(this._link,f),f==="disabled"&&L.DomUtil.addClass(this._icon,f),f===h._mode?L.DomUtil.addClass(this._link,"selected-mode"):L.DomUtil.removeClass(this._link,"selected-mode")),L.DomEvent.on(this._link,"click",this.enable,this),L.DomEvent.on(this._overlay,"update",function(){var p=c._link.innerHTML.match(/xlink:href="#restore"/);p&&p.length===1&&c._enableAction()}),this._addSubToolbar(r,this._icon,l)},_injectIconSet:function(){if(!document.querySelector("#iconset")){var r=document.createElement("div");r.id="iconset",r.setAttribute("hidden","hidden"),r.innerHTML=new L.ToolbarIconSet().render(),document.querySelector(".leaflet-marker-pane").appendChild(r)}},_enableAction:function(){L.DomUtil.removeClass(this._link.parentElement,"disabled"),L.DomUtil.removeClass(this._link,"disabled")},_disableAction:function(){L.DomUtil.addClass(this._link.parentElement,"disabled"),L.DomUtil.addClass(this._link,"disabled")}}),L.editAction=function(i,r,a){return new L.EditAction(i,r,a)}},"./src/edit/actions/ExportAction.js":function(){L.ExportAction=L.EditAction.extend({initialize:function(r,a,l){var c=a.editing,u;this.isExporting=!1,this.mouseLeaveSkip=!0,this.isHooksExecuted=!1,c instanceof L.DistortableImage.Edit?(L.DistortableImage.action_map.e="_getExport",u=a.options.translation.exportImage):(L.DistortableImage.group_action_map.e="runExporter",u=a.options.translation.exportImages),l=l||{},l.toolbarIcon={svg:!0,html:"get_app",tooltip:u},L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.editing;if(r instanceof L.DistortableImage.Edit){r._getExport();return}if(!this.isHooksExecuted){this.isHooksExecuted=!0;var a=this._link.parentElement;this.mouseEnterHandler=this.handleMouseEnter.bind(this),this.mouseLeaveHandler=this.handleMouseLeave.bind(this),L.DomEvent.on(a,"click",function(){if(!this.isExporting)this.isExporting=!0,this.renderExportIcon(),setTimeout(this.attachMouseEventListeners.bind(this,a),100),r.runExporter().then((function(){this.resetState(),this.detachMouseEventListeners(a)}).bind(this));else{if(this.mouseLeaveSkip)return;this.resetState(),this.detachMouseEventListeners(a),r.cancelExport()}},this)}},resetState:function(){this.renderDownloadIcon(),this.isExporting=!1,this.mouseLeaveSkip=!0},attachMouseEventListeners:function(r){r.addEventListener("mouseenter",this.mouseEnterHandler),r.addEventListener("mouseleave",this.mouseLeaveHandler)},detachMouseEventListeners:function(r){r.removeEventListener("mouseenter",this.mouseEnterHandler),r.removeEventListener("mouseleave",this.mouseLeaveHandler)},handleMouseEnter:function(){this.renderCancelIcon()},handleMouseLeave:function(){this.mouseLeaveSkip?this.mouseLeaveSkip=!1:this.renderExportIcon()},renderDownloadIcon:function(){L.IconUtil.toggleXlink(this._link,"get_app","spinner"),L.IconUtil.toggleTitle(this._link,"Export Images","Loading..."),L.DomUtil.removeClass(this._link.firstChild,"loader")},renderExportIcon:function(){L.IconUtil.toggleXlink(this._link,"spinner"),L.IconUtil.toggleTitle(this._link,"Export Images","Loading..."),L.IconUtil.addClassToSvg(this._link,"loader")},renderCancelIcon:function(){L.IconUtil.toggleXlink(this._link,"cancel"),L.IconUtil.toggleTitle(this._link,"Cancel Export","Loading..."),L.DomUtil.removeClass(this._link.firstChild,"loader")}})},"./src/edit/actions/FreeRotateAction.js":function(){L.FreeRotateAction=L.EditAction.extend({initialize:function(r,a,l){l=l||{},l.toolbarIcon={svg:!0,html:"crop_rotate",tooltip:a.options.translation.freeRotateImage,className:"freeRotate"},L.DistortableImage.action_map.f="_freeRotateMode",L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.editing;r._freeRotateMode()}})},"./src/edit/actions/GeolocateAction.js":function(){L.GeolocateAction=L.EditAction.extend({initialize:function(r,a,l){var c=a.editing;l=l||{},l.toolbarIcon={svg:!0,html:"explore",tooltip:a.options.translation.geolocateImage,className:c._mode==="lock"?"disabled":""},L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.getElement();EXIF.getData(r,L.EXIF(r))}})},"./src/edit/actions/LockAction.js":function(){L.LockAction=L.EditAction.extend({initialize:function(r,a,l){var c=a.editing,u,f;c instanceof L.DistortableImage.Edit?(L.DistortableImage.action_map.u="_unlock",L.DistortableImage.action_map.l="_lock",f=a.options.translation.lockMode,u=c.isMode("lock")?"lock":"unlock"):(L.DistortableImage.group_action_map.l="_lockGroup",f=a.options.translation.lockImages,u="lock"),l=l||{},l.toolbarIcon={svg:!0,html:u,tooltip:f,className:"lock"},L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.editing;r instanceof L.DistortableImage.Edit?r._toggleLockMode():r._lockGroup()}})},"./src/edit/actions/OpacityAction.js":function(){L.OpacityAction=L.EditAction.extend({initialize:function(r,a,l){var c=a.editing,u=c._mode,f,h;c._transparent?(f="opacity_empty",h=a.options.translation.makeImageOpaque):(f="opacity",h=a.options.translation.makeImageTransparent),l=l||{},l.toolbarIcon={svg:!0,html:f,tooltip:h,className:u==="lock"?"disabled":""},L.DistortableImage.action_map.o=u==="lock"?"":"_toggleOpacity",L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.editing,a=this._link;L.IconUtil.toggleXlink(a,"opacity","opacity_empty"),L.IconUtil.toggleTitle(a,"Make Image Transparent","Make Image Opaque"),r._toggleOpacity()}})},"./src/edit/actions/RestoreAction.js":function(){L.RestoreAction=L.EditAction.extend({initialize:function(r,a,l){var c=L.Utils.getNestedVal(a,"editing","_mode"),u=a.edited;l=l||{},l.toolbarIcon={svg:!0,html:"restore",tooltip:a.options.translation.restoreImage,className:u&&c!=="lock"?"":"disabled"},L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay;L.DomEvent.on(r,{edit:this._enableAction,restore:this._disableAction},this),r.restore()}})},"./src/edit/actions/RotateAction.js":function(){L.RotateAction=L.EditAction.extend({initialize:function(r,a,l){l=l||{},l.toolbarIcon={svg:!0,html:"rotate",tooltip:a.options.translation.rotateImage,className:"rotate"},L.DistortableImage.action_map.r="_rotateMode",L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.editing;r._rotateMode()}})},"./src/edit/actions/ScaleAction.js":function(){L.ScaleAction=L.EditAction.extend({initialize:function(r,a,l){l=l||{},l.toolbarIcon={svg:!0,html:"scale",tooltip:a.options.translation.scaleImage,className:"scale"},L.DistortableImage.action_map.s="_scaleMode",L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.editing;r._scaleMode()}})},"./src/edit/actions/StackAction.js":function(){L.StackAction=L.EditAction.extend({initialize:function(r,a,l){var c=a.editing,u,f;c._toggledImage?(u="flip_to_back",f=a.options.translation.stackToFront):(u="flip_to_front",f=a.options.translation.stackToBack),l=l||{},l.toolbarIcon={svg:!0,html:u,tooltip:f,className:c._mode==="lock"?"disabled":""},L.DistortableImage.action_map.q=c._mode==="lock"?"":"_stackUp",L.DistortableImage.action_map.a=c._mode==="lock"?"":"_stackDown",L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.editing;L.IconUtil.toggleXlink(this._link,"flip_to_front","flip_to_back"),L.IconUtil.toggleTitle(this._link,"Stack to Front","Stack to Back"),r._toggleOrder()}})},"./src/edit/actions/UnlockAction.js":function(){L.UnlockAction=L.EditAction.extend({initialize:function(r,a,l){l=l||{},l.toolbarIcon={svg:!0,html:"unlock",tooltip:a.options.translation.unlockImages},L.DistortableImage.group_action_map.u="_unlockGroup",L.EditAction.prototype.initialize.call(this,r,a,l)},addHooks:function(){var r=this._overlay.editing;r._unlockGroup()}})},"./src/edit/getEXIFdata.js":function(){L.EXIF=function(r){if(Object.keys(EXIF.getAllTags(r)).length!==0){console.log(EXIF.getAllTags(r));var a=EXIF.getAllTags(r);typeof a.GPSLatitude<"u"&&typeof a.GPSLongitude<"u"&&(a.GPSLatitude[0]+a.GPSLatitude[1]/60+a.GPSLatitude[2]/3600,a.GPSLongitude[0]+a.GPSLongitude[1]/60+a.GPSLongitude[2]/3600,a.GPSLatitudeRef,a.GPSLongitudeRef),a.GPSImgDirectionRef==="T"||a.GPSImgDirectionRef==="M"?Math.PI/180*(a.GPSImgDirection.numerator/a.GPSImgDirection.denominator-90):console.log("No compass data found"),console.log("Orientation:",a.Orientation),a.Orientation===6||a.Orientation===8||a.Orientation,typeof a.GPSAltitude<"u"&&typeof a.GPSAltitudeRef<"u"&&typeof a.GPSAltitude<"u"&&typeof a.GPSAltitudeRef<"u"&&a.GPSAltitude.numerator/a.GPSAltitude.denominator+a.GPSAltitudeRef}else alert("EXIF initialized. Press again to view data in console.")}},"./src/edit/handles/DistortHandle.js":function(){L.DistortHandle=L.EditHandle.extend({options:{TYPE:"distort",icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAklEQVR4AewaftIAAAChSURBVO3BIU4DURgGwNkvL2B6AkQTLBqP4QCoSm7DDXoBLBZHDbfgICAIZjEV3YTn9uVHdMZZtcnCfI13bIzxg0emg6Nm6QVbYz3jylEsXRrvwommb49X67jFkz80fR9Mb1YxTzqiWBSLYlEsikWxKBbFolgUi2JRLIpFsSgWxaJY03fHHOu40dH07bAzWCx9Ge/TiWbpHgdsjPGNB2f/yS+7xRCyiiZPJQAAAABJRU5ErkJggg==",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag:function(){var r=this._handled;r.setCorner(this._corner,this.getLatLng())},updateHandle:function(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.distortHandle=function(i,r,a){return new L.DistortHandle(i,r,a)}},"./src/edit/handles/DragHandle.js":function(){L.DragHandle=L.EditHandle.extend({options:{TYPE:"drag",icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAsVJREFUeNrMVztLXEEUvnNVFAVBAhY2aRKbTZEHJNpYabuNjSgYg/GxdsmPSJkUAa/ZdVEX8mgWYVutbHxAHkVskjQBuUUgBISVhCQk3wnfwMlk1rusN1wHPubOzJlzvjlz5sxc01Ma/hUEwQnwDIjqc7uvgv9YYO86qgIwCXQbdNTlQ8kcCBHgBch8TcloF6oJGr6phk6EQAkfdz3zvgDr9Mr7Fg1fptEZoM8jsmrokpfsiIFO4IIjuE2v1EDmR4LRdlR5Gh51hj8D34ABtm8YTtqna0TgklIw5CgQguKxIojEjmFROg/MKQO27NkFAB+4wAPouGUJiIvWKHwbAxX2XyWRKWkqhT+pbJntJZJuUzISW0+5hW+obxrVBsfvoH/dqCCJuU97GBh2VteLSiYvArmErT8EVoAK9Bw7enbpVYmvAQlyowYforrH5jXL2rPHI/TKONDB7u9AlavdaTBPvPmazUeQuy8f7UomUgTEwIJPEQ3sQGE/6ll2l9H/KcEzBcfWn2IclluM3DpddJxSHujlFkscbUPvmB0LHVnLrId7nlaZVkEc6QGXQI1MAwZcWmVRHeNaQwJMMiU2cwy4s7p/RJ2ckpvIQs+cIs+5GzitloLKHUV3MPREuXbTOKO91dX387gGTONxIgEWm+E61FFrpcyqXLHsEwiDjEsjAksqw5XPoL9MHVrn6QR4q+XZrDaR4RoWzq2ymafuRA/Mq1stSsHLVkcbdf9VjOcx8ZH3+SFWcCWlVPyWuUBOwUWdC1wP5NVjYiXFWLO69PZ6CRTUY6KSIoEKdf6T3IzzgHxnsyHctNBEkmn6Oob8ExUDg/ahGybd177cDjzH5xHwgDiSvoS7I/LZyvxJZj0wod7tkX5G0XVC7rEyLhfLJjBGbKoLLEfZWObyKeZ6oY82g+yf5Zn/mJyHX7PMf04z/T3/LcAAu4E6iiyJqf0AAAAASUVORK5CYII=",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag:function(){var r=this._handled,a=r.getCorner(this._corner),l=this.getLatLng();r.dragBy(a,l)},updateHandle:function(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.dragHandle=function(i,r,a){return new L.DragHandle(i,r,a)}},"./src/edit/handles/EditHandle.js":function(){L.EditHandle=L.Marker.extend({initialize:function(r,a,l){var c=r.getCorner(a);L.setOptions(this,l),this._handled=r,this._corner=a;var u={draggable:!0,zIndexOffset:10};l&&l.hasOwnProperty("draggable")&&(u.draggable=l.draggable),L.Marker.prototype.initialize.call(this,c,u)},onAdd:function(r){L.Marker.prototype.onAdd.call(this,r),this._bindListeners(),this.updateHandle()},onRemove:function(r){this._unbindListeners(),L.Marker.prototype.onRemove.call(this,r)},_onHandleDragStart:function(){this._handled.fire("editstart")},_onHandleDragEnd:function(){this._fireEdit()},_fireEdit:function(){this._handled.edited=!0,this._handled.fire("edit")},_bindListeners:function(){this.on({contextmenu:L.DomEvent.stop,dragstart:this._onHandleDragStart,drag:this._onHandleDrag,dragend:this._onHandleDragEnd},this),this._handled._map.on("zoomend",this.updateHandle,this),this._handled.on("update",this.updateHandle,this)},_unbindListeners:function(){var r;this.off({contextmenu:L.DomEvent.stop,dragstart:this._onHandleDragStart,drag:this._onHandleDrag,dragend:this._onHandleDragEnd},this),(r=this._handled._map)==null||r.off("zoomend",this.updateHandle,this),this._handled.off("update",this.updateHandle,this)},_calculateScalingFactor:function(r,a){var l=this._handled,c=l._map,u=c.latLngToLayerPoint(l.getCenter()),f=c.latLngToLayerPoint(r),h=c.latLngToLayerPoint(a),p=this._d2(u,f),m=this._d2(u,h);return Math.sqrt(m/p)},_d2:function(r,a){var l=r.x-a.x,c=r.y-a.y;return Math.pow(l,2)+Math.pow(c,2)},calculateAngleDelta:function(r,a){var l=this._handled,c=l._map,u=c.latLngToLayerPoint(l.getCenter()),f=c.latLngToLayerPoint(r),h=c.latLngToLayerPoint(a),p=Math.atan2(u.y-f.y,u.x-f.x),m=Math.atan2(u.y-h.y,u.x-h.x);return m-p}})},"./src/edit/handles/FreeRotateHandle.js":function(){L.FreeRotateHandle=L.EditHandle.extend({options:{TYPE:"freeRotate",icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAklEQVR4AewaftIAAAHiSURBVMXBa3HbShgA0PMp/1sCCo8oCEpgTaCXgIXAJiDzyCJoAUTm4UVQAns1Y8+snWnTvJyeE16hkjDgDrfoNTMKcpC9UPiLSo8JyetkjEHxjPCMyoS199kFoz8Iv1HpMaN3qWDCHoegOKkkRwnJpRmroHgiPFEZ8IBekzEGxQtUEhKSS/fB7Ew4U+lxcGkVZG9QWWPSFAxBcdK59KApuA+yNwp2uEdx1GN25sZJZULSfAtm77SlbNjju6MvG75u+WHRWVR6rDVjMPsgwYyVZl3pLTpHkyYHOx8syMiayaJzlDTZ9YyaZNFVkiYH2ZUEBcVJJXVImuz6Js3Qofe59pq7DoOTILu+g+a288mCouk7/1iH4qTS+2QdDppbV1ZJmrnDXnPnc5UOs2Z0fUmTuyBr+krvSioJyUmQO0dZM7mepMkWnaNRkyrJB6uskTSjxY3Fll8bvmJwlDb83FJ8gMqAB80uyBY3Trb82PAfvjj6vuHnluIdKgMeNXOwctK5NKBoHitrb1RJeHRp5Ux4ojLg0aWMHGQvUOkxIWkKVsHsTPiNSo8HDC5lZIsgO6n0uMUdRvQuFQxB8UR4RmXC2vvsgtEfhL+o9JiQvE7GGBTPCK9QSUjoMWgKDthjDrIX+h/k0I7gth6N5gAAAABJRU5ErkJggg==",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag:function(){var r=this._handled,a=r._map,l=r.getCorner(this._corner),c=this.getLatLng(),u=this.calculateAngleDelta(l,c),f=this._calculateScalingFactor(l,c);u!==0&&r.rotateBy(u,"rad");var h=r.edgeMinWidth;h||(h=50);var p=a.latLngToContainerPoint(r.getCorner(0)),m=a.latLngToContainerPoint(r.getCorner(1)),v=Math.abs(p.x-m.x),E=Math.abs(p.y-m.y),S=Math.sqrt(v*v+E*E);S>h||f>1?r.scaleBy(f):r.scaleBy(1)},updateHandle:function(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.freeRotateHandle=function(i,r,a){return new L.FreeRotateHandle(i,r,a)}},"./src/edit/handles/LockHandle.js":function(){L.LockHandle=L.EditHandle.extend({options:{TYPE:"lock",interactive:!1,icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAklEQVR4AewaftIAAAD8SURBVO3BPU7CYAAA0AdfjIcQlRCQBG7C3gk2uIPG2RC3Dk16Gz0FTO1WZs/gwGCMP/2+xsSl7+n1er1Iz9LtRQjaPeMeO+TinLDCJV78YqjdA04YodKuxhUaPGoRxMmxwRQZSt87Yo4KExGCeAUyLLFB4bMacxywEClIU2KDKXbInTUYo8JCgoFuGoxQO5uiwY1EA91VmDqrcKeDoX8WdNNgjApvmGGLXKIgXY0xGkxQYItrrFFIEKQ5Yo4KEx9yrDFDhlKkIF6NOQ5Y+KpAhiXWKEQI4pxwiwoLPyuxwQw75FoE7fZYocFEuwI7jHCBV39gL92TXq/Xi/AOcmczZmaIMScAAAAASUVORK5CYII=",iconSize:[32,32],iconAnchor:[16,16]})},onRemove:function(r){this.unbindTooltip(),L.EditHandle.prototype.onRemove.call(this,r)},_bindListeners:function(){var r=this.getElement();L.EditHandle.prototype._bindListeners.call(this),L.DomEvent.on(r,{mousedown:this._tooltipOn,mouseup:this._tooltipOff},this),L.DomEvent.on(document,"pointerleave",this._tooltipOff,this)},_unbindListeners:function(){var r=this.getElement();L.EditHandle.prototype._bindListeners.call(this),L.DomEvent.off(r,{mousedown:this._tooltipOn,mouseup:this._tooltipOff},this),L.DomEvent.off(document,"pointerleave",this._tooltipOff,this)},_onHandleDrag:function(){},updateHandle:function(){this.setLatLng(this._handled.getCorner(this._corner))},_tooltipOn:function(r){var a=this._handled.parentGroup,l=a?a.editing:this._handled.editing;if(!r.shiftKey&&!(!this._handled.isSelected()&&a&&!a.isCollected(this._handled))){var c=l._lockHandles;this._timer=setTimeout(L.bind(function(){this._timeout&&clearTimeout(this._timeout),this.getTooltip()?c.eachLayer(function(u){this!==u&&u.closeTooltip()}):this.bindTooltip("Locked!",{permanent:!0}),this.openTooltip()},this),500)}},_tooltipOff:function(r){var a=this._handled.parentGroup,l=a?a.editing:this._handled.editing;if(!r.shiftKey&&!(!this._handled.isSelected()&&a&&!a.isCollected(this._handled))){var c=l._lockHandles;r.currentTarget===document&&c.eachLayer(function(u){u.closeTooltip()}),this._timer&&clearTimeout(this._timer),this._timeout=setTimeout(L.bind(function(){this.closeTooltip()},this),400)}}}),L.lockHandle=function(i,r,a){return new L.LockHandle(i,r,a)}},"./src/edit/handles/RotateHandle.js":function(){L.RotateHandle=L.EditHandle.extend({options:{TYPE:"rotate",icon:L.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAklEQVR4AewaftIAAAHiSURBVMXBa3HbShgA0PMp/1sCCo8oCEpgTaCXgIXAJiDzyCJoAUTm4UVQAns1Y8+snWnTvJyeE16hkjDgDrfoNTMKcpC9UPiLSo8JyetkjEHxjPCMyoS199kFoz8Iv1HpMaN3qWDCHoegOKkkRwnJpRmroHgiPFEZ8IBekzEGxQtUEhKSS/fB7Ew4U+lxcGkVZG9QWWPSFAxBcdK59KApuA+yNwp2uEdx1GN25sZJZULSfAtm77SlbNjju6MvG75u+WHRWVR6rDVjMPsgwYyVZl3pLTpHkyYHOx8syMiayaJzlDTZ9YyaZNFVkiYH2ZUEBcVJJXVImuz6Js3Qofe59pq7DoOTILu+g+a288mCouk7/1iH4qTS+2QdDppbV1ZJmrnDXnPnc5UOs2Z0fUmTuyBr+krvSioJyUmQO0dZM7mepMkWnaNRkyrJB6uskTSjxY3Fll8bvmJwlDb83FJ8gMqAB80uyBY3Trb82PAfvjj6vuHnluIdKgMeNXOwctK5NKBoHitrb1RJeHRp5Ux4ojLg0aWMHGQvUOkxIWkKVsHsTPiNSo8HDC5lZIsgO6n0uMUdRvQuFQxB8UR4RmXC2vvsgtEfhL+o9JiQvE7GGBTPCK9QSUjoMWgKDthjDrIX+h/k0I7gth6N5gAAAABJRU5ErkJggg==",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag:function(){var r=this._handled,a=r.getCorner(this._corner),l=this.getLatLng(),c=this.calculateAngleDelta(a,l);r.rotateBy(c,"rad")},updateHandle:function(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.rotateHandle=function(i,r,a){return new L.RotateHandle(i,r,a)}},"./src/edit/handles/ScaleHandle.js":function(){L.ScaleHandle=L.EditHandle.extend({options:{TYPE:"scale",icon:L.icon({iconUrl:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI0NTkiIGhlaWdodD0iNDY0IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHlsZT0iIj48cmVjdCBpZD0iYmFja2dyb3VuZHJlY3QiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHg9IjAiIHk9IjAiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgY2xhc3M9IiIgc3R5bGU9IiIvPjxnIGNsYXNzPSJjdXJyZW50TGF5ZXIiIHN0eWxlPSIiPjx0aXRsZT5MYXllciAxPC90aXRsZT48cGF0aCBkPSJNNDU5LjA0OTE1OTUzMDQ3MTM0LDg2LjkyNjIzNDUxMjU1MDAyIFYwIGgtODUuNzE0NTczMzU2MzEyMDkgdjI3LjA0MzcxNzQwMzkwNDQ1MiBIODUuNzE0NTczMzU2MzEyMDMgVjAgSDAgdjg2LjkyNjIzNDUxMjU1MDAyIGgyNS43MTQzNzIwMDY4OTM2MjYgdjI4OS43NTQxMTUwNDE4MzM0IEgwIHY4Ni45MjYyMzQ1MTI1NTAwMiBoODUuNzE0NTczMzU2MzEyMDkgdi0yNy4wNDM3MTc0MDM5MDQ0NTIgaDI4NS43MTUyNDQ1MjEwNDAzIHYyNy4wNDM3MTc0MDM5MDQ0NTIgaDg1LjcxNDU3MzM1NjMxMjA5IHYtODYuOTI2MjM0NTEyNTUwMDIgaC0yMy44MDk2MDM3MTAwODY2OSBWODYuOTI2MjM0NTEyNTUwMDIgSDQ1OS4wNDkxNTk1MzA0NzEzNCB6TTM4NC43NjMxOTU5NTUwMDA5LDEyLjU1NjAxMTY1MTgxMjc4MSBoNjEuOTA0OTY5NjQ2MjI1Mzk2IHY2Mi43ODAwNTgyNTkwNjM5MSBoLTYxLjkwNDk2OTY0NjIyNTM5NiBWMTIuNTU2MDExNjUxODEyNzgxIHpNMTIuMzgwOTkzOTI5MjQ1MDUsMTIuNTU2MDExNjUxODEyNzgxIGg2MS45MDQ5Njk2NDYyMjUzOTYgdjYyLjc4MDA1ODI1OTA2MzkxIEgxMi4zODA5OTM5MjkyNDUwNSBWMTIuNTU2MDExNjUxODEyNzgxIHpNNzQuMjg1OTYzNTc1NDcwNTMsNDUxLjA1MDU3MjQxNTEyMDY2IEgxMi4zODA5OTM5MjkyNDUwNSB2LTYyLjc4MDA1ODI1OTA2MzkxIGg2MS45MDQ5Njk2NDYyMjUzOTYgVjQ1MS4wNTA1NzI0MTUxMjA2NiB6TTQ0NS43MTU3ODE0NTI4MjI3NCw0NTEuMDUwNTcyNDE1MTIwNjYgaC02Mi44NTczNTM3OTQ2Mjg4NjQgdi02Mi43ODAwNTgyNTkwNjM5MSBoNjIuODU3MzUzNzk0NjI4ODY0IFY0NTEuMDUwNTcyNDE1MTIwNjYgek00MDcuNjIwNDE1NTE2Njg0MjYsMzc2LjY4MDM0OTU1NDM4MzQ0IGgtMzYuMTkwNTk3NjM5MzMxNzcgdjMyLjgzODc5OTcwNDc0MTEyIEg4NS43MTQ1NzMzNTYzMTIwMyB2LTMyLjgzODc5OTcwNDc0MTEyIEg0OS41MjM5NzU3MTY5ODAzMiBWODYuOTI2MjM0NTEyNTUwMDIgaDM2LjE5MDU5NzYzOTMzMTc3IFY1MC4yMjQwNDY2MDcyNTExMjUgaDI4Ny42MjAwMTI4MTc4NDcyIHYzNi43MDIxODc5MDUyOTg5IGgzNC4yODU4MjkzNDI1MjQ4MzUgVjM3Ni42ODAzNDk1NTQzODM0NCB6IiBpZD0ic3ZnXzIiIGNsYXNzPSIiIGZpbGw9IiMxYTFhZWIiIGZpbGwtb3BhY2l0eT0iMSIvPjwvZz48L3N2Zz4=",iconSize:[32,32],iconAnchor:[16,16]})},_onHandleDrag:function(){var r=this._handled,a=r._map,l=r.edgeMinWidth,c=r.getCorner(this._corner),u=this.getLatLng(),f=this._calculateScalingFactor(c,u);l||(l=50);var h=a.latLngToLayerPoint(r.getCorner(0)),p=a.latLngToLayerPoint(r.getCorner(1)),m=Math.abs(h.x-p.x),v=Math.abs(h.y-p.y),E=Math.sqrt(m*m+v*v);E>l||f>1?r.scaleBy(f):r.scaleBy(1)},updateHandle:function(){this.setLatLng(this._handled.getCorner(this._corner))}}),L.scaleHandle=function(i,r,a){return new L.ScaleHandle(i,r,a)}},"./src/edit/toolbars/DistortableImage.ControlBar.js":function(){L.distortableImage=L.DistortableImage||{},L.distortableImage=L.DistortableImage,L.DistortableImage.group_action_map={},L.DistortableImage.ControlBar=L.Toolbar2.Control.extend({}),L.distortableImage.controlBar=function(i){return new L.DistortableImage.ControlBar(i)},L.DistortableCollection.addInitHook(function(){this.ACTIONS=[L.ExportAction,L.DeleteAction,L.LockAction,L.UnlockAction],L.DistortableCollection.Edit.MODES={lock:L.LockAction,unlock:L.UnlockAction};var i=this.options.actions?this.options.actions:this.ACTIONS;this.editing=L.distortableCollection.edit(this,{actions:i})})},"./src/edit/toolbars/DistortableImage.PopupBar.js":function(){L.DistortableImage=L.DistortableImage||{},L.distortableImage=L.DistortableImage,L.DistortableImage.action_map={},L.DistortableImage.PopupBar=L.Toolbar2.Popup.extend({options:{anchor:[0,-10]},initialize:function(r,a){L.setOptions(this,a),L.Toolbar2.Popup.prototype.initialize.call(this,r,a)},addHooks:function(r,a){this.map=r,this.ov=a},tools:function(){if(this._ul)return this._ul.children},clickTool:function(r){for(var a=this.tools(),l=0;l<a.length;l++){var c=a.item(l).children[0];if(L.DomUtil.hasClass(c,r))return c.click(),c}return!1}}),L.distortableImage.popupBar=function(i,r){return new L.DistortableImage.PopupBar(i,r)},L.DistortableImageOverlay.addInitHook(function(){this.ACTIONS=[L.DragAction,L.ScaleAction,L.DistortAction,L.RotateAction,L.FreeRotateAction,L.LockAction,L.OpacityAction,L.BorderAction,L.ExportAction,L.DeleteAction],L.DistortableImage.Edit.MODES={drag:L.DragAction,scale:L.ScaleAction,distort:L.DistortAction,rotate:L.RotateAction,freeRotate:L.FreeRotateAction,lock:L.LockAction};var i=this.options.actions?this.options.actions:this.ACTIONS;this.editing=L.distortableImage.edit(this,{actions:i})})},"./src/iconsets/IconSet.js":function(){L.IconSet=L.Class.extend({_svg:'<svg xmlns="http://www.w3.org/2000/svg">',_symbols:"",render:function(){return this.addSymbols(this._symbols),this._svg},addSymbols:function(r){this._svg+=r}})},"./src/iconsets/KeymapperIconSet.js":function(){L.KeymapperIconSet=L.IconSet.extend({_symbols:'<symbol viewBox="0 0 25 25" id="keyboard_open"><path d="M12 23l4-4H8l4 4zm7-15h-2V6h2v2zm0 3h-2V9h2v2zm-3-3h-2V6h2v2zm0 3h-2V9h2v2zm0 4H8v-2h8v2zM7 8H5V6h2v2zm0 3H5V9h2v2zm1-2h2v2H8V9zm0-3h2v2H8V6zm3 3h2v2h-2V9zm0-3h2v2h-2V6zm9-3H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></symbol>'})},"./src/iconsets/ToolbarIconSet.js":function(){L.ToolbarIconSet=L.IconSet.extend({_symbols:'<symbol viewBox="0 0 18 18" id="border_clear"><path d="M5.25 3.75h1.5v-1.5h-1.5v1.5zm0 6h1.5v-1.5h-1.5v1.5zm0 6h1.5v-1.5h-1.5v1.5zm3-3h1.5v-1.5h-1.5v1.5zm0 3h1.5v-1.5h-1.5v1.5zm-6 0h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm6 6h1.5v-1.5h-1.5v1.5zm6 3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0 6h1.5v-1.5h-1.5v1.5zm0-9h1.5v-1.5h-1.5v1.5zm-6 0h1.5v-1.5h-1.5v1.5zm6-4.5v1.5h1.5v-1.5h-1.5zm-6 1.5h1.5v-1.5h-1.5v1.5zm3 12h1.5v-1.5h-1.5v1.5zm0-6h1.5v-1.5h-1.5v1.5zm0-6h1.5v-1.5h-1.5v1.5z"/></symbol><symbol viewBox="0 0 18 18" id="border_outer"><path d="M9.75 5.25h-1.5v1.5h1.5v-1.5zm0 3h-1.5v1.5h1.5v-1.5zm3 0h-1.5v1.5h1.5v-1.5zm-10.5-6v13.5h13.5V2.25H2.25zm12 12H3.75V3.75h10.5v10.5zm-4.5-3h-1.5v1.5h1.5v-1.5zm-3-3h-1.5v1.5h1.5v-1.5z"/></symbol><symbol viewBox="0 0 18 18" id="cancel"><path d="M13.279 5.779l-1.058-1.058L9 7.942 5.779 4.721 4.721 5.779 7.942 9l-3.221 3.221 1.058 1.058L9 10.057l3.221 3.222 1.058-1.058L10.057 9z"/></symbol><symbol viewBox="0 0 18 18" id="crop_rotate"><path d="M5.603 16.117C3.15 14.947 1.394 12.57 1.125 9.75H0C.383 14.37 4.245 18 8.963 18c.172 0 .33-.015.495-.023L6.6 15.113l-.997 1.005zM9.037 0c-.172 0-.33.015-.495.03L11.4 2.888l.998-.998a7.876 7.876 0 0 1 4.477 6.36H18C17.617 3.63 13.755 0 9.037 0zM12 10.5h1.5V6A1.5 1.5 0 0 0 12 4.5H7.5V6H12v4.5zM6 12V3H4.5v1.5H3V6h1.5v6A1.5 1.5 0 0 0 6 13.5h6V15h1.5v-1.5H15V12H6z"/></symbol><symbol viewBox="0 0 18 18" id="delete_forever"><path d="M4.5 14.25c0 .825.675 1.5 1.5 1.5h6c.825 0 1.5-.675 1.5-1.5v-9h-9v9zm1.845-5.34l1.058-1.058L9 9.443l1.59-1.59 1.058 1.058-1.59 1.59 1.59 1.59-1.058 1.058L9 11.558l-1.59 1.59-1.058-1.058 1.59-1.59-1.597-1.59zM11.625 3l-.75-.75h-3.75l-.75.75H3.75v1.5h10.5V3h-2.625z"/></symbol><symbol viewBox="0 0 18 18" id="distort"><path d="M1.7 1.4H6v1.4h5.8V1.4h4.3v4.3h-1.4v5.8h1.4v4.4h-4.3v-1.5H6v1.5H1.7v-4.4h1.4V5.7H1.7V1.4zm10.1 4.3V4.3H6v1.4H4.6v5.8H6V13h5.8v-1.5h1.4V5.7h-1.4zM3.1 2.8v1.5h1.5V2.8H3.1zm10.1 0v1.5h1.5V2.8h-1.5zM3.1 13v1.4h1.5V13H3.1zm10.1 0v1.4h1.5V13h-1.5z"/></symbol><symbol viewBox="0 0 18 18" id="explore"><path d="M9 1.5C4.86 1.5 1.5 4.86 1.5 9c0 4.14 3.36 7.5 7.5 7.5 4.14 0 7.5-3.36 7.5-7.5 0-4.14-3.36-7.5-7.5-7.5zM9 15c-3.308 0-6-2.693-6-6 0-3.308 2.692-6 6-6 3.307 0 6 2.692 6 6 0 3.307-2.693 6-6 6zm-4.125-1.875l5.633-2.617 2.617-5.633-5.633 2.617-2.617 5.633zM9 8.175c.457 0 .825.367.825.825A.823.823 0 0 1 9 9.825.823.823 0 0 1 8.175 9c0-.457.367-.825.825-.825z"/></symbol><symbol viewBox="0 0 18 18" id="flip_to_back"><path d="M6.75 5.25h-1.5v1.5h1.5v-1.5zm0 3h-1.5v1.5h1.5v-1.5zm0-6a1.5 1.5 0 0 0-1.5 1.5h1.5v-1.5zm3 9h-1.5v1.5h1.5v-1.5zm4.5-9v1.5h1.5c0-.825-.675-1.5-1.5-1.5zm-4.5 0h-1.5v1.5h1.5v-1.5zm-3 10.5v-1.5h-1.5a1.5 1.5 0 0 0 1.5 1.5zm7.5-3h1.5v-1.5h-1.5v1.5zm0-3h1.5v-1.5h-1.5v1.5zm0 6c.825 0 1.5-.675 1.5-1.5h-1.5v1.5zm-10.5-7.5h-1.5v9a1.5 1.5 0 0 0 1.5 1.5h9v-1.5h-9v-9zm7.5-1.5h1.5v-1.5h-1.5v1.5zm0 9h1.5v-1.5h-1.5v1.5z"/></symbol><symbol viewBox="0 0 18 18" id="flip_to_front"><path d="M2.25 9.75h1.5v-1.5h-1.5v1.5zm0 3h1.5v-1.5h-1.5v1.5zm1.5 3v-1.5h-1.5a1.5 1.5 0 0 0 1.5 1.5zm-1.5-9h1.5v-1.5h-1.5v1.5zm9 9h1.5v-1.5h-1.5v1.5zm3-13.5h-7.5a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h7.5c.825 0 1.5-.675 1.5-1.5v-7.5c0-.825-.675-1.5-1.5-1.5zm0 9h-7.5v-7.5h7.5v7.5zm-6 4.5h1.5v-1.5h-1.5v1.5zm-3 0h1.5v-1.5h-1.5v1.5z"/></symbol><symbol viewBox="0 0 18 18" id="get_app"><path d="M14.662 6.95h-3.15v-4.5H6.787v4.5h-3.15L9.15 12.2l5.512-5.25zM3.637 13.7v1.5h11.025v-1.5H3.637z"/></symbol><symbol viewBox="0 0 18 18" id="lock"><path d="M13.5 6h-.75V4.5C12.75 2.43 11.07.75 9 .75 6.93.75 5.25 2.43 5.25 4.5V6H4.5C3.675 6 3 6.675 3 7.5V15c0 .825.675 1.5 1.5 1.5h9c.825 0 1.5-.675 1.5-1.5V7.5c0-.825-.675-1.5-1.5-1.5zM6.75 4.5A2.247 2.247 0 0 1 9 2.25a2.247 2.247 0 0 1 2.25 2.25V6h-4.5V4.5zM13.5 15h-9V7.5h9V15zM9 12.75c.825 0 1.5-.675 1.5-1.5s-.675-1.5-1.5-1.5-1.5.675-1.5 1.5.675 1.5 1.5 1.5z"/></symbol><symbol viewBox="0 0 18 18" id="opacity"><path d="M13.245 6L9 1.763 4.755 6A6.015 6.015 0 0 0 3 10.23c0 1.5.585 3.082 1.755 4.252a5.993 5.993 0 0 0 8.49 0A6.066 6.066 0 0 0 15 10.23c0-1.5-.585-3.06-1.755-4.23zM4.5 10.5c.008-1.5.465-2.453 1.32-3.3L9 3.952l3.18 3.285c.855.84 1.313 1.763 1.32 3.263h-9z"/></symbol><symbol viewBox="0 0 14 18" id="opacity_empty"><path stroke="#0078A8" stroke-width="1.7" d="M10.708 6.25A5.113 5.113 0 0 1 12.2 9.846c0 1.275-.497 2.62-1.492 3.614a5.094 5.094 0 0 1-7.216 0A5.156 5.156 0 0 1 2 9.846c0-1.275.497-2.601 1.492-3.596L7.1 2.648l3.608 3.602zm0 0L7.1 2.648 3.492 6.25A5.113 5.113 0 0 0 2 9.846c0 1.275.497 2.62 1.492 3.614a5.094 5.094 0 0 0 7.216 0A5.156 5.156 0 0 0 12.2 9.846a5.113 5.113 0 0 0-1.492-3.596z"/></symbol><symbol viewBox="0 0 18 18" id="restore"><path d="M15.67 3.839a.295.295 0 0 0-.22.103l-5.116 3.249V4.179a.342.342 0 0 0-.193-.315.29.29 0 0 0-.338.078L3.806 7.751v-4.63h-.002l.002-.022c0-.277-.204-.502-.456-.502h-.873V2.6c-.253 0-.457.225-.457.503l.002.026v10.883h.005c.021.257.217.454.452.455l.016-.002h.822c.013.001.025.004.038.004.252 0 .457-.225.457-.502a.505.505 0 0 0-.006-.068V9.318l6.001 3.811a.288.288 0 0 0 .332.074.34.34 0 0 0 .194-.306V9.878l5.12 3.252a.288.288 0 0 0 .332.073.34.34 0 0 0 .194-.306V4.18a.358.358 0 0 0-.09-.24.296.296 0 0 0-.218-.1z"/></symbol><symbol viewBox="0 0 18 18" id="rotate"><path d="M5.505 4.808L.645 9.675l4.867 4.86 4.868-4.86-4.875-4.868zM2.768 9.675L5.513 6.93 8.25 9.675 5.505 12.42 2.768 9.675zM14.52 4.98A6.713 6.713 0 009.75 3V.57L6.57 3.75l3.18 3.18V4.5a5.23 5.23 0 013.713 1.537 5.255 5.255 0 010 7.426 5.23 5.23 0 01-5.843 1.08L6.503 15.66a6.76 6.76 0 003.247.84c1.725 0 3.457-.66 4.77-1.98a6.735 6.735 0 000-9.54z"/></symbol><symbol viewBox="0 0 18 18" id="scale"><path d="M8.25 9h-6a.75.75 0 00-.75.75v6c0 .414.336.75.75.75h6a.75.75 0 00.75-.75v-6A.75.75 0 008.25 9zm-.75 6H3v-4.5h4.5V15zm8.94-13.035a.75.75 0 00-.405-.405.75.75 0 00-.285-.06h-4.5a.75.75 0 000 1.5h2.692L9.967 6.968a.75.75 0 000 1.064.75.75 0 001.065 0L15 4.057V6.75a.75.75 0 101.5 0v-4.5a.75.75 0 00-.06-.285z" /></symbol><symbol viewBox="0 0 18 18" id="spinner"><path d="M9 6.48c-.216 0-.36-.144-.36-.36V3.24c0-.216.144-.36.36-.36s.36.144.36.36v2.88c0 .216-.144.36-.36.36z"/><path d="M9 15.12c-.216 0-.36-.144-.36-.36v-2.88c0-.216.144-.36.36-.36s.36.144.36.36v2.88c0 .216-.144.36-.36.36zm1.44-8.28c-.072 0-.108 0-.18-.036-.144-.108-.216-.288-.108-.468l1.44-2.484c.108-.144.288-.216.468-.108.144.108.216.288.108.468l-1.44 2.484c-.072.072-.18.144-.288.144zm-4.32 7.488c-.072 0-.108 0-.18-.036-.144-.108-.216-.288-.108-.468l1.44-2.484c.108-.144.288-.216.468-.108.144.108.216.288.108.468l-1.44 2.484c-.072.072-.18.144-.288.144z" opacity=".3"/><path d="M7.56 6.84c-.108 0-.216-.072-.288-.18l-1.44-2.484c-.108-.144-.036-.36.108-.468.144-.108.36-.036.468.108L7.848 6.3c.108.144.036.36-.108.468-.072.072-.108.072-.18.072z" opacity=".93"/><path d="M11.88 14.328c-.108 0-.216-.072-.288-.18l-1.44-2.484c-.108-.144-.036-.36.108-.468.144-.108.36-.036.468.108l1.44 2.484c.108.144.036.36-.108.468-.072.036-.108.072-.18.072z" opacity=".3"/><path d="M6.12 9.36H3.24c-.216 0-.36-.144-.36-.36s.144-.36.36-.36h2.88c.216 0 .36.144.36.36s-.144.36-.36.36z" opacity=".65"/><path d="M14.76 9.36h-2.88c-.216 0-.36-.144-.36-.36s.144-.36.36-.36h2.88c.216 0 .36.144.36.36s-.144.36-.36.36z" opacity=".3"/><path d="M6.516 7.884c-.072 0-.108 0-.18-.036l-2.484-1.44c-.144-.108-.216-.288-.108-.468.108-.144.288-.216.468-.108l2.484 1.44c.144.108.216.288.108.468a.327.327 0 01-.288.144z" opacity=".86"/><path d="M14.004 12.204c-.072 0-.108 0-.18-.036l-2.484-1.44c-.144-.108-.216-.288-.108-.468.108-.144.288-.216.468-.108l2.484 1.44c.144.108.216.288.108.468a.327.327 0 01-.288.144z" opacity=".3"/><path d="M3.996 12.204c-.108 0-.216-.072-.288-.18-.108-.144-.036-.36.108-.468l2.484-1.44c.144-.108.36-.036.468.108.108.144.036.36-.108.468l-2.484 1.44c-.036.072-.108.072-.18.072z" opacity=".44"/><path d="M11.484 7.884c-.108 0-.216-.072-.288-.18-.108-.144-.036-.36.108-.468l2.484-1.44c.144-.108.36-.036.468.108.108.144.036.36-.108.468l-2.484 1.44c-.072.072-.108.072-.18.072z" opacity=".3"/></symbol><symbol viewBox="0 0 18 18" id="drag"><path d="M2.3 16.5c-0.2 0-0.4-0.1-0.5-0.2 -0.2-0.2-0.3-0.5-0.2-0.8l2.5-6.5 -2.5-6.5C1.5 2.3 1.5 2 1.7 1.8c0.2-0.2 0.5-0.3 0.8-0.2l6.5 2.5 6.5-2.5c0.3-0.1 0.6 0 0.8 0.2 0.2 0.2 0.3 0.5 0.2 0.8l-2.5 6.5 2.5 6.5c0.1 0.3 0 0.6-0.2 0.8 -0.2 0.2-0.5 0.3-0.8 0.2l-6.5-2.5 -6.5 2.5C2.4 16.5 2.3 16.5 2.3 16.5zM3.6 3.6l2 5.1c0.1 0.2 0.1 0.4 0 0.5l-2 5.1 5.1-2c0.2-0.1 0.4-0.1 0.5 0l5.1 2L12.4 9.3c-0.1-0.2-0.1-0.4 0-0.5l2-5.1L9.3 5.6c-0.2 0.1-0.4 0.1-0.5 0L3.6 3.6z" /></symbol><symbol viewBox="0 0 18 18" id="unlock"><path d="M13.5 6h-.75V4.5C12.75 2.43 11.07.75 9 .75 6.93.75 5.25 2.43 5.25 4.5h1.5A2.247 2.247 0 0 1 9 2.25a2.247 2.247 0 0 1 2.25 2.25V6H4.5C3.675 6 3 6.675 3 7.5V15c0 .825.675 1.5 1.5 1.5h9c.825 0 1.5-.675 1.5-1.5V7.5c0-.825-.675-1.5-1.5-1.5zm0 9h-9V7.5h9V15zM9 12.75c.825 0 1.5-.675 1.5-1.5s-.675-1.5-1.5-1.5-1.5.675-1.5 1.5.675 1.5 1.5 1.5z"/></symbol>'})},"./src/mapmixins/BoxCollector.js":function(){L.Map.mergeOptions({boxCollector:!0,boxZoom:!1}),L.Map.BoxCollector=L.Map.BoxZoom.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){L.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){L.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){L.DomUtil.remove(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),L.DomUtil.disableTextSelection(),L.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(r),L.DomEvent.on(document,{contextmenu:L.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=L.DomUtil.create("div","leaflet-zoom-box",this._container),L.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r),this._bounds=L.bounds(this._startPoint,this._point);var a=this._bounds.getSize();L.DomUtil.setPosition(this._box,this._bounds.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(L.DomUtil.remove(this._box),L.DomUtil.removeClass(this._container,"leaflet-crosshair")),L.DomUtil.enableTextSelection(),L.DomUtil.enableImageDrag(),L.DomEvent.off(document,{contextmenu:L.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(L.Util.bind(this._resetState,this),0);var a=L.latLngBounds(this._map.containerPointToLatLng(this._bounds.getBottomLeft()),this._map.containerPointToLatLng(this._bounds.getTopRight())),l=this._map.getZoom(),c=this._map.getCenter();a=this._map._latLngBoundsToNewLayerBounds(a,l,c),this._map.fire("boxcollectend",{boxCollectBounds:a})}}}),L.Map.addInitHook("addHandler","boxCollector",L.Map.BoxCollector)},"./src/mapmixins/DoubleClickLabels.js":function(){L.Map.mergeOptions({doubleClickLabels:!0}),L.Map.DoubleClickLabels=L.Map.DoubleClickZoom.extend({enable:function(){var r=this._map;return this._enabled?this:(r.doubleClickZoom.enabled()&&r.doubleClickZoom.disable(),this._map.fire("singleclickon"),this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},_fireIfSingle:function(r){var a=this._map,l=r.originalEvent;l&&l.shiftKey||(a._clicked+=1,this._map._clickTimeout=setTimeout(function(){a._clicked===1?(a._clicked=0,a.fire("singleclick",{type:"singleclick"})):L.Browser.touch&&l&&l.sourceCapabilities.firesTouchEvents&&a.fire("dblclick")},250))},_onDoubleClick:function(){var r=this._map,a=r._labels;setTimeout(function(){r._clicked=0,clearTimeout(r._clickTimeout)},0),a&&(a.options.opacity===1?(a.options.opacity=0,a.setOpacity(0)):(a.options.opacity=1,a.setOpacity(1)))}}),L.Map.addInitHook("addHandler","doubleClickLabels",L.Map.DoubleClickLabels)},"./src/mapmixins/DoubleClickZoom.js":function(){L.Map.DoubleClickZoom.include({addHooks:function(){this._map.on({click:this._fireIfSingle,dblclick:this._onDoubleClick},this)},removeHooks:function(){this._map.off({click:this._fireIfSingle,dblclick:this._onDoubleClick},this)},enable:function(){return this._enabled?this:this._map.doubleClickLabels&&this._map.doubleClickLabels.enabled()?this:(this._map.fire("singleclickon"),this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._map.fire("singleclickoff"),this._enabled=!1,this.removeHooks(),this):this},_fireIfSingle:function(r){var a=this._map,l=r.originalEvent;l&&l.shiftKey||(a._clicked+=1,this._map._clickTimeout=setTimeout(function(){a._clicked===1?(a._clicked=0,a.fire("singleclick",{type:"singleclick"})):L.Browser.touch&&l&&l.sourceCapabilities.firesTouchEvents&&a._fireDOMEvent(l,"dblclick",[a])},250))},_onDoubleClick:function(r){var a=this._map,l=r.originalEvent;if(setTimeout(function(){a._clicked=0,clearTimeout(a._clickTimeout)},0),!l)return!1;var c=a.getZoom(),u=a.options.zoomDelta,f=l.shiftKey?c-u:c+u;a.options.doubleClickZoom==="center"?a.setZoom(f):a.setZoomAround(r.containerPoint,f)}})},"./src/mapmixins/MapMixins.js":function(){L.Map.include({_clicked:0,addGoogleMutant:function(r){var a="http://mt0.google.com/vt/lyrs=s&x={x}&y={y}&z={z}";return r=this.mutantOptions=L.extend({mutantOpacity:.8,maxZoom:24,maxNativeZoom:20,minZoom:0,labels:!0,labelOpacity:1,doubleClickLabels:!0},r),r.labels||(this.mutantOptions=L.extend(this.mutantOptions,{labelOpacity:r.labels?1:void 0,doubleClickLabels:r.labels?!0:void 0})),this._googleMutant=L.tileLayer(a,{maxZoom:r.maxZoom,maxNativeZoom:r.maxNativeZoom,minZoom:r.minZoom,opacity:r.mutantOpacity}).addTo(this),r.labels?this._addLabels(r):this.doubleClickLabels=void 0,this},_addLabels:function(r){var a="https://stamen-tiles-{s}.a.ssl.fastly.net/toner-labels/{z}/{x}/{y}{r}.{ext}";return r.labelOpacity!==0&&r.labelOpacity!==1&&(r.labelOpacity=1),this._labels=L.tileLayer(a,{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",interactive:!1,opacity:r.labelOpacity,maxZoom:r.maxZoom,maxNativeZoom:r.maxNativeZoom,minZoom:r.minZoom,ext:"png"}).addTo(this),this.mutantOptions.doubleClickLabels&&this.doubleClickLabels.enable(),this}}),L.Map.addInitHook(function(){this.doubleClickLabels.disable(),this.doubleClickZoom.enable()})},"./src/util/DomUtil.js":function(){L.DomUtil=L.extend(L.DomUtil,{initTranslation:function(r){this.translation=r},getMatrixString:function(r){var a=L.Browser.webkit3d||L.Browser.gecko3d||L.Browser.ie3d,l=[r[0],r[3],0,r[6],r[1],r[4],0,r[7],0,0,1,0,r[2],r[5],0,r[8]],c=a?"matrix3d("+l.join(",")+")":"";return a||console.log("Your browser must support 3D CSS transformsin order to use DistortableImageOverlay."),c},toggleClass:function(r,a){var l=a;return this.hasClass(r,l)?this.removeClass(r,l):this.addClass(r,l)},confirmDelete:function(){return window.confirm(this.translation.confirmImageDelete)},confirmDeletes:function(r){if(r===1)return this.confirmDelete();var a=this.translation.confirmImagesDeletes,l="";return typeof a=="function"?l=a(r):l=a,window.confirm(l)}})},"./src/util/IconUtil.js":function(){L.IconUtil={create:function(r){return/^#/.test(r)&&(r=r.replace(/^#/,"")),'<svg class="ldi-icon ldi-'+r+'"role="img" focusable="false"><use xlink:href="#'+r+'"></use></svg>'},addClassToSvg:function(r,a){var l=r.querySelector("svg");l&&L.DomUtil.addClass(l,a)},toggleXlink:function(r,a,l){/^#/.test(a)||(a="#"+a),/^#/.test(l)||(l="#"+l);var c=r.querySelector("use");if(c){var u=c.getAttribute("xlink:href")===a?l:a;return c.setAttribute("xlink:href",u),u}return!1},toggleTitle:function(r,a,l){var c=r.getAttribute("title")===a?l:a;return r.setAttribute("title",c),r.hasAttribute("aria-label")&&r.setAttribute("aria-label",c),c}}},"./src/util/ImageUtil.js":function(){L.ImageUtil={getCmPerPixel:function(r){var a=r._map,l=a.latLngToLayerPoint(r.getCorner(0)).distanceTo(a.latLngToLayerPoint(r.getCorner(1)));return l*100/r.getElement().width}}},"./src/util/MatrixUtil.js":function(){L.MatrixUtil={adj:function(r){return[r[4]*r[8]-r[5]*r[7],r[2]*r[7]-r[1]*r[8],r[1]*r[5]-r[2]*r[4],r[5]*r[6]-r[3]*r[8],r[0]*r[8]-r[2]*r[6],r[2]*r[3]-r[0]*r[5],r[3]*r[7]-r[4]*r[6],r[1]*r[6]-r[0]*r[7],r[0]*r[4]-r[1]*r[3]]},multmm:function(r,a){var l=[],c;for(c=0;c<3;c++)for(var u=0;u<3;u++){for(var f=0,h=0;h<3;h++)f+=r[3*c+h]*a[3*h+u];l[3*c+u]=f}return l},multmv:function(r,a){return[r[0]*a[0]+r[1]*a[1]+r[2]*a[2],r[3]*a[0]+r[4]*a[1]+r[5]*a[2],r[6]*a[0]+r[7]*a[1]+r[8]*a[2]]},multsm:function(r,a){for(var l=[],c=0,u=a.length;c<u;c++)l.push(r*a[c]);return l},basisToPoints:function(r,a,l,c,u,f,h,p){var m=[r,l,u,a,c,f,1,1,1],v=L.MatrixUtil.multmv(L.MatrixUtil.adj(m),[h,p,1]);return L.MatrixUtil.multmm(m,[v[0],0,0,0,v[1],0,0,0,v[2]])},project:function(r,a,l){var c=L.MatrixUtil.multmv(r,[a,l,1]);return[c[0]/c[2],c[1]/c[2]]},general2DProjection:function(r,a,l,c,u,f,h,p,m,v,E,S,P,b,w,_){var y=L.MatrixUtil.basisToPoints(r,a,u,f,m,v,P,b),x=L.MatrixUtil.basisToPoints(l,c,h,p,E,S,w,_),A=L.MatrixUtil.multmm(x,L.MatrixUtil.adj(y));return L.MatrixUtil.multsm(1/A[8],A)}}},"./src/util/TrigUtil.js":function(){L.TrigUtil={calcAngle:function(r,a){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"deg";return l==="deg"?this.radiansToDegrees(Math.atan2(a,r)):Math.atan2(a,r)},radiansToDegrees:function(r){return r*180/Math.PI},degreesToRadians:function(r){return r*Math.PI/180}}},"./src/util/Utils.js":function(){L.Utils={initTranslation:function(){var r={deleteImage:"Delete Image",deleteImages:"Delete Images",distortImage:"Distort Image",dragImage:"Drag Image",exportImage:"Export Image",exportImages:"Export Images",removeBorder:"Remove Border",addBorder:"Add Border",freeRotateImage:"Free rotate Image",geolocateImage:"Geolocate Image",lockMode:"Lock Mode",lockImages:"Lock Images",makeImageOpaque:"Make Image Opaque",makeImageTransparent:"Make Image Transparent",restoreImage:"Restore Natural Image",rotateImage:"Rotate Image",scaleImage:"Scale Image",stackToFront:"Stack to Front",stackToBack:"Stack to Back",unlockImages:"Unlock Images",confirmImageDelete:"Are you sure? This image will be permanently deleted from the map.",confirmImagesDeletes:"Are you sure? These images will be permanently deleted from the map."};if(!this.options.translation)this.options.translation=r;else for(var a in r)this.options.translation.hasOwnProperty(a)||(this.options.translation[a]=r[a]);L.DomUtil.initTranslation(this.options.translation)},getNestedVal:function(r,a,l){var c=[a,l];return c.reduce(function(u,f){return u&&u[f]},r)}}},"./node_modules/events/events.js":function(i){var r=typeof Reflect=="object"?Reflect:null,a=r&&typeof r.apply=="function"?r.apply:function(N,U,I){return Function.prototype.apply.call(N,U,I)},l;r&&typeof r.ownKeys=="function"?l=r.ownKeys:Object.getOwnPropertySymbols?l=function(N){return Object.getOwnPropertyNames(N).concat(Object.getOwnPropertySymbols(N))}:l=function(N){return Object.getOwnPropertyNames(N)};function c(D){console&&console.warn&&console.warn(D)}var u=Number.isNaN||function(N){return N!==N};function f(){f.init.call(this)}i.exports=f,i.exports.once=x,f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var h=10;function p(D){if(typeof D!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof D)}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(D){if(typeof D!="number"||D<0||u(D))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+D+".");h=D}}),f.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(N){if(typeof N!="number"||N<0||u(N))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+N+".");return this._maxListeners=N,this};function m(D){return D._maxListeners===void 0?f.defaultMaxListeners:D._maxListeners}f.prototype.getMaxListeners=function(){return m(this)},f.prototype.emit=function(N){for(var U=[],I=1;I<arguments.length;I++)U.push(arguments[I]);var B=N==="error",M=this._events;if(M!==void 0)B=B&&M.error===void 0;else if(!B)return!1;if(B){var T;if(U.length>0&&(T=U[0]),T instanceof Error)throw T;var O=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw O.context=T,O}var j=M[N];if(j===void 0)return!1;if(typeof j=="function")a(j,this,U);else for(var K=j.length,V=w(j,K),I=0;I<K;++I)a(V[I],this,U);return!0};function v(D,N,U,I){var B,M,T;if(p(U),M=D._events,M===void 0?(M=D._events=Object.create(null),D._eventsCount=0):(M.newListener!==void 0&&(D.emit("newListener",N,U.listener?U.listener:U),M=D._events),T=M[N]),T===void 0)T=M[N]=U,++D._eventsCount;else if(typeof T=="function"?T=M[N]=I?[U,T]:[T,U]:I?T.unshift(U):T.push(U),B=m(D),B>0&&T.length>B&&!T.warned){T.warned=!0;var O=new Error("Possible EventEmitter memory leak detected. "+T.length+" "+String(N)+" listeners added. Use emitter.setMaxListeners() to increase limit");O.name="MaxListenersExceededWarning",O.emitter=D,O.type=N,O.count=T.length,c(O)}return D}f.prototype.addListener=function(N,U){return v(this,N,U,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(N,U){return v(this,N,U,!0)};function E(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(D,N,U){var I={fired:!1,wrapFn:void 0,target:D,type:N,listener:U},B=E.bind(I);return B.listener=U,I.wrapFn=B,B}f.prototype.once=function(N,U){return p(U),this.on(N,S(this,N,U)),this},f.prototype.prependOnceListener=function(N,U){return p(U),this.prependListener(N,S(this,N,U)),this},f.prototype.removeListener=function(N,U){var I,B,M,T,O;if(p(U),B=this._events,B===void 0)return this;if(I=B[N],I===void 0)return this;if(I===U||I.listener===U)--this._eventsCount===0?this._events=Object.create(null):(delete B[N],B.removeListener&&this.emit("removeListener",N,I.listener||U));else if(typeof I!="function"){for(M=-1,T=I.length-1;T>=0;T--)if(I[T]===U||I[T].listener===U){O=I[T].listener,M=T;break}if(M<0)return this;M===0?I.shift():_(I,M),I.length===1&&(B[N]=I[0]),B.removeListener!==void 0&&this.emit("removeListener",N,O||U)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(N){var U,I,B;if(I=this._events,I===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[N]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete I[N]),this;if(arguments.length===0){var M=Object.keys(I),T;for(B=0;B<M.length;++B)T=M[B],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(U=I[N],typeof U=="function")this.removeListener(N,U);else if(U!==void 0)for(B=U.length-1;B>=0;B--)this.removeListener(N,U[B]);return this};function P(D,N,U){var I=D._events;if(I===void 0)return[];var B=I[N];return B===void 0?[]:typeof B=="function"?U?[B.listener||B]:[B]:U?y(B):w(B,B.length)}f.prototype.listeners=function(N){return P(this,N,!0)},f.prototype.rawListeners=function(N){return P(this,N,!1)},f.listenerCount=function(D,N){return typeof D.listenerCount=="function"?D.listenerCount(N):b.call(D,N)},f.prototype.listenerCount=b;function b(D){var N=this._events;if(N!==void 0){var U=N[D];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}f.prototype.eventNames=function(){return this._eventsCount>0?l(this._events):[]};function w(D,N){for(var U=new Array(N),I=0;I<N;++I)U[I]=D[I];return U}function _(D,N){for(;N+1<D.length;N++)D[N]=D[N+1];D.pop()}function y(D){for(var N=new Array(D.length),U=0;U<N.length;++U)N[U]=D[U].listener||D[U];return N}function x(D,N){return new Promise(function(U,I){function B(T){D.removeListener(N,M),I(T)}function M(){typeof D.removeListener=="function"&&D.removeListener("error",B),U([].slice.call(arguments))}H(D,N,M,{once:!0}),N!=="error"&&A(D,B,{once:!0})})}function A(D,N,U){typeof D.on=="function"&&H(D,"error",N,U)}function H(D,N,U,I){if(typeof D.on=="function")I.once?D.once(N,U):D.on(N,U);else if(typeof D.addEventListener=="function")D.addEventListener(N,function B(M){I.once&&D.removeEventListener(N,B),U(M)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof D)}},"./node_modules/html-entities/lib/index.js":function(i,r,a){var l=this&&this.__assign||function(){return l=Object.assign||function(D){for(var N,U=1,I=arguments.length;U<I;U++){N=arguments[U];for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&(D[B]=N[B])}return D},l.apply(this,arguments)};Object.defineProperty(r,"__esModule",{value:!0});var c=a("./node_modules/html-entities/lib/named-references.js"),u=a("./node_modules/html-entities/lib/numeric-unicode-map.js"),f=a("./node_modules/html-entities/lib/surrogate-pairs.js"),h=l(l({},c.namedReferences),{all:c.namedReferences.html5}),p={specialChars:/[<>'"&]/g,nonAscii:/(?:[<>'"&\u0080-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,nonAsciiPrintable:/(?:[<>'"&\x01-\x08\x11-\x15\x17-\x1F\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,extensive:/(?:[\x01-\x0c\x0e-\x1f\x21-\x2c\x2e-\x2f\x3a-\x40\x5b-\x60\x7b-\x7d\x7f-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g},m={mode:"specialChars",level:"all",numeric:"decimal"};function v(D,N){var V=N===void 0?m:N,F=V.mode,U=F===void 0?"specialChars":F,I=V.numeric,B=I===void 0?"decimal":I,M=V.level,T=M===void 0?"all":M;if(!D)return"";var O=p[U],j=h[T].characters,K=B==="hexadecimal";O.lastIndex=0;var V=O.exec(D),F;if(V){F="";var I=0;do{I!==V.index&&(F+=D.substring(I,V.index));var M=V[0],Z=j[M];if(!Z){var q=M.length>1?f.getCodePoint(M,0):M.charCodeAt(0);Z=(K?"&#x"+q.toString(16):"&#"+q)+";"}F+=Z,I=V.index+M.length}while(V=O.exec(D));I!==D.length&&(F+=D.substring(I))}else F=D;return F}r.encode=v;var E={scope:"body",level:"all"},S=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);/g,P=/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+)[;=]?/g,b={xml:{strict:S,attribute:P,body:c.bodyRegExps.xml},html4:{strict:S,attribute:P,body:c.bodyRegExps.html4},html5:{strict:S,attribute:P,body:c.bodyRegExps.html5}},w=l(l({},b),{all:b.html5}),_=String.fromCharCode,y=_(65533),x={level:"all"};function A(D,N){var I=(N===void 0?x:N).level,U=I===void 0?"all":I;if(!D)return"";var I=D;D[D.length-1];{var B=h[U].entities[D];if(B)I=B;else if(D[0]==="&"&&D[1]==="#"){var M=D[2],T=M=="x"||M=="X"?parseInt(D.substr(3),16):parseInt(D.substr(2));I=T>=1114111?y:T>65535?f.fromCodePoint(T):_(u.numericUnicodeMap[T]||T)}}return I}r.decodeEntity=A;function H(D,N){var U=N===void 0?E:N,I=U.level,B=I===void 0?"all":I,M=U.scope,T=M===void 0?B==="xml"?"strict":"body":M;if(!D)return"";var O=w[B][T],j=h[B].entities,K=T==="attribute",V=T==="strict";O.lastIndex=0;var F=O.exec(D),Z;if(F){Z="";var q=0;do{q!==F.index&&(Z+=D.substring(q,F.index));var W=F[0],J=W,X=W[W.length-1];if(K&&X==="=")J=W;else if(V&&X!==";")J=W;else{var ee=j[W];if(ee)J=ee;else if(W[0]==="&"&&W[1]==="#"){var te=W[2],re=te=="x"||te=="X"?parseInt(W.substr(3),16):parseInt(W.substr(2));J=re>=1114111?y:re>65535?f.fromCodePoint(re):_(u.numericUnicodeMap[re]||re)}}Z+=J,q=F.index+W.length}while(F=O.exec(D));q!==D.length&&(Z+=D.substring(q))}else Z=D;return Z}r.decode=H},"./node_modules/html-entities/lib/named-references.js":function(i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.bodyRegExps={xml:/&(?:#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html4:/&(?:nbsp|iexcl|cent|pound|curren|yen|brvbar|sect|uml|copy|ordf|laquo|not|shy|reg|macr|deg|plusmn|sup2|sup3|acute|micro|para|middot|cedil|sup1|ordm|raquo|frac14|frac12|frac34|iquest|Agrave|Aacute|Acirc|Atilde|Auml|Aring|AElig|Ccedil|Egrave|Eacute|Ecirc|Euml|Igrave|Iacute|Icirc|Iuml|ETH|Ntilde|Ograve|Oacute|Ocirc|Otilde|Ouml|times|Oslash|Ugrave|Uacute|Ucirc|Uuml|Yacute|THORN|szlig|agrave|aacute|acirc|atilde|auml|aring|aelig|ccedil|egrave|eacute|ecirc|euml|igrave|iacute|icirc|iuml|eth|ntilde|ograve|oacute|ocirc|otilde|ouml|divide|oslash|ugrave|uacute|ucirc|uuml|yacute|thorn|yuml|quot|amp|lt|gt|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g,html5:/&(?:AElig|AMP|Aacute|Acirc|Agrave|Aring|Atilde|Auml|COPY|Ccedil|ETH|Eacute|Ecirc|Egrave|Euml|GT|Iacute|Icirc|Igrave|Iuml|LT|Ntilde|Oacute|Ocirc|Ograve|Oslash|Otilde|Ouml|QUOT|REG|THORN|Uacute|Ucirc|Ugrave|Uuml|Yacute|aacute|acirc|acute|aelig|agrave|amp|aring|atilde|auml|brvbar|ccedil|cedil|cent|copy|curren|deg|divide|eacute|ecirc|egrave|eth|euml|frac12|frac14|frac34|gt|iacute|icirc|iexcl|igrave|iquest|iuml|laquo|lt|macr|micro|middot|nbsp|not|ntilde|oacute|ocirc|ograve|ordf|ordm|oslash|otilde|ouml|para|plusmn|pound|quot|raquo|reg|sect|shy|sup1|sup2|sup3|szlig|thorn|times|uacute|ucirc|ugrave|uml|uuml|yacute|yen|yuml|#\d+|#[xX][\da-fA-F]+|[0-9a-zA-Z]+);?/g},r.namedReferences={xml:{entities:{"&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&"},characters:{"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","&":"&amp;"}},html4:{entities:{"&apos;":"'","&nbsp":"","&nbsp;":"","&iexcl":"","&iexcl;":"","&cent":"","&cent;":"","&pound":"","&pound;":"","&curren":"","&curren;":"","&yen":"","&yen;":"","&brvbar":"","&brvbar;":"","&sect":"","&sect;":"","&uml":"","&uml;":"","&copy":"","&copy;":"","&ordf":"","&ordf;":"","&laquo":"","&laquo;":"","&not":"","&not;":"","&shy":"","&shy;":"","&reg":"","&reg;":"","&macr":"","&macr;":"","&deg":"","&deg;":"","&plusmn":"","&plusmn;":"","&sup2":"","&sup2;":"","&sup3":"","&sup3;":"","&acute":"","&acute;":"","&micro":"","&micro;":"","&para":"","&para;":"","&middot":"","&middot;":"","&cedil":"","&cedil;":"","&sup1":"","&sup1;":"","&ordm":"","&ordm;":"","&raquo":"","&raquo;":"","&frac14":"","&frac14;":"","&frac12":"","&frac12;":"","&frac34":"","&frac34;":"","&iquest":"","&iquest;":"","&Agrave":"","&Agrave;":"","&Aacute":"","&Aacute;":"","&Acirc":"","&Acirc;":"","&Atilde":"","&Atilde;":"","&Auml":"","&Auml;":"","&Aring":"","&Aring;":"","&AElig":"","&AElig;":"","&Ccedil":"","&Ccedil;":"","&Egrave":"","&Egrave;":"","&Eacute":"","&Eacute;":"","&Ecirc":"","&Ecirc;":"","&Euml":"","&Euml;":"","&Igrave":"","&Igrave;":"","&Iacute":"","&Iacute;":"","&Icirc":"","&Icirc;":"","&Iuml":"","&Iuml;":"","&ETH":"","&ETH;":"","&Ntilde":"","&Ntilde;":"","&Ograve":"","&Ograve;":"","&Oacute":"","&Oacute;":"","&Ocirc":"","&Ocirc;":"","&Otilde":"","&Otilde;":"","&Ouml":"","&Ouml;":"","&times":"","&times;":"","&Oslash":"","&Oslash;":"","&Ugrave":"","&Ugrave;":"","&Uacute":"","&Uacute;":"","&Ucirc":"","&Ucirc;":"","&Uuml":"","&Uuml;":"","&Yacute":"","&Yacute;":"","&THORN":"","&THORN;":"","&szlig":"","&szlig;":"","&agrave":"","&agrave;":"","&aacute":"","&aacute;":"","&acirc":"","&acirc;":"","&atilde":"","&atilde;":"","&auml":"","&auml;":"","&aring":"","&aring;":"","&aelig":"","&aelig;":"","&ccedil":"","&ccedil;":"","&egrave":"","&egrave;":"","&eacute":"","&eacute;":"","&ecirc":"","&ecirc;":"","&euml":"","&euml;":"","&igrave":"","&igrave;":"","&iacute":"","&iacute;":"","&icirc":"","&icirc;":"","&iuml":"","&iuml;":"","&eth":"","&eth;":"","&ntilde":"","&ntilde;":"","&ograve":"","&ograve;":"","&oacute":"","&oacute;":"","&ocirc":"","&ocirc;":"","&otilde":"","&otilde;":"","&ouml":"","&ouml;":"","&divide":"","&divide;":"","&oslash":"","&oslash;":"","&ugrave":"","&ugrave;":"","&uacute":"","&uacute;":"","&ucirc":"","&ucirc;":"","&uuml":"","&uuml;":"","&yacute":"","&yacute;":"","&thorn":"","&thorn;":"","&yuml":"","&yuml;":"","&quot":'"',"&quot;":'"',"&amp":"&","&amp;":"&","&lt":"<","&lt;":"<","&gt":">","&gt;":">","&OElig;":"","&oelig;":"","&Scaron;":"","&scaron;":"","&Yuml;":"","&circ;":"","&tilde;":"","&ensp;":"","&emsp;":"","&thinsp;":"","&zwnj;":"","&zwj;":"","&lrm;":"","&rlm;":"","&ndash;":"","&mdash;":"","&lsquo;":"","&rsquo;":"","&sbquo;":"","&ldquo;":"","&rdquo;":"","&bdquo;":"","&dagger;":"","&Dagger;":"","&permil;":"","&lsaquo;":"","&rsaquo;":"","&euro;":"","&fnof;":"","&Alpha;":"","&Beta;":"","&Gamma;":"","&Delta;":"","&Epsilon;":"","&Zeta;":"","&Eta;":"","&Theta;":"","&Iota;":"","&Kappa;":"","&Lambda;":"","&Mu;":"","&Nu;":"","&Xi;":"","&Omicron;":"","&Pi;":"","&Rho;":"","&Sigma;":"","&Tau;":"","&Upsilon;":"","&Phi;":"","&Chi;":"","&Psi;":"","&Omega;":"","&alpha;":"","&beta;":"","&gamma;":"","&delta;":"","&epsilon;":"","&zeta;":"","&eta;":"","&theta;":"","&iota;":"","&kappa;":"","&lambda;":"","&mu;":"","&nu;":"","&xi;":"","&omicron;":"","&pi;":"","&rho;":"","&sigmaf;":"","&sigma;":"","&tau;":"","&upsilon;":"","&phi;":"","&chi;":"","&psi;":"","&omega;":"","&thetasym;":"","&upsih;":"","&piv;":"","&bull;":"","&hellip;":"","&prime;":"","&Prime;":"","&oline;":"","&frasl;":"","&weierp;":"","&image;":"","&real;":"","&trade;":"","&alefsym;":"","&larr;":"","&uarr;":"","&rarr;":"","&darr;":"","&harr;":"","&crarr;":"","&lArr;":"","&uArr;":"","&rArr;":"","&dArr;":"","&hArr;":"","&forall;":"","&part;":"","&exist;":"","&empty;":"","&nabla;":"","&isin;":"","&notin;":"","&ni;":"","&prod;":"","&sum;":"","&minus;":"","&lowast;":"","&radic;":"","&prop;":"","&infin;":"","&ang;":"","&and;":"","&or;":"","&cap;":"","&cup;":"","&int;":"","&there4;":"","&sim;":"","&cong;":"","&asymp;":"","&ne;":"","&equiv;":"","&le;":"","&ge;":"","&sub;":"","&sup;":"","&nsub;":"","&sube;":"","&supe;":"","&oplus;":"","&otimes;":"","&perp;":"","&sdot;":"","&lceil;":"","&rceil;":"","&lfloor;":"","&rfloor;":"","&lang;":"","&rang;":"","&loz;":"","&spades;":"","&clubs;":"","&hearts;":"","&diams;":""},characters:{"'":"&apos;","":"&nbsp;","":"&iexcl;","":"&cent;","":"&pound;","":"&curren;","":"&yen;","":"&brvbar;","":"&sect;","":"&uml;","":"&copy;",:"&ordf;","":"&laquo;","":"&not;","":"&shy;","":"&reg;","":"&macr;","":"&deg;","":"&plusmn;","":"&sup2;","":"&sup3;","":"&acute;",:"&micro;","":"&para;","":"&middot;","":"&cedil;","":"&sup1;",:"&ordm;","":"&raquo;","":"&frac14;","":"&frac12;","":"&frac34;","":"&iquest;",:"&Agrave;",:"&Aacute;",:"&Acirc;",:"&Atilde;",:"&Auml;",:"&Aring;",:"&AElig;",:"&Ccedil;",:"&Egrave;",:"&Eacute;",:"&Ecirc;",:"&Euml;",:"&Igrave;",:"&Iacute;",:"&Icirc;",:"&Iuml;",:"&ETH;",:"&Ntilde;",:"&Ograve;",:"&Oacute;",:"&Ocirc;",:"&Otilde;",:"&Ouml;","":"&times;",:"&Oslash;",:"&Ugrave;",:"&Uacute;",:"&Ucirc;",:"&Uuml;",:"&Yacute;",:"&THORN;",:"&szlig;",:"&agrave;",:"&aacute;",:"&acirc;",:"&atilde;",:"&auml;",:"&aring;",:"&aelig;",:"&ccedil;",:"&egrave;",:"&eacute;",:"&ecirc;",:"&euml;",:"&igrave;",:"&iacute;",:"&icirc;",:"&iuml;",:"&eth;",:"&ntilde;",:"&ograve;",:"&oacute;",:"&ocirc;",:"&otilde;",:"&ouml;","":"&divide;",:"&oslash;",:"&ugrave;",:"&uacute;",:"&ucirc;",:"&uuml;",:"&yacute;",:"&thorn;",:"&yuml;",'"':"&quot;","&":"&amp;","<":"&lt;",">":"&gt;",:"&OElig;",:"&oelig;",:"&Scaron;",:"&scaron;",:"&Yuml;","":"&circ;","":"&tilde;","":"&ensp;","":"&emsp;","":"&thinsp;","":"&zwnj;","":"&zwj;","":"&lrm;","":"&rlm;","":"&ndash;","":"&mdash;","":"&lsquo;","":"&rsquo;","":"&sbquo;","":"&ldquo;","":"&rdquo;","":"&bdquo;","":"&dagger;","":"&Dagger;","":"&permil;","":"&lsaquo;","":"&rsaquo;","":"&euro;",:"&fnof;",:"&Alpha;",:"&Beta;",:"&Gamma;",:"&Delta;",:"&Epsilon;",:"&Zeta;",:"&Eta;",:"&Theta;",:"&Iota;",:"&Kappa;",:"&Lambda;",:"&Mu;",:"&Nu;",:"&Xi;",:"&Omicron;",:"&Pi;",:"&Rho;",:"&Sigma;",:"&Tau;",:"&Upsilon;",:"&Phi;",:"&Chi;",:"&Psi;",:"&Omega;",:"&alpha;",:"&beta;",:"&gamma;",:"&delta;",:"&epsilon;",:"&zeta;",:"&eta;",:"&theta;",:"&iota;",:"&kappa;",:"&lambda;",:"&mu;",:"&nu;",:"&xi;",:"&omicron;",:"&pi;",:"&rho;",:"&sigmaf;",:"&sigma;",:"&tau;",:"&upsilon;",:"&phi;",:"&chi;",:"&psi;",:"&omega;",:"&thetasym;",:"&upsih;",:"&piv;","":"&bull;","":"&hellip;","":"&prime;","":"&Prime;","":"&oline;","":"&frasl;","":"&weierp;",:"&image;",:"&real;","":"&trade;",:"&alefsym;","":"&larr;","":"&uarr;","":"&rarr;","":"&darr;","":"&harr;","":"&crarr;","":"&lArr;","":"&uArr;","":"&rArr;","":"&dArr;","":"&hArr;","":"&forall;","":"&part;","":"&exist;","":"&empty;","":"&nabla;","":"&isin;","":"&notin;","":"&ni;","":"&prod;","":"&sum;","":"&minus;","":"&lowast;","":"&radic;","":"&prop;","":"&infin;","":"&ang;","":"&and;","":"&or;","":"&cap;","":"&cup;","":"&int;","":"&there4;","":"&sim;","":"&cong;","":"&asymp;","":"&ne;","":"&equiv;","":"&le;","":"&ge;","":"&sub;","":"&sup;","":"&nsub;","":"&sube;","":"&supe;","":"&oplus;","":"&otimes;","":"&perp;","":"&sdot;","":"&lceil;","":"&rceil;","":"&lfloor;","":"&rfloor;","":"&lang;","":"&rang;","":"&loz;","":"&spades;","":"&clubs;","":"&hearts;","":"&diams;"}},html5:{entities:{"&AElig":"","&AElig;":"","&AMP":"&","&AMP;":"&","&Aacute":"","&Aacute;":"","&Abreve;":"","&Acirc":"","&Acirc;":"","&Acy;":"","&Afr;":"","&Agrave":"","&Agrave;":"","&Alpha;":"","&Amacr;":"","&And;":"","&Aogon;":"","&Aopf;":"","&ApplyFunction;":"","&Aring":"","&Aring;":"","&Ascr;":"","&Assign;":"","&Atilde":"","&Atilde;":"","&Auml":"","&Auml;":"","&Backslash;":"","&Barv;":"","&Barwed;":"","&Bcy;":"","&Because;":"","&Bernoullis;":"","&Beta;":"","&Bfr;":"","&Bopf;":"","&Breve;":"","&Bscr;":"","&Bumpeq;":"","&CHcy;":"","&COPY":"","&COPY;":"","&Cacute;":"","&Cap;":"","&CapitalDifferentialD;":"","&Cayleys;":"","&Ccaron;":"","&Ccedil":"","&Ccedil;":"","&Ccirc;":"","&Cconint;":"","&Cdot;":"","&Cedilla;":"","&CenterDot;":"","&Cfr;":"","&Chi;":"","&CircleDot;":"","&CircleMinus;":"","&CirclePlus;":"","&CircleTimes;":"","&ClockwiseContourIntegral;":"","&CloseCurlyDoubleQuote;":"","&CloseCurlyQuote;":"","&Colon;":"","&Colone;":"","&Congruent;":"","&Conint;":"","&ContourIntegral;":"","&Copf;":"","&Coproduct;":"","&CounterClockwiseContourIntegral;":"","&Cross;":"","&Cscr;":"","&Cup;":"","&CupCap;":"","&DD;":"","&DDotrahd;":"","&DJcy;":"","&DScy;":"","&DZcy;":"","&Dagger;":"","&Darr;":"","&Dashv;":"","&Dcaron;":"","&Dcy;":"","&Del;":"","&Delta;":"","&Dfr;":"","&DiacriticalAcute;":"","&DiacriticalDot;":"","&DiacriticalDoubleAcute;":"","&DiacriticalGrave;":"`","&DiacriticalTilde;":"","&Diamond;":"","&DifferentialD;":"","&Dopf;":"","&Dot;":"","&DotDot;":"","&DotEqual;":"","&DoubleContourIntegral;":"","&DoubleDot;":"","&DoubleDownArrow;":"","&DoubleLeftArrow;":"","&DoubleLeftRightArrow;":"","&DoubleLeftTee;":"","&DoubleLongLeftArrow;":"","&DoubleLongLeftRightArrow;":"","&DoubleLongRightArrow;":"","&DoubleRightArrow;":"","&DoubleRightTee;":"","&DoubleUpArrow;":"","&DoubleUpDownArrow;":"","&DoubleVerticalBar;":"","&DownArrow;":"","&DownArrowBar;":"","&DownArrowUpArrow;":"","&DownBreve;":"","&DownLeftRightVector;":"","&DownLeftTeeVector;":"","&DownLeftVector;":"","&DownLeftVectorBar;":"","&DownRightTeeVector;":"","&DownRightVector;":"","&DownRightVectorBar;":"","&DownTee;":"","&DownTeeArrow;":"","&Downarrow;":"","&Dscr;":"","&Dstrok;":"","&ENG;":"","&ETH":"","&ETH;":"","&Eacute":"","&Eacute;":"","&Ecaron;":"","&Ecirc":"","&Ecirc;":"","&Ecy;":"","&Edot;":"","&Efr;":"","&Egrave":"","&Egrave;":"","&Element;":"","&Emacr;":"","&EmptySmallSquare;":"","&EmptyVerySmallSquare;":"","&Eogon;":"","&Eopf;":"","&Epsilon;":"","&Equal;":"","&EqualTilde;":"","&Equilibrium;":"","&Escr;":"","&Esim;":"","&Eta;":"","&Euml":"","&Euml;":"","&Exists;":"","&ExponentialE;":"","&Fcy;":"","&Ffr;":"","&FilledSmallSquare;":"","&FilledVerySmallSquare;":"","&Fopf;":"","&ForAll;":"","&Fouriertrf;":"","&Fscr;":"","&GJcy;":"","&GT":">","&GT;":">","&Gamma;":"","&Gammad;":"","&Gbreve;":"","&Gcedil;":"","&Gcirc;":"","&Gcy;":"","&Gdot;":"","&Gfr;":"","&Gg;":"","&Gopf;":"","&GreaterEqual;":"","&GreaterEqualLess;":"","&GreaterFullEqual;":"","&GreaterGreater;":"","&GreaterLess;":"","&GreaterSlantEqual;":"","&GreaterTilde;":"","&Gscr;":"","&Gt;":"","&HARDcy;":"","&Hacek;":"","&Hat;":"^","&Hcirc;":"","&Hfr;":"","&HilbertSpace;":"","&Hopf;":"","&HorizontalLine;":"","&Hscr;":"","&Hstrok;":"","&HumpDownHump;":"","&HumpEqual;":"","&IEcy;":"","&IJlig;":"","&IOcy;":"","&Iacute":"","&Iacute;":"","&Icirc":"","&Icirc;":"","&Icy;":"","&Idot;":"","&Ifr;":"","&Igrave":"","&Igrave;":"","&Im;":"","&Imacr;":"","&ImaginaryI;":"","&Implies;":"","&Int;":"","&Integral;":"","&Intersection;":"","&InvisibleComma;":"","&InvisibleTimes;":"","&Iogon;":"","&Iopf;":"","&Iota;":"","&Iscr;":"","&Itilde;":"","&Iukcy;":"","&Iuml":"","&Iuml;":"","&Jcirc;":"","&Jcy;":"","&Jfr;":"","&Jopf;":"","&Jscr;":"","&Jsercy;":"","&Jukcy;":"","&KHcy;":"","&KJcy;":"","&Kappa;":"","&Kcedil;":"","&Kcy;":"","&Kfr;":"","&Kopf;":"","&Kscr;":"","&LJcy;":"","&LT":"<","&LT;":"<","&Lacute;":"","&Lambda;":"","&Lang;":"","&Laplacetrf;":"","&Larr;":"","&Lcaron;":"","&Lcedil;":"","&Lcy;":"","&LeftAngleBracket;":"","&LeftArrow;":"","&LeftArrowBar;":"","&LeftArrowRightArrow;":"","&LeftCeiling;":"","&LeftDoubleBracket;":"","&LeftDownTeeVector;":"","&LeftDownVector;":"","&LeftDownVectorBar;":"","&LeftFloor;":"","&LeftRightArrow;":"","&LeftRightVector;":"","&LeftTee;":"","&LeftTeeArrow;":"","&LeftTeeVector;":"","&LeftTriangle;":"","&LeftTriangleBar;":"","&LeftTriangleEqual;":"","&LeftUpDownVector;":"","&LeftUpTeeVector;":"","&LeftUpVector;":"","&LeftUpVectorBar;":"","&LeftVector;":"","&LeftVectorBar;":"","&Leftarrow;":"","&Leftrightarrow;":"","&LessEqualGreater;":"","&LessFullEqual;":"","&LessGreater;":"","&LessLess;":"","&LessSlantEqual;":"","&LessTilde;":"","&Lfr;":"","&Ll;":"","&Lleftarrow;":"","&Lmidot;":"","&LongLeftArrow;":"","&LongLeftRightArrow;":"","&LongRightArrow;":"","&Longleftarrow;":"","&Longleftrightarrow;":"","&Longrightarrow;":"","&Lopf;":"","&LowerLeftArrow;":"","&LowerRightArrow;":"","&Lscr;":"","&Lsh;":"","&Lstrok;":"","&Lt;":"","&Map;":"","&Mcy;":"","&MediumSpace;":"","&Mellintrf;":"","&Mfr;":"","&MinusPlus;":"","&Mopf;":"","&Mscr;":"","&Mu;":"","&NJcy;":"","&Nacute;":"","&Ncaron;":"","&Ncedil;":"","&Ncy;":"","&NegativeMediumSpace;":"","&NegativeThickSpace;":"","&NegativeThinSpace;":"","&NegativeVeryThinSpace;":"","&NestedGreaterGreater;":"","&NestedLessLess;":"","&NewLine;":`
`,"&Nfr;":"","&NoBreak;":"","&NonBreakingSpace;":"","&Nopf;":"","&Not;":"","&NotCongruent;":"","&NotCupCap;":"","&NotDoubleVerticalBar;":"","&NotElement;":"","&NotEqual;":"","&NotEqualTilde;":"","&NotExists;":"","&NotGreater;":"","&NotGreaterEqual;":"","&NotGreaterFullEqual;":"","&NotGreaterGreater;":"","&NotGreaterLess;":"","&NotGreaterSlantEqual;":"","&NotGreaterTilde;":"","&NotHumpDownHump;":"","&NotHumpEqual;":"","&NotLeftTriangle;":"","&NotLeftTriangleBar;":"","&NotLeftTriangleEqual;":"","&NotLess;":"","&NotLessEqual;":"","&NotLessGreater;":"","&NotLessLess;":"","&NotLessSlantEqual;":"","&NotLessTilde;":"","&NotNestedGreaterGreater;":"","&NotNestedLessLess;":"","&NotPrecedes;":"","&NotPrecedesEqual;":"","&NotPrecedesSlantEqual;":"","&NotReverseElement;":"","&NotRightTriangle;":"","&NotRightTriangleBar;":"","&NotRightTriangleEqual;":"","&NotSquareSubset;":"","&NotSquareSubsetEqual;":"","&NotSquareSuperset;":"","&NotSquareSupersetEqual;":"","&NotSubset;":"","&NotSubsetEqual;":"","&NotSucceeds;":"","&NotSucceedsEqual;":"","&NotSucceedsSlantEqual;":"","&NotSucceedsTilde;":"","&NotSuperset;":"","&NotSupersetEqual;":"","&NotTilde;":"","&NotTildeEqual;":"","&NotTildeFullEqual;":"","&NotTildeTilde;":"","&NotVerticalBar;":"","&Nscr;":"","&Ntilde":"","&Ntilde;":"","&Nu;":"","&OElig;":"","&Oacute":"","&Oacute;":"","&Ocirc":"","&Ocirc;":"","&Ocy;":"","&Odblac;":"","&Ofr;":"","&Ograve":"","&Ograve;":"","&Omacr;":"","&Omega;":"","&Omicron;":"","&Oopf;":"","&OpenCurlyDoubleQuote;":"","&OpenCurlyQuote;":"","&Or;":"","&Oscr;":"","&Oslash":"","&Oslash;":"","&Otilde":"","&Otilde;":"","&Otimes;":"","&Ouml":"","&Ouml;":"","&OverBar;":"","&OverBrace;":"","&OverBracket;":"","&OverParenthesis;":"","&PartialD;":"","&Pcy;":"","&Pfr;":"","&Phi;":"","&Pi;":"","&PlusMinus;":"","&Poincareplane;":"","&Popf;":"","&Pr;":"","&Precedes;":"","&PrecedesEqual;":"","&PrecedesSlantEqual;":"","&PrecedesTilde;":"","&Prime;":"","&Product;":"","&Proportion;":"","&Proportional;":"","&Pscr;":"","&Psi;":"","&QUOT":'"',"&QUOT;":'"',"&Qfr;":"","&Qopf;":"","&Qscr;":"","&RBarr;":"","&REG":"","&REG;":"","&Racute;":"","&Rang;":"","&Rarr;":"","&Rarrtl;":"","&Rcaron;":"","&Rcedil;":"","&Rcy;":"","&Re;":"","&ReverseElement;":"","&ReverseEquilibrium;":"","&ReverseUpEquilibrium;":"","&Rfr;":"","&Rho;":"","&RightAngleBracket;":"","&RightArrow;":"","&RightArrowBar;":"","&RightArrowLeftArrow;":"","&RightCeiling;":"","&RightDoubleBracket;":"","&RightDownTeeVector;":"","&RightDownVector;":"","&RightDownVectorBar;":"","&RightFloor;":"","&RightTee;":"","&RightTeeArrow;":"","&RightTeeVector;":"","&RightTriangle;":"","&RightTriangleBar;":"","&RightTriangleEqual;":"","&RightUpDownVector;":"","&RightUpTeeVector;":"","&RightUpVector;":"","&RightUpVectorBar;":"","&RightVector;":"","&RightVectorBar;":"","&Rightarrow;":"","&Ropf;":"","&RoundImplies;":"","&Rrightarrow;":"","&Rscr;":"","&Rsh;":"","&RuleDelayed;":"","&SHCHcy;":"","&SHcy;":"","&SOFTcy;":"","&Sacute;":"","&Sc;":"","&Scaron;":"","&Scedil;":"","&Scirc;":"","&Scy;":"","&Sfr;":"","&ShortDownArrow;":"","&ShortLeftArrow;":"","&ShortRightArrow;":"","&ShortUpArrow;":"","&Sigma;":"","&SmallCircle;":"","&Sopf;":"","&Sqrt;":"","&Square;":"","&SquareIntersection;":"","&SquareSubset;":"","&SquareSubsetEqual;":"","&SquareSuperset;":"","&SquareSupersetEqual;":"","&SquareUnion;":"","&Sscr;":"","&Star;":"","&Sub;":"","&Subset;":"","&SubsetEqual;":"","&Succeeds;":"","&SucceedsEqual;":"","&SucceedsSlantEqual;":"","&SucceedsTilde;":"","&SuchThat;":"","&Sum;":"","&Sup;":"","&Superset;":"","&SupersetEqual;":"","&Supset;":"","&THORN":"","&THORN;":"","&TRADE;":"","&TSHcy;":"","&TScy;":"","&Tab;":"	","&Tau;":"","&Tcaron;":"","&Tcedil;":"","&Tcy;":"","&Tfr;":"","&Therefore;":"","&Theta;":"","&ThickSpace;":"","&ThinSpace;":"","&Tilde;":"","&TildeEqual;":"","&TildeFullEqual;":"","&TildeTilde;":"","&Topf;":"","&TripleDot;":"","&Tscr;":"","&Tstrok;":"","&Uacute":"","&Uacute;":"","&Uarr;":"","&Uarrocir;":"","&Ubrcy;":"","&Ubreve;":"","&Ucirc":"","&Ucirc;":"","&Ucy;":"","&Udblac;":"","&Ufr;":"","&Ugrave":"","&Ugrave;":"","&Umacr;":"","&UnderBar;":"_","&UnderBrace;":"","&UnderBracket;":"","&UnderParenthesis;":"","&Union;":"","&UnionPlus;":"","&Uogon;":"","&Uopf;":"","&UpArrow;":"","&UpArrowBar;":"","&UpArrowDownArrow;":"","&UpDownArrow;":"","&UpEquilibrium;":"","&UpTee;":"","&UpTeeArrow;":"","&Uparrow;":"","&Updownarrow;":"","&UpperLeftArrow;":"","&UpperRightArrow;":"","&Upsi;":"","&Upsilon;":"","&Uring;":"","&Uscr;":"","&Utilde;":"","&Uuml":"","&Uuml;":"","&VDash;":"","&Vbar;":"","&Vcy;":"","&Vdash;":"","&Vdashl;":"","&Vee;":"","&Verbar;":"","&Vert;":"","&VerticalBar;":"","&VerticalLine;":"|","&VerticalSeparator;":"","&VerticalTilde;":"","&VeryThinSpace;":"","&Vfr;":"","&Vopf;":"","&Vscr;":"","&Vvdash;":"","&Wcirc;":"","&Wedge;":"","&Wfr;":"","&Wopf;":"","&Wscr;":"","&Xfr;":"","&Xi;":"","&Xopf;":"","&Xscr;":"","&YAcy;":"","&YIcy;":"","&YUcy;":"","&Yacute":"","&Yacute;":"","&Ycirc;":"","&Ycy;":"","&Yfr;":"","&Yopf;":"","&Yscr;":"","&Yuml;":"","&ZHcy;":"","&Zacute;":"","&Zcaron;":"","&Zcy;":"","&Zdot;":"","&ZeroWidthSpace;":"","&Zeta;":"","&Zfr;":"","&Zopf;":"","&Zscr;":"","&aacute":"","&aacute;":"","&abreve;":"","&ac;":"","&acE;":"","&acd;":"","&acirc":"","&acirc;":"","&acute":"","&acute;":"","&acy;":"","&aelig":"","&aelig;":"","&af;":"","&afr;":"","&agrave":"","&agrave;":"","&alefsym;":"","&aleph;":"","&alpha;":"","&amacr;":"","&amalg;":"","&amp":"&","&amp;":"&","&and;":"","&andand;":"","&andd;":"","&andslope;":"","&andv;":"","&ang;":"","&ange;":"","&angle;":"","&angmsd;":"","&angmsdaa;":"","&angmsdab;":"","&angmsdac;":"","&angmsdad;":"","&angmsdae;":"","&angmsdaf;":"","&angmsdag;":"","&angmsdah;":"","&angrt;":"","&angrtvb;":"","&angrtvbd;":"","&angsph;":"","&angst;":"","&angzarr;":"","&aogon;":"","&aopf;":"","&ap;":"","&apE;":"","&apacir;":"","&ape;":"","&apid;":"","&apos;":"'","&approx;":"","&approxeq;":"","&aring":"","&aring;":"","&ascr;":"","&ast;":"*","&asymp;":"","&asympeq;":"","&atilde":"","&atilde;":"","&auml":"","&auml;":"","&awconint;":"","&awint;":"","&bNot;":"","&backcong;":"","&backepsilon;":"","&backprime;":"","&backsim;":"","&backsimeq;":"","&barvee;":"","&barwed;":"","&barwedge;":"","&bbrk;":"","&bbrktbrk;":"","&bcong;":"","&bcy;":"","&bdquo;":"","&becaus;":"","&because;":"","&bemptyv;":"","&bepsi;":"","&bernou;":"","&beta;":"","&beth;":"","&between;":"","&bfr;":"","&bigcap;":"","&bigcirc;":"","&bigcup;":"","&bigodot;":"","&bigoplus;":"","&bigotimes;":"","&bigsqcup;":"","&bigstar;":"","&bigtriangledown;":"","&bigtriangleup;":"","&biguplus;":"","&bigvee;":"","&bigwedge;":"","&bkarow;":"","&blacklozenge;":"","&blacksquare;":"","&blacktriangle;":"","&blacktriangledown;":"","&blacktriangleleft;":"","&blacktriangleright;":"","&blank;":"","&blk12;":"","&blk14;":"","&blk34;":"","&block;":"","&bne;":"=","&bnequiv;":"","&bnot;":"","&bopf;":"","&bot;":"","&bottom;":"","&bowtie;":"","&boxDL;":"","&boxDR;":"","&boxDl;":"","&boxDr;":"","&boxH;":"","&boxHD;":"","&boxHU;":"","&boxHd;":"","&boxHu;":"","&boxUL;":"","&boxUR;":"","&boxUl;":"","&boxUr;":"","&boxV;":"","&boxVH;":"","&boxVL;":"","&boxVR;":"","&boxVh;":"","&boxVl;":"","&boxVr;":"","&boxbox;":"","&boxdL;":"","&boxdR;":"","&boxdl;":"","&boxdr;":"","&boxh;":"","&boxhD;":"","&boxhU;":"","&boxhd;":"","&boxhu;":"","&boxminus;":"","&boxplus;":"","&boxtimes;":"","&boxuL;":"","&boxuR;":"","&boxul;":"","&boxur;":"","&boxv;":"","&boxvH;":"","&boxvL;":"","&boxvR;":"","&boxvh;":"","&boxvl;":"","&boxvr;":"","&bprime;":"","&breve;":"","&brvbar":"","&brvbar;":"","&bscr;":"","&bsemi;":"","&bsim;":"","&bsime;":"","&bsol;":"\\","&bsolb;":"","&bsolhsub;":"","&bull;":"","&bullet;":"","&bump;":"","&bumpE;":"","&bumpe;":"","&bumpeq;":"","&cacute;":"","&cap;":"","&capand;":"","&capbrcup;":"","&capcap;":"","&capcup;":"","&capdot;":"","&caps;":"","&caret;":"","&caron;":"","&ccaps;":"","&ccaron;":"","&ccedil":"","&ccedil;":"","&ccirc;":"","&ccups;":"","&ccupssm;":"","&cdot;":"","&cedil":"","&cedil;":"","&cemptyv;":"","&cent":"","&cent;":"","&centerdot;":"","&cfr;":"","&chcy;":"","&check;":"","&checkmark;":"","&chi;":"","&cir;":"","&cirE;":"","&circ;":"","&circeq;":"","&circlearrowleft;":"","&circlearrowright;":"","&circledR;":"","&circledS;":"","&circledast;":"","&circledcirc;":"","&circleddash;":"","&cire;":"","&cirfnint;":"","&cirmid;":"","&cirscir;":"","&clubs;":"","&clubsuit;":"","&colon;":":","&colone;":"","&coloneq;":"","&comma;":",","&commat;":"@","&comp;":"","&compfn;":"","&complement;":"","&complexes;":"","&cong;":"","&congdot;":"","&conint;":"","&copf;":"","&coprod;":"","&copy":"","&copy;":"","&copysr;":"","&crarr;":"","&cross;":"","&cscr;":"","&csub;":"","&csube;":"","&csup;":"","&csupe;":"","&ctdot;":"","&cudarrl;":"","&cudarrr;":"","&cuepr;":"","&cuesc;":"","&cularr;":"","&cularrp;":"","&cup;":"","&cupbrcap;":"","&cupcap;":"","&cupcup;":"","&cupdot;":"","&cupor;":"","&cups;":"","&curarr;":"","&curarrm;":"","&curlyeqprec;":"","&curlyeqsucc;":"","&curlyvee;":"","&curlywedge;":"","&curren":"","&curren;":"","&curvearrowleft;":"","&curvearrowright;":"","&cuvee;":"","&cuwed;":"","&cwconint;":"","&cwint;":"","&cylcty;":"","&dArr;":"","&dHar;":"","&dagger;":"","&daleth;":"","&darr;":"","&dash;":"","&dashv;":"","&dbkarow;":"","&dblac;":"","&dcaron;":"","&dcy;":"","&dd;":"","&ddagger;":"","&ddarr;":"","&ddotseq;":"","&deg":"","&deg;":"","&delta;":"","&demptyv;":"","&dfisht;":"","&dfr;":"","&dharl;":"","&dharr;":"","&diam;":"","&diamond;":"","&diamondsuit;":"","&diams;":"","&die;":"","&digamma;":"","&disin;":"","&div;":"","&divide":"","&divide;":"","&divideontimes;":"","&divonx;":"","&djcy;":"","&dlcorn;":"","&dlcrop;":"","&dollar;":"$","&dopf;":"","&dot;":"","&doteq;":"","&doteqdot;":"","&dotminus;":"","&dotplus;":"","&dotsquare;":"","&doublebarwedge;":"","&downarrow;":"","&downdownarrows;":"","&downharpoonleft;":"","&downharpoonright;":"","&drbkarow;":"","&drcorn;":"","&drcrop;":"","&dscr;":"","&dscy;":"","&dsol;":"","&dstrok;":"","&dtdot;":"","&dtri;":"","&dtrif;":"","&duarr;":"","&duhar;":"","&dwangle;":"","&dzcy;":"","&dzigrarr;":"","&eDDot;":"","&eDot;":"","&eacute":"","&eacute;":"","&easter;":"","&ecaron;":"","&ecir;":"","&ecirc":"","&ecirc;":"","&ecolon;":"","&ecy;":"","&edot;":"","&ee;":"","&efDot;":"","&efr;":"","&eg;":"","&egrave":"","&egrave;":"","&egs;":"","&egsdot;":"","&el;":"","&elinters;":"","&ell;":"","&els;":"","&elsdot;":"","&emacr;":"","&empty;":"","&emptyset;":"","&emptyv;":"","&emsp13;":"","&emsp14;":"","&emsp;":"","&eng;":"","&ensp;":"","&eogon;":"","&eopf;":"","&epar;":"","&eparsl;":"","&eplus;":"","&epsi;":"","&epsilon;":"","&epsiv;":"","&eqcirc;":"","&eqcolon;":"","&eqsim;":"","&eqslantgtr;":"","&eqslantless;":"","&equals;":"=","&equest;":"","&equiv;":"","&equivDD;":"","&eqvparsl;":"","&erDot;":"","&erarr;":"","&escr;":"","&esdot;":"","&esim;":"","&eta;":"","&eth":"","&eth;":"","&euml":"","&euml;":"","&euro;":"","&excl;":"!","&exist;":"","&expectation;":"","&exponentiale;":"","&fallingdotseq;":"","&fcy;":"","&female;":"","&ffilig;":"","&fflig;":"","&ffllig;":"","&ffr;":"","&filig;":"","&fjlig;":"fj","&flat;":"","&fllig;":"","&fltns;":"","&fnof;":"","&fopf;":"","&forall;":"","&fork;":"","&forkv;":"","&fpartint;":"","&frac12":"","&frac12;":"","&frac13;":"","&frac14":"","&frac14;":"","&frac15;":"","&frac16;":"","&frac18;":"","&frac23;":"","&frac25;":"","&frac34":"","&frac34;":"","&frac35;":"","&frac38;":"","&frac45;":"","&frac56;":"","&frac58;":"","&frac78;":"","&frasl;":"","&frown;":"","&fscr;":"","&gE;":"","&gEl;":"","&gacute;":"","&gamma;":"","&gammad;":"","&gap;":"","&gbreve;":"","&gcirc;":"","&gcy;":"","&gdot;":"","&ge;":"","&gel;":"","&geq;":"","&geqq;":"","&geqslant;":"","&ges;":"","&gescc;":"","&gesdot;":"","&gesdoto;":"","&gesdotol;":"","&gesl;":"","&gesles;":"","&gfr;":"","&gg;":"","&ggg;":"","&gimel;":"","&gjcy;":"","&gl;":"","&glE;":"","&gla;":"","&glj;":"","&gnE;":"","&gnap;":"","&gnapprox;":"","&gne;":"","&gneq;":"","&gneqq;":"","&gnsim;":"","&gopf;":"","&grave;":"`","&gscr;":"","&gsim;":"","&gsime;":"","&gsiml;":"","&gt":">","&gt;":">","&gtcc;":"","&gtcir;":"","&gtdot;":"","&gtlPar;":"","&gtquest;":"","&gtrapprox;":"","&gtrarr;":"","&gtrdot;":"","&gtreqless;":"","&gtreqqless;":"","&gtrless;":"","&gtrsim;":"","&gvertneqq;":"","&gvnE;":"","&hArr;":"","&hairsp;":"","&half;":"","&hamilt;":"","&hardcy;":"","&harr;":"","&harrcir;":"","&harrw;":"","&hbar;":"","&hcirc;":"","&hearts;":"","&heartsuit;":"","&hellip;":"","&hercon;":"","&hfr;":"","&hksearow;":"","&hkswarow;":"","&hoarr;":"","&homtht;":"","&hookleftarrow;":"","&hookrightarrow;":"","&hopf;":"","&horbar;":"","&hscr;":"","&hslash;":"","&hstrok;":"","&hybull;":"","&hyphen;":"","&iacute":"","&iacute;":"","&ic;":"","&icirc":"","&icirc;":"","&icy;":"","&iecy;":"","&iexcl":"","&iexcl;":"","&iff;":"","&ifr;":"","&igrave":"","&igrave;":"","&ii;":"","&iiiint;":"","&iiint;":"","&iinfin;":"","&iiota;":"","&ijlig;":"","&imacr;":"","&image;":"","&imagline;":"","&imagpart;":"","&imath;":"","&imof;":"","&imped;":"","&in;":"","&incare;":"","&infin;":"","&infintie;":"","&inodot;":"","&int;":"","&intcal;":"","&integers;":"","&intercal;":"","&intlarhk;":"","&intprod;":"","&iocy;":"","&iogon;":"","&iopf;":"","&iota;":"","&iprod;":"","&iquest":"","&iquest;":"","&iscr;":"","&isin;":"","&isinE;":"","&isindot;":"","&isins;":"","&isinsv;":"","&isinv;":"","&it;":"","&itilde;":"","&iukcy;":"","&iuml":"","&iuml;":"","&jcirc;":"","&jcy;":"","&jfr;":"","&jmath;":"","&jopf;":"","&jscr;":"","&jsercy;":"","&jukcy;":"","&kappa;":"","&kappav;":"","&kcedil;":"","&kcy;":"","&kfr;":"","&kgreen;":"","&khcy;":"","&kjcy;":"","&kopf;":"","&kscr;":"","&lAarr;":"","&lArr;":"","&lAtail;":"","&lBarr;":"","&lE;":"","&lEg;":"","&lHar;":"","&lacute;":"","&laemptyv;":"","&lagran;":"","&lambda;":"","&lang;":"","&langd;":"","&langle;":"","&lap;":"","&laquo":"","&laquo;":"","&larr;":"","&larrb;":"","&larrbfs;":"","&larrfs;":"","&larrhk;":"","&larrlp;":"","&larrpl;":"","&larrsim;":"","&larrtl;":"","&lat;":"","&latail;":"","&late;":"","&lates;":"","&lbarr;":"","&lbbrk;":"","&lbrace;":"{","&lbrack;":"[","&lbrke;":"","&lbrksld;":"","&lbrkslu;":"","&lcaron;":"","&lcedil;":"","&lceil;":"","&lcub;":"{","&lcy;":"","&ldca;":"","&ldquo;":"","&ldquor;":"","&ldrdhar;":"","&ldrushar;":"","&ldsh;":"","&le;":"","&leftarrow;":"","&leftarrowtail;":"","&leftharpoondown;":"","&leftharpoonup;":"","&leftleftarrows;":"","&leftrightarrow;":"","&leftrightarrows;":"","&leftrightharpoons;":"","&leftrightsquigarrow;":"","&leftthreetimes;":"","&leg;":"","&leq;":"","&leqq;":"","&leqslant;":"","&les;":"","&lescc;":"","&lesdot;":"","&lesdoto;":"","&lesdotor;":"","&lesg;":"","&lesges;":"","&lessapprox;":"","&lessdot;":"","&lesseqgtr;":"","&lesseqqgtr;":"","&lessgtr;":"","&lesssim;":"","&lfisht;":"","&lfloor;":"","&lfr;":"","&lg;":"","&lgE;":"","&lhard;":"","&lharu;":"","&lharul;":"","&lhblk;":"","&ljcy;":"","&ll;":"","&llarr;":"","&llcorner;":"","&llhard;":"","&lltri;":"","&lmidot;":"","&lmoust;":"","&lmoustache;":"","&lnE;":"","&lnap;":"","&lnapprox;":"","&lne;":"","&lneq;":"","&lneqq;":"","&lnsim;":"","&loang;":"","&loarr;":"","&lobrk;":"","&longleftarrow;":"","&longleftrightarrow;":"","&longmapsto;":"","&longrightarrow;":"","&looparrowleft;":"","&looparrowright;":"","&lopar;":"","&lopf;":"","&loplus;":"","&lotimes;":"","&lowast;":"","&lowbar;":"_","&loz;":"","&lozenge;":"","&lozf;":"","&lpar;":"(","&lparlt;":"","&lrarr;":"","&lrcorner;":"","&lrhar;":"","&lrhard;":"","&lrm;":"","&lrtri;":"","&lsaquo;":"","&lscr;":"","&lsh;":"","&lsim;":"","&lsime;":"","&lsimg;":"","&lsqb;":"[","&lsquo;":"","&lsquor;":"","&lstrok;":"","&lt":"<","&lt;":"<","&ltcc;":"","&ltcir;":"","&ltdot;":"","&lthree;":"","&ltimes;":"","&ltlarr;":"","&ltquest;":"","&ltrPar;":"","&ltri;":"","&ltrie;":"","&ltrif;":"","&lurdshar;":"","&luruhar;":"","&lvertneqq;":"","&lvnE;":"","&mDDot;":"","&macr":"","&macr;":"","&male;":"","&malt;":"","&maltese;":"","&map;":"","&mapsto;":"","&mapstodown;":"","&mapstoleft;":"","&mapstoup;":"","&marker;":"","&mcomma;":"","&mcy;":"","&mdash;":"","&measuredangle;":"","&mfr;":"","&mho;":"","&micro":"","&micro;":"","&mid;":"","&midast;":"*","&midcir;":"","&middot":"","&middot;":"","&minus;":"","&minusb;":"","&minusd;":"","&minusdu;":"","&mlcp;":"","&mldr;":"","&mnplus;":"","&models;":"","&mopf;":"","&mp;":"","&mscr;":"","&mstpos;":"","&mu;":"","&multimap;":"","&mumap;":"","&nGg;":"","&nGt;":"","&nGtv;":"","&nLeftarrow;":"","&nLeftrightarrow;":"","&nLl;":"","&nLt;":"","&nLtv;":"","&nRightarrow;":"","&nVDash;":"","&nVdash;":"","&nabla;":"","&nacute;":"","&nang;":"","&nap;":"","&napE;":"","&napid;":"","&napos;":"","&napprox;":"","&natur;":"","&natural;":"","&naturals;":"","&nbsp":"","&nbsp;":"","&nbump;":"","&nbumpe;":"","&ncap;":"","&ncaron;":"","&ncedil;":"","&ncong;":"","&ncongdot;":"","&ncup;":"","&ncy;":"","&ndash;":"","&ne;":"","&neArr;":"","&nearhk;":"","&nearr;":"","&nearrow;":"","&nedot;":"","&nequiv;":"","&nesear;":"","&nesim;":"","&nexist;":"","&nexists;":"","&nfr;":"","&ngE;":"","&nge;":"","&ngeq;":"","&ngeqq;":"","&ngeqslant;":"","&nges;":"","&ngsim;":"","&ngt;":"","&ngtr;":"","&nhArr;":"","&nharr;":"","&nhpar;":"","&ni;":"","&nis;":"","&nisd;":"","&niv;":"","&njcy;":"","&nlArr;":"","&nlE;":"","&nlarr;":"","&nldr;":"","&nle;":"","&nleftarrow;":"","&nleftrightarrow;":"","&nleq;":"","&nleqq;":"","&nleqslant;":"","&nles;":"","&nless;":"","&nlsim;":"","&nlt;":"","&nltri;":"","&nltrie;":"","&nmid;":"","&nopf;":"","&not":"","&not;":"","&notin;":"","&notinE;":"","&notindot;":"","&notinva;":"","&notinvb;":"","&notinvc;":"","&notni;":"","&notniva;":"","&notnivb;":"","&notnivc;":"","&npar;":"","&nparallel;":"","&nparsl;":"","&npart;":"","&npolint;":"","&npr;":"","&nprcue;":"","&npre;":"","&nprec;":"","&npreceq;":"","&nrArr;":"","&nrarr;":"","&nrarrc;":"","&nrarrw;":"","&nrightarrow;":"","&nrtri;":"","&nrtrie;":"","&nsc;":"","&nsccue;":"","&nsce;":"","&nscr;":"","&nshortmid;":"","&nshortparallel;":"","&nsim;":"","&nsime;":"","&nsimeq;":"","&nsmid;":"","&nspar;":"","&nsqsube;":"","&nsqsupe;":"","&nsub;":"","&nsubE;":"","&nsube;":"","&nsubset;":"","&nsubseteq;":"","&nsubseteqq;":"","&nsucc;":"","&nsucceq;":"","&nsup;":"","&nsupE;":"","&nsupe;":"","&nsupset;":"","&nsupseteq;":"","&nsupseteqq;":"","&ntgl;":"","&ntilde":"","&ntilde;":"","&ntlg;":"","&ntriangleleft;":"","&ntrianglelefteq;":"","&ntriangleright;":"","&ntrianglerighteq;":"","&nu;":"","&num;":"#","&numero;":"","&numsp;":"","&nvDash;":"","&nvHarr;":"","&nvap;":"","&nvdash;":"","&nvge;":"","&nvgt;":">","&nvinfin;":"","&nvlArr;":"","&nvle;":"","&nvlt;":"<","&nvltrie;":"","&nvrArr;":"","&nvrtrie;":"","&nvsim;":"","&nwArr;":"","&nwarhk;":"","&nwarr;":"","&nwarrow;":"","&nwnear;":"","&oS;":"","&oacute":"","&oacute;":"","&oast;":"","&ocir;":"","&ocirc":"","&ocirc;":"","&ocy;":"","&odash;":"","&odblac;":"","&odiv;":"","&odot;":"","&odsold;":"","&oelig;":"","&ofcir;":"","&ofr;":"","&ogon;":"","&ograve":"","&ograve;":"","&ogt;":"","&ohbar;":"","&ohm;":"","&oint;":"","&olarr;":"","&olcir;":"","&olcross;":"","&oline;":"","&olt;":"","&omacr;":"","&omega;":"","&omicron;":"","&omid;":"","&ominus;":"","&oopf;":"","&opar;":"","&operp;":"","&oplus;":"","&or;":"","&orarr;":"","&ord;":"","&order;":"","&orderof;":"","&ordf":"","&ordf;":"","&ordm":"","&ordm;":"","&origof;":"","&oror;":"","&orslope;":"","&orv;":"","&oscr;":"","&oslash":"","&oslash;":"","&osol;":"","&otilde":"","&otilde;":"","&otimes;":"","&otimesas;":"","&ouml":"","&ouml;":"","&ovbar;":"","&par;":"","&para":"","&para;":"","&parallel;":"","&parsim;":"","&parsl;":"","&part;":"","&pcy;":"","&percnt;":"%","&period;":".","&permil;":"","&perp;":"","&pertenk;":"","&pfr;":"","&phi;":"","&phiv;":"","&phmmat;":"","&phone;":"","&pi;":"","&pitchfork;":"","&piv;":"","&planck;":"","&planckh;":"","&plankv;":"","&plus;":"+","&plusacir;":"","&plusb;":"","&pluscir;":"","&plusdo;":"","&plusdu;":"","&pluse;":"","&plusmn":"","&plusmn;":"","&plussim;":"","&plustwo;":"","&pm;":"","&pointint;":"","&popf;":"","&pound":"","&pound;":"","&pr;":"","&prE;":"","&prap;":"","&prcue;":"","&pre;":"","&prec;":"","&precapprox;":"","&preccurlyeq;":"","&preceq;":"","&precnapprox;":"","&precneqq;":"","&precnsim;":"","&precsim;":"","&prime;":"","&primes;":"","&prnE;":"","&prnap;":"","&prnsim;":"","&prod;":"","&profalar;":"","&profline;":"","&profsurf;":"","&prop;":"","&propto;":"","&prsim;":"","&prurel;":"","&pscr;":"","&psi;":"","&puncsp;":"","&qfr;":"","&qint;":"","&qopf;":"","&qprime;":"","&qscr;":"","&quaternions;":"","&quatint;":"","&quest;":"?","&questeq;":"","&quot":'"',"&quot;":'"',"&rAarr;":"","&rArr;":"","&rAtail;":"","&rBarr;":"","&rHar;":"","&race;":"","&racute;":"","&radic;":"","&raemptyv;":"","&rang;":"","&rangd;":"","&range;":"","&rangle;":"","&raquo":"","&raquo;":"","&rarr;":"","&rarrap;":"","&rarrb;":"","&rarrbfs;":"","&rarrc;":"","&rarrfs;":"","&rarrhk;":"","&rarrlp;":"","&rarrpl;":"","&rarrsim;":"","&rarrtl;":"","&rarrw;":"","&ratail;":"","&ratio;":"","&rationals;":"","&rbarr;":"","&rbbrk;":"","&rbrace;":"}","&rbrack;":"]","&rbrke;":"","&rbrksld;":"","&rbrkslu;":"","&rcaron;":"","&rcedil;":"","&rceil;":"","&rcub;":"}","&rcy;":"","&rdca;":"","&rdldhar;":"","&rdquo;":"","&rdquor;":"","&rdsh;":"","&real;":"","&realine;":"","&realpart;":"","&reals;":"","&rect;":"","&reg":"","&reg;":"","&rfisht;":"","&rfloor;":"","&rfr;":"","&rhard;":"","&rharu;":"","&rharul;":"","&rho;":"","&rhov;":"","&rightarrow;":"","&rightarrowtail;":"","&rightharpoondown;":"","&rightharpoonup;":"","&rightleftarrows;":"","&rightleftharpoons;":"","&rightrightarrows;":"","&rightsquigarrow;":"","&rightthreetimes;":"","&ring;":"","&risingdotseq;":"","&rlarr;":"","&rlhar;":"","&rlm;":"","&rmoust;":"","&rmoustache;":"","&rnmid;":"","&roang;":"","&roarr;":"","&robrk;":"","&ropar;":"","&ropf;":"","&roplus;":"","&rotimes;":"","&rpar;":")","&rpargt;":"","&rppolint;":"","&rrarr;":"","&rsaquo;":"","&rscr;":"","&rsh;":"","&rsqb;":"]","&rsquo;":"","&rsquor;":"","&rthree;":"","&rtimes;":"","&rtri;":"","&rtrie;":"","&rtrif;":"","&rtriltri;":"","&ruluhar;":"","&rx;":"","&sacute;":"","&sbquo;":"","&sc;":"","&scE;":"","&scap;":"","&scaron;":"","&sccue;":"","&sce;":"","&scedil;":"","&scirc;":"","&scnE;":"","&scnap;":"","&scnsim;":"","&scpolint;":"","&scsim;":"","&scy;":"","&sdot;":"","&sdotb;":"","&sdote;":"","&seArr;":"","&searhk;":"","&searr;":"","&searrow;":"","&sect":"","&sect;":"","&semi;":";","&seswar;":"","&setminus;":"","&setmn;":"","&sext;":"","&sfr;":"","&sfrown;":"","&sharp;":"","&shchcy;":"","&shcy;":"","&shortmid;":"","&shortparallel;":"","&shy":"","&shy;":"","&sigma;":"","&sigmaf;":"","&sigmav;":"","&sim;":"","&simdot;":"","&sime;":"","&simeq;":"","&simg;":"","&simgE;":"","&siml;":"","&simlE;":"","&simne;":"","&simplus;":"","&simrarr;":"","&slarr;":"","&smallsetminus;":"","&smashp;":"","&smeparsl;":"","&smid;":"","&smile;":"","&smt;":"","&smte;":"","&smtes;":"","&softcy;":"","&sol;":"/","&solb;":"","&solbar;":"","&sopf;":"","&spades;":"","&spadesuit;":"","&spar;":"","&sqcap;":"","&sqcaps;":"","&sqcup;":"","&sqcups;":"","&sqsub;":"","&sqsube;":"","&sqsubset;":"","&sqsubseteq;":"","&sqsup;":"","&sqsupe;":"","&sqsupset;":"","&sqsupseteq;":"","&squ;":"","&square;":"","&squarf;":"","&squf;":"","&srarr;":"","&sscr;":"","&ssetmn;":"","&ssmile;":"","&sstarf;":"","&star;":"","&starf;":"","&straightepsilon;":"","&straightphi;":"","&strns;":"","&sub;":"","&subE;":"","&subdot;":"","&sube;":"","&subedot;":"","&submult;":"","&subnE;":"","&subne;":"","&subplus;":"","&subrarr;":"","&subset;":"","&subseteq;":"","&subseteqq;":"","&subsetneq;":"","&subsetneqq;":"","&subsim;":"","&subsub;":"","&subsup;":"","&succ;":"","&succapprox;":"","&succcurlyeq;":"","&succeq;":"","&succnapprox;":"","&succneqq;":"","&succnsim;":"","&succsim;":"","&sum;":"","&sung;":"","&sup1":"","&sup1;":"","&sup2":"","&sup2;":"","&sup3":"","&sup3;":"","&sup;":"","&supE;":"","&supdot;":"","&supdsub;":"","&supe;":"","&supedot;":"","&suphsol;":"","&suphsub;":"","&suplarr;":"","&supmult;":"","&supnE;":"","&supne;":"","&supplus;":"","&supset;":"","&supseteq;":"","&supseteqq;":"","&supsetneq;":"","&supsetneqq;":"","&supsim;":"","&supsub;":"","&supsup;":"","&swArr;":"","&swarhk;":"","&swarr;":"","&swarrow;":"","&swnwar;":"","&szlig":"","&szlig;":"","&target;":"","&tau;":"","&tbrk;":"","&tcaron;":"","&tcedil;":"","&tcy;":"","&tdot;":"","&telrec;":"","&tfr;":"","&there4;":"","&therefore;":"","&theta;":"","&thetasym;":"","&thetav;":"","&thickapprox;":"","&thicksim;":"","&thinsp;":"","&thkap;":"","&thksim;":"","&thorn":"","&thorn;":"","&tilde;":"","&times":"","&times;":"","&timesb;":"","&timesbar;":"","&timesd;":"","&tint;":"","&toea;":"","&top;":"","&topbot;":"","&topcir;":"","&topf;":"","&topfork;":"","&tosa;":"","&tprime;":"","&trade;":"","&triangle;":"","&triangledown;":"","&triangleleft;":"","&trianglelefteq;":"","&triangleq;":"","&triangleright;":"","&trianglerighteq;":"","&tridot;":"","&trie;":"","&triminus;":"","&triplus;":"","&trisb;":"","&tritime;":"","&trpezium;":"","&tscr;":"","&tscy;":"","&tshcy;":"","&tstrok;":"","&twixt;":"","&twoheadleftarrow;":"","&twoheadrightarrow;":"","&uArr;":"","&uHar;":"","&uacute":"","&uacute;":"","&uarr;":"","&ubrcy;":"","&ubreve;":"","&ucirc":"","&ucirc;":"","&ucy;":"","&udarr;":"","&udblac;":"","&udhar;":"","&ufisht;":"","&ufr;":"","&ugrave":"","&ugrave;":"","&uharl;":"","&uharr;":"","&uhblk;":"","&ulcorn;":"","&ulcorner;":"","&ulcrop;":"","&ultri;":"","&umacr;":"","&uml":"","&uml;":"","&uogon;":"","&uopf;":"","&uparrow;":"","&updownarrow;":"","&upharpoonleft;":"","&upharpoonright;":"","&uplus;":"","&upsi;":"","&upsih;":"","&upsilon;":"","&upuparrows;":"","&urcorn;":"","&urcorner;":"","&urcrop;":"","&uring;":"","&urtri;":"","&uscr;":"","&utdot;":"","&utilde;":"","&utri;":"","&utrif;":"","&uuarr;":"","&uuml":"","&uuml;":"","&uwangle;":"","&vArr;":"","&vBar;":"","&vBarv;":"","&vDash;":"","&vangrt;":"","&varepsilon;":"","&varkappa;":"","&varnothing;":"","&varphi;":"","&varpi;":"","&varpropto;":"","&varr;":"","&varrho;":"","&varsigma;":"","&varsubsetneq;":"","&varsubsetneqq;":"","&varsupsetneq;":"","&varsupsetneqq;":"","&vartheta;":"","&vartriangleleft;":"","&vartriangleright;":"","&vcy;":"","&vdash;":"","&vee;":"","&veebar;":"","&veeeq;":"","&vellip;":"","&verbar;":"|","&vert;":"|","&vfr;":"","&vltri;":"","&vnsub;":"","&vnsup;":"","&vopf;":"","&vprop;":"","&vrtri;":"","&vscr;":"","&vsubnE;":"","&vsubne;":"","&vsupnE;":"","&vsupne;":"","&vzigzag;":"","&wcirc;":"","&wedbar;":"","&wedge;":"","&wedgeq;":"","&weierp;":"","&wfr;":"","&wopf;":"","&wp;":"","&wr;":"","&wreath;":"","&wscr;":"","&xcap;":"","&xcirc;":"","&xcup;":"","&xdtri;":"","&xfr;":"","&xhArr;":"","&xharr;":"","&xi;":"","&xlArr;":"","&xlarr;":"","&xmap;":"","&xnis;":"","&xodot;":"","&xopf;":"","&xoplus;":"","&xotime;":"","&xrArr;":"","&xrarr;":"","&xscr;":"","&xsqcup;":"","&xuplus;":"","&xutri;":"","&xvee;":"","&xwedge;":"","&yacute":"","&yacute;":"","&yacy;":"","&ycirc;":"","&ycy;":"","&yen":"","&yen;":"","&yfr;":"","&yicy;":"","&yopf;":"","&yscr;":"","&yucy;":"","&yuml":"","&yuml;":"","&zacute;":"","&zcaron;":"","&zcy;":"","&zdot;":"","&zeetrf;":"","&zeta;":"","&zfr;":"","&zhcy;":"","&zigrarr;":"","&zopf;":"","&zscr;":"","&zwj;":"","&zwnj;":""},characters:{:"&AElig;","&":"&amp;",:"&Aacute;",:"&Abreve;",:"&Acirc;",:"&Acy;","":"&Afr;",:"&Agrave;",:"&Alpha;",:"&Amacr;","":"&And;",:"&Aogon;","":"&Aopf;","":"&af;",:"&angst;","":"&Ascr;","":"&coloneq;",:"&Atilde;",:"&Auml;","":"&ssetmn;","":"&Barv;","":"&doublebarwedge;",:"&Bcy;","":"&because;",:"&bernou;",:"&Beta;","":"&Bfr;","":"&Bopf;","":"&breve;","":"&bump;",:"&CHcy;","":"&copy;",:"&Cacute;","":"&Cap;","":"&DD;",:"&Cfr;",:"&Ccaron;",:"&Ccedil;",:"&Ccirc;","":"&Cconint;",:"&Cdot;","":"&cedil;","":"&middot;",:"&Chi;","":"&odot;","":"&ominus;","":"&oplus;","":"&otimes;","":"&cwconint;","":"&rdquor;","":"&rsquor;","":"&Proportion;","":"&Colone;","":"&equiv;","":"&DoubleContourIntegral;","":"&oint;",:"&complexes;","":"&coprod;","":"&awconint;","":"&Cross;","":"&Cscr;","":"&Cup;","":"&asympeq;","":"&DDotrahd;",:"&DJcy;",:"&DScy;",:"&DZcy;","":"&ddagger;","":"&Darr;","":"&DoubleLeftTee;",:"&Dcaron;",:"&Dcy;","":"&nabla;",:"&Delta;","":"&Dfr;","":"&acute;","":"&dot;","":"&dblac;","`":"&grave;","":"&tilde;","":"&diamond;","":"&dd;","":"&Dopf;","":"&uml;","":"&DotDot;","":"&esdot;","":"&dArr;","":"&lArr;","":"&iff;","":"&xlArr;","":"&xhArr;","":"&xrArr;","":"&rArr;","":"&vDash;","":"&uArr;","":"&vArr;","":"&spar;","":"&downarrow;","":"&DownArrowBar;","":"&duarr;","":"&DownBreve;","":"&DownLeftRightVector;","":"&DownLeftTeeVector;","":"&lhard;","":"&DownLeftVectorBar;","":"&DownRightTeeVector;","":"&rightharpoondown;","":"&DownRightVectorBar;","":"&top;","":"&mapstodown;","":"&Dscr;",:"&Dstrok;",:"&ENG;",:"&ETH;",:"&Eacute;",:"&Ecaron;",:"&Ecirc;",:"&Ecy;",:"&Edot;","":"&Efr;",:"&Egrave;","":"&isinv;",:"&Emacr;","":"&EmptySmallSquare;","":"&EmptyVerySmallSquare;",:"&Eogon;","":"&Eopf;",:"&Epsilon;","":"&Equal;","":"&esim;","":"&rlhar;",:"&expectation;","":"&Esim;",:"&Eta;",:"&Euml;","":"&exist;","":"&exponentiale;",:"&Fcy;","":"&Ffr;","":"&FilledSmallSquare;","":"&squf;","":"&Fopf;","":"&forall;",:"&Fscr;",:"&GJcy;",">":"&gt;",:"&Gamma;",:"&Gammad;",:"&Gbreve;",:"&Gcedil;",:"&Gcirc;",:"&Gcy;",:"&Gdot;","":"&Gfr;","":"&ggg;","":"&Gopf;","":"&geq;","":"&gtreqless;","":"&geqq;","":"&GreaterGreater;","":"&gtrless;","":"&ges;","":"&gtrsim;","":"&Gscr;","":"&gg;",:"&HARDcy;","":"&caron;","^":"&Hat;",:"&Hcirc;",:"&Poincareplane;",:"&hamilt;",:"&quaternions;","":"&boxh;",:"&Hstrok;","":"&bumpeq;",:"&IEcy;",:"&IJlig;",:"&IOcy;",:"&Iacute;",:"&Icirc;",:"&Icy;",:"&Idot;",:"&imagpart;",:"&Igrave;",:"&Imacr;","":"&ii;","":"&Int;","":"&int;","":"&xcap;","":"&ic;","":"&it;",:"&Iogon;","":"&Iopf;",:"&Iota;",:"&imagline;",:"&Itilde;",:"&Iukcy;",:"&Iuml;",:"&Jcirc;",:"&Jcy;","":"&Jfr;","":"&Jopf;","":"&Jscr;",:"&Jsercy;",:"&Jukcy;",:"&KHcy;",:"&KJcy;",:"&Kappa;",:"&Kcedil;",:"&Kcy;","":"&Kfr;","":"&Kopf;","":"&Kscr;",:"&LJcy;","<":"&lt;",:"&Lacute;",:"&Lambda;","":"&Lang;",:"&lagran;","":"&twoheadleftarrow;",:"&Lcaron;",:"&Lcedil;",:"&Lcy;","":"&langle;","":"&slarr;","":"&larrb;","":"&lrarr;","":"&lceil;","":"&lobrk;","":"&LeftDownTeeVector;","":"&downharpoonleft;","":"&LeftDownVectorBar;","":"&lfloor;","":"&leftrightarrow;","":"&LeftRightVector;","":"&dashv;","":"&mapstoleft;","":"&LeftTeeVector;","":"&vltri;","":"&LeftTriangleBar;","":"&trianglelefteq;","":"&LeftUpDownVector;","":"&LeftUpTeeVector;","":"&upharpoonleft;","":"&LeftUpVectorBar;","":"&lharu;","":"&LeftVectorBar;","":"&lesseqgtr;","":"&leqq;","":"&lg;","":"&LessLess;","":"&les;","":"&lsim;","":"&Lfr;","":"&Ll;","":"&lAarr;",:"&Lmidot;","":"&xlarr;","":"&xharr;","":"&xrarr;","":"&Lopf;","":"&swarrow;","":"&searrow;","":"&lsh;",:"&Lstrok;","":"&ll;","":"&Map;",:"&Mcy;","":"&MediumSpace;",:"&phmmat;","":"&Mfr;","":"&mp;","":"&Mopf;",:"&Mu;",:"&NJcy;",:"&Nacute;",:"&Ncaron;",:"&Ncedil;",:"&Ncy;","":"&ZeroWidthSpace;","\n":"&NewLine;","":"&Nfr;","":"&NoBreak;","":"&nbsp;",:"&naturals;","":"&Not;","":"&nequiv;","":"&NotCupCap;","":"&nspar;","":"&notinva;","":"&ne;","":"&nesim;","":"&nexists;","":"&ngtr;","":"&ngeq;","":"&ngeqq;","":"&nGtv;","":"&ntgl;","":"&nges;","":"&ngsim;","":"&nbump;","":"&nbumpe;","":"&ntriangleleft;","":"&NotLeftTriangleBar;","":"&ntrianglelefteq;","":"&nlt;","":"&nleq;","":"&ntlg;","":"&nLtv;","":"&nles;","":"&nlsim;","":"&NotNestedGreaterGreater;","":"&NotNestedLessLess;","":"&nprec;","":"&npreceq;","":"&nprcue;","":"&notniva;","":"&ntriangleright;","":"&NotRightTriangleBar;","":"&ntrianglerighteq;","":"&NotSquareSubset;","":"&nsqsube;","":"&NotSquareSuperset;","":"&nsqsupe;","":"&vnsub;","":"&nsubseteq;","":"&nsucc;","":"&nsucceq;","":"&nsccue;","":"&NotSucceedsTilde;","":"&vnsup;","":"&nsupseteq;","":"&nsim;","":"&nsimeq;","":"&ncong;","":"&napprox;","":"&nsmid;","":"&Nscr;",:"&Ntilde;",:"&Nu;",:"&OElig;",:"&Oacute;",:"&Ocirc;",:"&Ocy;",:"&Odblac;","":"&Ofr;",:"&Ograve;",:"&Omacr;",:"&ohm;",:"&Omicron;","":"&Oopf;","":"&ldquo;","":"&lsquo;","":"&Or;","":"&Oscr;",:"&Oslash;",:"&Otilde;","":"&Otimes;",:"&Ouml;","":"&oline;","":"&OverBrace;","":"&tbrk;","":"&OverParenthesis;","":"&part;",:"&Pcy;","":"&Pfr;",:"&Phi;",:"&Pi;","":"&pm;",:"&primes;","":"&Pr;","":"&prec;","":"&preceq;","":"&preccurlyeq;","":"&prsim;","":"&Prime;","":"&prod;","":"&vprop;","":"&Pscr;",:"&Psi;",'"':"&quot;","":"&Qfr;",:"&rationals;","":"&Qscr;","":"&drbkarow;","":"&reg;",:"&Racute;","":"&Rang;","":"&twoheadrightarrow;","":"&Rarrtl;",:"&Rcaron;",:"&Rcedil;",:"&Rcy;",:"&realpart;","":"&niv;","":"&lrhar;","":"&duhar;",:"&Rho;","":"&rangle;","":"&srarr;","":"&rarrb;","":"&rlarr;","":"&rceil;","":"&robrk;","":"&RightDownTeeVector;","":"&downharpoonright;","":"&RightDownVectorBar;","":"&rfloor;","":"&vdash;","":"&mapsto;","":"&RightTeeVector;","":"&vrtri;","":"&RightTriangleBar;","":"&trianglerighteq;","":"&RightUpDownVector;","":"&RightUpTeeVector;","":"&upharpoonright;","":"&RightUpVectorBar;","":"&rightharpoonup;","":"&RightVectorBar;",:"&reals;","":"&RoundImplies;","":"&rAarr;",:"&realine;","":"&rsh;","":"&RuleDelayed;",:"&SHCHcy;",:"&SHcy;",:"&SOFTcy;",:"&Sacute;","":"&Sc;",:"&Scaron;",:"&Scedil;",:"&Scirc;",:"&Scy;","":"&Sfr;","":"&uparrow;",:"&Sigma;","":"&compfn;","":"&Sopf;","":"&radic;","":"&square;","":"&sqcap;","":"&sqsubset;","":"&sqsubseteq;","":"&sqsupset;","":"&sqsupseteq;","":"&sqcup;","":"&Sscr;","":"&sstarf;","":"&Subset;","":"&subseteq;","":"&succ;","":"&succeq;","":"&succcurlyeq;","":"&succsim;","":"&sum;","":"&Supset;","":"&supset;","":"&supseteq;",:"&THORN;","":"&trade;",:"&TSHcy;",:"&TScy;","	":"&Tab;",:"&Tau;",:"&Tcaron;",:"&Tcedil;",:"&Tcy;","":"&Tfr;","":"&therefore;",:"&Theta;","":"&ThickSpace;","":"&thinsp;","":"&thksim;","":"&simeq;","":"&cong;","":"&thkap;","":"&Topf;","":"&tdot;","":"&Tscr;",:"&Tstrok;",:"&Uacute;","":"&Uarr;","":"&Uarrocir;",:"&Ubrcy;",:"&Ubreve;",:"&Ucirc;",:"&Ucy;",:"&Udblac;","":"&Ufr;",:"&Ugrave;",:"&Umacr;",_:"&lowbar;","":"&UnderBrace;","":"&bbrk;","":"&UnderParenthesis;","":"&xcup;","":"&uplus;",:"&Uogon;","":"&Uopf;","":"&UpArrowBar;","":"&udarr;","":"&varr;","":"&udhar;","":"&perp;","":"&mapstoup;","":"&nwarrow;","":"&nearrow;",:"&upsih;",:"&Upsilon;",:"&Uring;","":"&Uscr;",:"&Utilde;",:"&Uuml;","":"&VDash;","":"&Vbar;",:"&Vcy;","":"&Vdash;","":"&Vdashl;","":"&xvee;","":"&Vert;","":"&smid;","|":"&vert;","":"&VerticalSeparator;","":"&wreath;","":"&hairsp;","":"&Vfr;","":"&Vopf;","":"&Vscr;","":"&Vvdash;",:"&Wcirc;","":"&xwedge;","":"&Wfr;","":"&Wopf;","":"&Wscr;","":"&Xfr;",:"&Xi;","":"&Xopf;","":"&Xscr;",:"&YAcy;",:"&YIcy;",:"&YUcy;",:"&Yacute;",:"&Ycirc;",:"&Ycy;","":"&Yfr;","":"&Yopf;","":"&Yscr;",:"&Yuml;",:"&ZHcy;",:"&Zacute;",:"&Zcaron;",:"&Zcy;",:"&Zdot;",:"&Zeta;",:"&zeetrf;",:"&integers;","":"&Zscr;",:"&aacute;",:"&abreve;","":"&mstpos;","":"&acE;","":"&acd;",:"&acirc;",:"&acy;",:"&aelig;","":"&afr;",:"&agrave;",:"&aleph;",:"&alpha;",:"&amacr;","":"&amalg;","":"&wedge;","":"&andand;","":"&andd;","":"&andslope;","":"&andv;","":"&angle;","":"&ange;","":"&measuredangle;","":"&angmsdaa;","":"&angmsdab;","":"&angmsdac;","":"&angmsdad;","":"&angmsdae;","":"&angmsdaf;","":"&angmsdag;","":"&angmsdah;","":"&angrt;","":"&angrtvb;","":"&angrtvbd;","":"&angsph;","":"&angzarr;",:"&aogon;","":"&aopf;","":"&apE;","":"&apacir;","":"&approxeq;","":"&apid;","'":"&apos;",:"&aring;","":"&ascr;","*":"&midast;",:"&atilde;",:"&auml;","":"&awint;","":"&bNot;","":"&bcong;","":"&bepsi;","":"&bprime;","":"&bsim;","":"&bsime;","":"&barvee;","":"&barwedge;","":"&bbrktbrk;",:"&bcy;","":"&ldquor;","":"&bemptyv;",:"&beta;",:"&beth;","":"&twixt;","":"&bfr;","":"&xcirc;","":"&xodot;","":"&xoplus;","":"&xotime;","":"&xsqcup;","":"&starf;","":"&xdtri;","":"&xutri;","":"&xuplus;","":"&rbarr;","":"&lozf;","":"&utrif;","":"&dtrif;","":"&ltrif;","":"&rtrif;","":"&blank;","":"&blk12;","":"&blk14;","":"&blk34;","":"&block;","=":"&bne;","":"&bnequiv;","":"&bnot;","":"&bopf;","":"&bowtie;","":"&boxDL;","":"&boxDR;","":"&boxDl;","":"&boxDr;","":"&boxH;","":"&boxHD;","":"&boxHU;","":"&boxHd;","":"&boxHu;","":"&boxUL;","":"&boxUR;","":"&boxUl;","":"&boxUr;","":"&boxV;","":"&boxVH;","":"&boxVL;","":"&boxVR;","":"&boxVh;","":"&boxVl;","":"&boxVr;","":"&boxbox;","":"&boxdL;","":"&boxdR;","":"&boxdl;","":"&boxdr;","":"&boxhD;","":"&boxhU;","":"&boxhd;","":"&boxhu;","":"&minusb;","":"&plusb;","":"&timesb;","":"&boxuL;","":"&boxuR;","":"&boxul;","":"&boxur;","":"&boxv;","":"&boxvH;","":"&boxvL;","":"&boxvR;","":"&boxvh;","":"&boxvl;","":"&boxvr;","":"&brvbar;","":"&bscr;","":"&bsemi;","\\":"&bsol;","":"&bsolb;","":"&bsolhsub;","":"&bullet;","":"&bumpE;",:"&cacute;","":"&cap;","":"&capand;","":"&capbrcup;","":"&capcap;","":"&capcup;","":"&capdot;","":"&caps;","":"&caret;","":"&ccaps;",:"&ccaron;",:"&ccedil;",:"&ccirc;","":"&ccups;","":"&ccupssm;",:"&cdot;","":"&cemptyv;","":"&cent;","":"&cfr;",:"&chcy;","":"&checkmark;",:"&chi;","":"&cir;","":"&cirE;","":"&circ;","":"&cire;","":"&olarr;","":"&orarr;","":"&oS;","":"&oast;","":"&ocir;","":"&odash;","":"&cirfnint;","":"&cirmid;","":"&cirscir;","":"&clubsuit;",":":"&colon;",",":"&comma;","@":"&commat;","":"&complement;","":"&congdot;","":"&copf;","":"&copysr;","":"&crarr;","":"&cross;","":"&cscr;","":"&csub;","":"&csube;","":"&csup;","":"&csupe;","":"&ctdot;","":"&cudarrl;","":"&cudarrr;","":"&curlyeqprec;","":"&curlyeqsucc;","":"&curvearrowleft;","":"&cularrp;","":"&cup;","":"&cupbrcap;","":"&cupcap;","":"&cupcup;","":"&cupdot;","":"&cupor;","":"&cups;","":"&curvearrowright;","":"&curarrm;","":"&cuvee;","":"&cuwed;","":"&curren;","":"&cwint;","":"&cylcty;","":"&dHar;","":"&dagger;",:"&daleth;","":"&hyphen;","":"&rBarr;",:"&dcaron;",:"&dcy;","":"&downdownarrows;","":"&eDDot;","":"&deg;",:"&delta;","":"&demptyv;","":"&dfisht;","":"&dfr;","":"&diams;",:"&gammad;","":"&disin;","":"&divide;","":"&divonx;",:"&djcy;","":"&llcorner;","":"&dlcrop;",$:"&dollar;","":"&dopf;","":"&eDot;","":"&minusd;","":"&plusdo;","":"&sdotb;","":"&lrcorner;","":"&drcrop;","":"&dscr;",:"&dscy;","":"&dsol;",:"&dstrok;","":"&dtdot;","":"&triangledown;","":"&dwangle;",:"&dzcy;","":"&dzigrarr;",:"&eacute;","":"&easter;",:"&ecaron;","":"&eqcirc;",:"&ecirc;","":"&eqcolon;",:"&ecy;",:"&edot;","":"&fallingdotseq;","":"&efr;","":"&eg;",:"&egrave;","":"&eqslantgtr;","":"&egsdot;","":"&el;","":"&elinters;",:"&ell;","":"&eqslantless;","":"&elsdot;",:"&emacr;","":"&varnothing;","":"&emsp13;","":"&emsp14;","":"&emsp;",:"&eng;","":"&ensp;",:"&eogon;","":"&eopf;","":"&epar;","":"&eparsl;","":"&eplus;",:"&epsilon;","":"&varepsilon;","=":"&equals;","":"&questeq;","":"&equivDD;","":"&eqvparsl;","":"&risingdotseq;","":"&erarr;",:"&escr;",:"&eta;",:"&eth;",:"&euml;","":"&euro;","!":"&excl;",:"&fcy;","":"&female;",:"&ffilig;",:"&fflig;",:"&ffllig;","":"&ffr;",:"&filig;",fj:"&fjlig;","":"&flat;",:"&fllig;","":"&fltns;",:"&fnof;","":"&fopf;","":"&pitchfork;","":"&forkv;","":"&fpartint;","":"&half;","":"&frac13;","":"&frac14;","":"&frac15;","":"&frac16;","":"&frac18;","":"&frac23;","":"&frac25;","":"&frac34;","":"&frac35;","":"&frac38;","":"&frac45;","":"&frac56;","":"&frac58;","":"&frac78;","":"&frasl;","":"&sfrown;","":"&fscr;","":"&gtreqqless;",:"&gacute;",:"&gamma;","":"&gtrapprox;",:"&gbreve;",:"&gcirc;",:"&gcy;",:"&gdot;","":"&gescc;","":"&gesdot;","":"&gesdoto;","":"&gesdotol;","":"&gesl;","":"&gesles;","":"&gfr;",:"&gimel;",:"&gjcy;","":"&glE;","":"&gla;","":"&glj;","":"&gneqq;","":"&gnapprox;","":"&gneq;","":"&gnsim;","":"&gopf;",:"&gscr;","":"&gsime;","":"&gsiml;","":"&gtcc;","":"&gtcir;","":"&gtrdot;","":"&gtlPar;","":"&gtquest;","":"&gtrarr;","":"&gvnE;",:"&hardcy;","":"&harrcir;","":"&leftrightsquigarrow;",:"&plankv;",:"&hcirc;","":"&heartsuit;","":"&mldr;","":"&hercon;","":"&hfr;","":"&searhk;","":"&swarhk;","":"&hoarr;","":"&homtht;","":"&larrhk;","":"&rarrhk;","":"&hopf;","":"&horbar;","":"&hscr;",:"&hstrok;","":"&hybull;",:"&iacute;",:"&icirc;",:"&icy;",:"&iecy;","":"&iexcl;","":"&ifr;",:"&igrave;","":"&qint;","":"&tint;","":"&iinfin;","":"&iiota;",:"&ijlig;",:"&imacr;",:"&inodot;","":"&imof;",:"&imped;","":"&incare;","":"&infin;","":"&infintie;","":"&intercal;","":"&intlarhk;","":"&iprod;",:"&iocy;",:"&iogon;","":"&iopf;",:"&iota;","":"&iquest;","":"&iscr;","":"&isinE;","":"&isindot;","":"&isins;","":"&isinsv;",:"&itilde;",:"&iukcy;",:"&iuml;",:"&jcirc;",:"&jcy;","":"&jfr;","":"&jmath;","":"&jopf;","":"&jscr;",:"&jsercy;",:"&jukcy;",:"&kappa;",:"&varkappa;",:"&kcedil;",:"&kcy;","":"&kfr;",:"&kgreen;",:"&khcy;",:"&kjcy;","":"&kopf;","":"&kscr;","":"&lAtail;","":"&lBarr;","":"&lesseqqgtr;","":"&lHar;",:"&lacute;","":"&laemptyv;",:"&lambda;","":"&langd;","":"&lessapprox;","":"&laquo;","":"&larrbfs;","":"&larrfs;","":"&looparrowleft;","":"&larrpl;","":"&larrsim;","":"&leftarrowtail;","":"&lat;","":"&latail;","":"&late;","":"&lates;","":"&lbarr;","":"&lbbrk;","{":"&lcub;","[":"&lsqb;","":"&lbrke;","":"&lbrksld;","":"&lbrkslu;",:"&lcaron;",:"&lcedil;",:"&lcy;","":"&ldca;","":"&ldrdhar;","":"&ldrushar;","":"&ldsh;","":"&leq;","":"&llarr;","":"&lthree;","":"&lescc;","":"&lesdot;","":"&lesdoto;","":"&lesdotor;","":"&lesg;","":"&lesges;","":"&ltdot;","":"&lfisht;","":"&lfr;","":"&lgE;","":"&lharul;","":"&lhblk;",:"&ljcy;","":"&llhard;","":"&lltri;",:"&lmidot;","":"&lmoustache;","":"&lneqq;","":"&lnapprox;","":"&lneq;","":"&lnsim;","":"&loang;","":"&loarr;","":"&xmap;","":"&rarrlp;","":"&lopar;","":"&lopf;","":"&loplus;","":"&lotimes;","":"&lowast;","":"&lozenge;","(":"&lpar;","":"&lparlt;","":"&lrhard;","":"&lrm;","":"&lrtri;","":"&lsaquo;","":"&lscr;","":"&lsime;","":"&lsimg;","":"&sbquo;",:"&lstrok;","":"&ltcc;","":"&ltcir;","":"&ltimes;","":"&ltlarr;","":"&ltquest;","":"&ltrPar;","":"&triangleleft;","":"&lurdshar;","":"&luruhar;","":"&lvnE;","":"&mDDot;","":"&strns;","":"&male;","":"&maltese;","":"&marker;","":"&mcomma;",:"&mcy;","":"&mdash;","":"&mfr;","":"&mho;",:"&micro;","":"&midcir;","":"&minus;","":"&minusdu;","":"&mlcp;","":"&models;","":"&mopf;","":"&mscr;",:"&mu;","":"&mumap;","":"&nGg;","":"&nGt;","":"&nlArr;","":"&nhArr;","":"&nLl;","":"&nLt;","":"&nrArr;","":"&nVDash;","":"&nVdash;",:"&nacute;","":"&nang;","":"&napE;","":"&napid;",:"&napos;","":"&natural;","":"&ncap;",:"&ncaron;",:"&ncedil;","":"&ncongdot;","":"&ncup;",:"&ncy;","":"&ndash;","":"&neArr;","":"&nearhk;","":"&nedot;","":"&toea;","":"&nfr;","":"&nleftrightarrow;","":"&nhpar;","":"&nis;","":"&nisd;",:"&njcy;","":"&nleqq;","":"&nleftarrow;","":"&nldr;","":"&nopf;","":"&not;","":"&notinE;","":"&notindot;","":"&notinvb;","":"&notinvc;","":"&notnivb;","":"&notnivc;","":"&nparsl;","":"&npart;","":"&npolint;","":"&nrightarrow;","":"&nrarrc;","":"&nrarrw;","":"&nscr;","":"&nsub;","":"&nsubseteqq;","":"&nsup;","":"&nsupseteqq;",:"&ntilde;",:"&nu;","#":"&num;","":"&numero;","":"&numsp;","":"&nvDash;","":"&nvHarr;","":"&nvap;","":"&nvdash;","":"&nvge;",">":"&nvgt;","":"&nvinfin;","":"&nvlArr;","":"&nvle;","<":"&nvlt;","":"&nvltrie;","":"&nvrArr;","":"&nvrtrie;","":"&nvsim;","":"&nwArr;","":"&nwarhk;","":"&nwnear;",:"&oacute;",:"&ocirc;",:"&ocy;",:"&odblac;","":"&odiv;","":"&odsold;",:"&oelig;","":"&ofcir;","":"&ofr;","":"&ogon;",:"&ograve;","":"&ogt;","":"&ohbar;","":"&olcir;","":"&olcross;","":"&olt;",:"&omacr;",:"&omega;",:"&omicron;","":"&omid;","":"&oopf;","":"&opar;","":"&operp;","":"&vee;","":"&ord;",:"&oscr;",:"&ordf;",:"&ordm;","":"&origof;","":"&oror;","":"&orslope;","":"&orv;",:"&oslash;","":"&osol;",:"&otilde;","":"&otimesas;",:"&ouml;","":"&ovbar;","":"&para;","":"&parsim;","":"&parsl;",:"&pcy;","%":"&percnt;",".":"&period;","":"&permil;","":"&pertenk;","":"&pfr;",:"&phi;",:"&varphi;","":"&phone;",:"&pi;",:"&varpi;",:"&planckh;","+":"&plus;","":"&plusacir;","":"&pluscir;","":"&plusdu;","":"&pluse;","":"&plussim;","":"&plustwo;","":"&pointint;","":"&popf;","":"&pound;","":"&prE;","":"&precapprox;","":"&prnap;","":"&prnE;","":"&prnsim;","":"&prime;","":"&profalar;","":"&profline;","":"&profsurf;","":"&prurel;","":"&pscr;",:"&psi;","":"&puncsp;","":"&qfr;","":"&qopf;","":"&qprime;","":"&qscr;","":"&quatint;","?":"&quest;","":"&rAtail;","":"&rHar;","":"&race;",:"&racute;","":"&raemptyv;","":"&rangd;","":"&range;","":"&raquo;","":"&rarrap;","":"&rarrbfs;","":"&rarrc;","":"&rarrfs;","":"&rarrpl;","":"&rarrsim;","":"&rightarrowtail;","":"&rightsquigarrow;","":"&ratail;","":"&ratio;","":"&rbbrk;","}":"&rcub;","]":"&rsqb;","":"&rbrke;","":"&rbrksld;","":"&rbrkslu;",:"&rcaron;",:"&rcedil;",:"&rcy;","":"&rdca;","":"&rdldhar;","":"&rdsh;","":"&rect;","":"&rfisht;","":"&rfr;","":"&rharul;",:"&rho;",:"&varrho;","":"&rrarr;","":"&rthree;","":"&ring;","":"&rlm;","":"&rmoustache;","":"&rnmid;","":"&roang;","":"&roarr;","":"&ropar;","":"&ropf;","":"&roplus;","":"&rotimes;",")":"&rpar;","":"&rpargt;","":"&rppolint;","":"&rsaquo;","":"&rscr;","":"&rtimes;","":"&triangleright;","":"&rtriltri;","":"&ruluhar;","":"&rx;",:"&sacute;","":"&scE;","":"&succapprox;",:"&scaron;",:"&scedil;",:"&scirc;","":"&succneqq;","":"&succnapprox;","":"&succnsim;","":"&scpolint;",:"&scy;","":"&sdot;","":"&sdote;","":"&seArr;","":"&sect;",";":"&semi;","":"&tosa;","":"&sext;","":"&sfr;","":"&sharp;",:"&shchcy;",:"&shcy;","":"&shy;",:"&sigma;",:"&varsigma;","":"&simdot;","":"&simg;","":"&simgE;","":"&siml;","":"&simlE;","":"&simne;","":"&simplus;","":"&simrarr;","":"&smashp;","":"&smeparsl;","":"&ssmile;","":"&smt;","":"&smte;","":"&smtes;",:"&softcy;","/":"&sol;","":"&solb;","":"&solbar;","":"&sopf;","":"&spadesuit;","":"&sqcaps;","":"&sqcups;","":"&sscr;","":"&star;","":"&subset;","":"&subseteqq;","":"&subdot;","":"&subedot;","":"&submult;","":"&subsetneqq;","":"&subsetneq;","":"&subplus;","":"&subrarr;","":"&subsim;","":"&subsub;","":"&subsup;","":"&sung;","":"&sup1;","":"&sup2;","":"&sup3;","":"&supseteqq;","":"&supdot;","":"&supdsub;","":"&supedot;","":"&suphsol;","":"&suphsub;","":"&suplarr;","":"&supmult;","":"&supsetneqq;","":"&supsetneq;","":"&supplus;","":"&supsim;","":"&supsub;","":"&supsup;","":"&swArr;","":"&swnwar;",:"&szlig;","":"&target;",:"&tau;",:"&tcaron;",:"&tcedil;",:"&tcy;","":"&telrec;","":"&tfr;",:"&theta;",:"&vartheta;",:"&thorn;","":"&times;","":"&timesbar;","":"&timesd;","":"&topbot;","":"&topcir;","":"&topf;","":"&topfork;","":"&tprime;","":"&utri;","":"&trie;","":"&tridot;","":"&triminus;","":"&triplus;","":"&trisb;","":"&tritime;","":"&trpezium;","":"&tscr;",:"&tscy;",:"&tshcy;",:"&tstrok;","":"&uHar;",:"&uacute;",:"&ubrcy;",:"&ubreve;",:"&ucirc;",:"&ucy;",:"&udblac;","":"&ufisht;","":"&ufr;",:"&ugrave;","":"&uhblk;","":"&ulcorner;","":"&ulcrop;","":"&ultri;",:"&umacr;",:"&uogon;","":"&uopf;",:"&upsilon;","":"&uuarr;","":"&urcorner;","":"&urcrop;",:"&uring;","":"&urtri;","":"&uscr;","":"&utdot;",:"&utilde;",:"&uuml;","":"&uwangle;","":"&vBar;","":"&vBarv;","":"&vangrt;","":"&vsubne;","":"&vsubnE;","":"&vsupne;","":"&vsupnE;",:"&vcy;","":"&veebar;","":"&veeeq;","":"&vellip;","":"&vfr;","":"&vopf;","":"&vscr;","":"&vzigzag;",:"&wcirc;","":"&wedbar;","":"&wedgeq;","":"&wp;","":"&wfr;","":"&wopf;","":"&wscr;","":"&xfr;",:"&xi;","":"&xnis;","":"&xopf;","":"&xscr;",:"&yacute;",:"&yacy;",:"&ycirc;",:"&ycy;","":"&yen;","":"&yfr;",:"&yicy;","":"&yopf;","":"&yscr;",:"&yucy;",:"&yuml;",:"&zacute;",:"&zcaron;",:"&zcy;",:"&zdot;",:"&zeta;","":"&zfr;",:"&zhcy;","":"&zigrarr;","":"&zopf;","":"&zscr;","":"&zwj;","":"&zwnj;"}}}},"./node_modules/html-entities/lib/numeric-unicode-map.js":function(i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.numericUnicodeMap={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},"./node_modules/html-entities/lib/surrogate-pairs.js":function(i,r){Object.defineProperty(r,"__esModule",{value:!0}),r.fromCodePoint=String.fromCodePoint||function(a){return String.fromCharCode(Math.floor((a-65536)/1024)+55296,(a-65536)%1024+56320)},r.getCodePoint=String.prototype.codePointAt?function(a,l){return a.codePointAt(l)}:function(a,l){return(a.charCodeAt(l)-55296)*1024+a.charCodeAt(l+1)-56320+65536},r.highSurrogateFrom=55296,r.highSurrogateTo=56319},"./node_modules/webpack-dev-server/client/clients/WebSocketClient.js":function(i,r,a){a.r(r),a.d(r,{default:function(){return h}});var l=a("./node_modules/webpack-dev-server/client/utils/log.js");function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function u(p,m){for(var v=0;v<m.length;v++){var E=m[v];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(p,E.key,E)}}function f(p,m,v){return m&&u(p.prototype,m),v&&u(p,v),Object.defineProperty(p,"prototype",{writable:!1}),p}var h=function(){function p(m){c(this,p),this.client=new WebSocket(m),this.client.onerror=function(v){l.log.error(v)}}return f(p,[{key:"onOpen",value:function(v){this.client.onopen=v}},{key:"onClose",value:function(v){this.client.onclose=v}},{key:"onMessage",value:function(v){this.client.onmessage=function(E){v(E.data)}}}]),p}()},"./node_modules/webpack-dev-server/client/index.js?protocol=ws%3A&hostname=localhost&port=8081&pathname=%2Fws&logging=none&reconnect=10":function(i,r,a){var l="?protocol=ws%3A&hostname=localhost&port=8081&pathname=%2Fws&logging=none&reconnect=10";a.r(r);var c=a("./node_modules/webpack/hot/log.js"),u=a.n(c),f=a("./node_modules/webpack-dev-server/client/utils/stripAnsi.js"),h=a("./node_modules/webpack-dev-server/client/utils/parseURL.js"),p=a("./node_modules/webpack-dev-server/client/socket.js"),m=a("./node_modules/webpack-dev-server/client/overlay.js"),v=a("./node_modules/webpack-dev-server/client/utils/log.js"),E=a("./node_modules/webpack-dev-server/client/utils/sendMessage.js"),S=a("./node_modules/webpack-dev-server/client/utils/reloadApp.js"),P=a("./node_modules/webpack-dev-server/client/utils/createSocketURL.js"),b={isUnloading:!1,currentHash:a.h()},w={hot:!1,liveReload:!1,progress:!1,overlay:!1},_=(0,h.default)(l);_.hot==="true"&&(w.hot=!0,v.log.info("Hot Module Replacement enabled.")),_["live-reload"]==="true"&&(w.liveReload=!0,v.log.info("Live Reloading enabled.")),_.logging&&(w.logging=_.logging),typeof _.reconnect<"u"&&(w.reconnect=Number(_.reconnect));function y(H){u().setLogLevel(H==="verbose"||H==="log"?"info":H),(0,v.setLogLevel)(H)}w.logging&&y(w.logging),self.addEventListener("beforeunload",function(){b.isUnloading=!0});var x={hot:function(){_.hot!=="false"&&(w.hot=!0,v.log.info("Hot Module Replacement enabled."))},liveReload:function(){_["live-reload"]!=="false"&&(w.liveReload=!0,v.log.info("Live Reloading enabled."))},invalid:function(){v.log.info("App updated. Recompiling..."),w.overlay&&(0,m.hide)(),(0,E.default)("Invalid")},hash:function(D){b.previousHash=b.currentHash,b.currentHash=D},logging:y,overlay:function(D){typeof document>"u"||(w.overlay=D)},reconnect:function(D){_.reconnect!=="false"&&(w.reconnect=D)},progress:function(D){w.progress=D},"progress-update":function(D){w.progress&&v.log.info("".concat(D.pluginName?"[".concat(D.pluginName,"] "):"").concat(D.percent,"% - ").concat(D.msg,".")),(0,E.default)("Progress",D)},"still-ok":function(){v.log.info("Nothing changed."),w.overlay&&(0,m.hide)(),(0,E.default)("StillOk")},ok:function(){(0,E.default)("Ok"),w.overlay&&(0,m.hide)(),(0,S.default)(w,b)},"content-changed":function(D){v.log.info("".concat(D?'"'.concat(D,'"'):"Content"," from static directory was changed. Reloading...")),self.location.reload()},"static-changed":function(D){v.log.info("".concat(D?'"'.concat(D,'"'):"Content"," from static directory was changed. Reloading...")),self.location.reload()},warnings:function(D,N){v.log.warn("Warnings while compiling.");var U=D.map(function(T){var O=(0,m.formatProblem)("warning",T),j=O.header,K=O.body;return"".concat(j,`
`).concat((0,f.default)(K))});(0,E.default)("Warnings",U);for(var I=0;I<U.length;I++)v.log.warn(U[I]);var B=typeof w.overlay=="boolean"?w.overlay:w.overlay&&w.overlay.warnings;if(B){var M=typeof w.overlay=="object"&&w.overlay.trustedTypesPolicyName;(0,m.show)("warning",D,M||null)}N&&N.preventReloading||(0,S.default)(w,b)},errors:function(D){v.log.error("Errors while compiling. Reload prevented.");var N=D.map(function(M){var T=(0,m.formatProblem)("error",M),O=T.header,j=T.body;return"".concat(O,`
`).concat((0,f.default)(j))});(0,E.default)("Errors",N);for(var U=0;U<N.length;U++)v.log.error(N[U]);var I=typeof w.overlay=="boolean"?w.overlay:w.overlay&&w.overlay.errors;if(I){var B=typeof w.overlay=="object"&&w.overlay.trustedTypesPolicyName;(0,m.show)("error",D,B||null)}},error:function(D){v.log.error(D)},close:function(){v.log.info("Disconnected!"),w.overlay&&(0,m.hide)(),(0,E.default)("Close")}},A=(0,P.default)(_);(0,p.default)(A,x,w.reconnect)},"./node_modules/webpack-dev-server/client/modules/logger/index.js":function(i,r){(function(){var a={"./client-src/modules/logger/SyncBailHookFake.js":function(p){p.exports=function(){return{call:function(){}}}},"./node_modules/webpack/lib/logging/Logger.js":function(p,m){function v(I){return b(I)||P(I)||S(I)||E()}function E(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(I,B){if(I){if(typeof I=="string")return w(I,B);var M=Object.prototype.toString.call(I).slice(8,-1);if(M==="Object"&&I.constructor&&(M=I.constructor.name),M==="Map"||M==="Set")return Array.from(I);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return w(I,B)}}function P(I){if(typeof(typeof Symbol<"u"?Symbol:function(B){return B})<"u"&&I[(typeof Symbol<"u"?Symbol:function(B){return B}).iterator]!=null||I["@@iterator"]!=null)return Array.from(I)}function b(I){if(Array.isArray(I))return w(I)}function w(I,B){(B==null||B>I.length)&&(B=I.length);for(var M=0,T=new Array(B);M<B;M++)T[M]=I[M];return T}function _(I,B){if(!(I instanceof B))throw new TypeError("Cannot call a class as a function")}function y(I,B){for(var M=0;M<B.length;M++){var T=B[M];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(I,T.key,T)}}function x(I,B,M){return B&&y(I.prototype,B),M&&y(I,M),Object.defineProperty(I,"prototype",{writable:!1}),I}var A=Object.freeze({error:"error",warn:"warn",info:"info",log:"log",debug:"debug",trace:"trace",group:"group",groupCollapsed:"groupCollapsed",groupEnd:"groupEnd",profile:"profile",profileEnd:"profileEnd",time:"time",clear:"clear",status:"status"});m.LogType=A;var H=(typeof Symbol<"u"?Symbol:function(I){return I})("webpack logger raw log method"),D=(typeof Symbol<"u"?Symbol:function(I){return I})("webpack logger times"),N=(typeof Symbol<"u"?Symbol:function(I){return I})("webpack logger aggregated times"),U=function(){function I(B,M){_(this,I),this[H]=B,this.getChildLogger=M}return x(I,[{key:"error",value:function(){for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];this[H](A.error,T)}},{key:"warn",value:function(){for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];this[H](A.warn,T)}},{key:"info",value:function(){for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];this[H](A.info,T)}},{key:"log",value:function(){for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];this[H](A.log,T)}},{key:"debug",value:function(){for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];this[H](A.debug,T)}},{key:"assert",value:function(M){if(!M){for(var T=arguments.length,O=new Array(T>1?T-1:0),j=1;j<T;j++)O[j-1]=arguments[j];this[H](A.error,O)}}},{key:"trace",value:function(){this[H](A.trace,["Trace"])}},{key:"clear",value:function(){this[H](A.clear)}},{key:"status",value:function(){for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];this[H](A.status,T)}},{key:"group",value:function(){for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];this[H](A.group,T)}},{key:"groupCollapsed",value:function(){for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];this[H](A.groupCollapsed,T)}},{key:"groupEnd",value:function(){for(var M=arguments.length,T=new Array(M),O=0;O<M;O++)T[O]=arguments[O];this[H](A.groupEnd,T)}},{key:"profile",value:function(M){this[H](A.profile,[M])}},{key:"profileEnd",value:function(M){this[H](A.profileEnd,[M])}},{key:"time",value:function(M){this[D]=this[D]||new Map,this[D].set(M,process.hrtime())}},{key:"timeLog",value:function(M){var T=this[D]&&this[D].get(M);if(!T)throw new Error("No such label '".concat(M,"' for WebpackLogger.timeLog()"));var O=process.hrtime(T);this[H](A.time,[M].concat(v(O)))}},{key:"timeEnd",value:function(M){var T=this[D]&&this[D].get(M);if(!T)throw new Error("No such label '".concat(M,"' for WebpackLogger.timeEnd()"));var O=process.hrtime(T);this[D].delete(M),this[H](A.time,[M].concat(v(O)))}},{key:"timeAggregate",value:function(M){var T=this[D]&&this[D].get(M);if(!T)throw new Error("No such label '".concat(M,"' for WebpackLogger.timeAggregate()"));var O=process.hrtime(T);this[D].delete(M),this[N]=this[N]||new Map;var j=this[N].get(M);j!==void 0&&(O[1]+j[1]>1e9?(O[0]+=j[0]+1,O[1]=O[1]-1e9+j[1]):(O[0]+=j[0],O[1]+=j[1])),this[N].set(M,O)}},{key:"timeAggregateEnd",value:function(M){if(this[N]!==void 0){var T=this[N].get(M);T!==void 0&&(this[N].delete(M),this[H](A.time,[M].concat(v(T))))}}}]),I}();m.Logger=U},"./node_modules/webpack/lib/logging/createConsoleLogger.js":function(p,m,v){function E(D){return w(D)||b(D)||P(D)||S()}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P(D,N){if(D){if(typeof D=="string")return _(D,N);var U=Object.prototype.toString.call(D).slice(8,-1);if(U==="Object"&&D.constructor&&(U=D.constructor.name),U==="Map"||U==="Set")return Array.from(D);if(U==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U))return _(D,N)}}function b(D){if(typeof(typeof Symbol<"u"?Symbol:function(N){return N})<"u"&&D[(typeof Symbol<"u"?Symbol:function(N){return N}).iterator]!=null||D["@@iterator"]!=null)return Array.from(D)}function w(D){if(Array.isArray(D))return _(D)}function _(D,N){(N==null||N>D.length)&&(N=D.length);for(var U=0,I=new Array(N);U<N;U++)I[U]=D[U];return I}var y=v("./node_modules/webpack/lib/logging/Logger.js"),x=y.LogType,A=function(N){if(typeof N=="string"){var U=new RegExp("[\\\\/]".concat(N.replace(/[-[\]{}()*+?.\\^$|]/g,"\\$&"),"([\\\\/]|$|!|\\?)"));return function(I){return U.test(I)}}if(N&&typeof N=="object"&&typeof N.test=="function")return function(I){return N.test(I)};if(typeof N=="function")return N;if(typeof N=="boolean")return function(){return N}},H={none:6,false:6,error:5,warn:4,info:3,log:2,true:2,verbose:1};p.exports=function(D){var N=D.level,U=N===void 0?"info":N,I=D.debug,B=I===void 0?!1:I,M=D.console,T=typeof B=="boolean"?[function(){return B}]:[].concat(B).map(A),O=H["".concat(U)]||0,j=function(V,F,Z){var q=function(){return Array.isArray(Z)?Z.length>0&&typeof Z[0]=="string"?["[".concat(V,"] ").concat(Z[0])].concat(E(Z.slice(1))):["[".concat(V,"]")].concat(E(Z)):[]},W=T.some(function(ee){return ee(V)});switch(F){case x.debug:if(!W)return;typeof M.debug=="function"?M.debug.apply(M,E(q())):M.log.apply(M,E(q()));break;case x.log:if(!W&&O>H.log)return;M.log.apply(M,E(q()));break;case x.info:if(!W&&O>H.info)return;M.info.apply(M,E(q()));break;case x.warn:if(!W&&O>H.warn)return;M.warn.apply(M,E(q()));break;case x.error:if(!W&&O>H.error)return;M.error.apply(M,E(q()));break;case x.trace:if(!W)return;M.trace();break;case x.groupCollapsed:if(!W&&O>H.log)return;if(!W&&O>H.verbose){typeof M.groupCollapsed=="function"?M.groupCollapsed.apply(M,E(q())):M.log.apply(M,E(q()));break}case x.group:if(!W&&O>H.log)return;typeof M.group=="function"?M.group.apply(M,E(q())):M.log.apply(M,E(q()));break;case x.groupEnd:if(!W&&O>H.log)return;typeof M.groupEnd=="function"&&M.groupEnd();break;case x.time:{if(!W&&O>H.log)return;var J=Z[1]*1e3+Z[2]/1e6,X="[".concat(V,"] ").concat(Z[0],": ").concat(J," ms");typeof M.logTime=="function"?M.logTime(X):M.log(X);break}case x.profile:typeof M.profile=="function"&&M.profile.apply(M,E(q()));break;case x.profileEnd:typeof M.profileEnd=="function"&&M.profileEnd.apply(M,E(q()));break;case x.clear:if(!W&&O>H.log)return;typeof M.clear=="function"&&M.clear();break;case x.status:if(!W&&O>H.info)return;typeof M.status=="function"?Z.length===0?M.status():M.status.apply(M,E(q())):Z.length!==0&&M.info.apply(M,E(q()));break;default:throw new Error("Unexpected LogType ".concat(F))}};return j}},"./node_modules/webpack/lib/logging/runtime.js":function(p,m,v){function E(){return E=Object.assign?Object.assign.bind():function(x){for(var A=1;A<arguments.length;A++){var H=arguments[A];for(var D in H)Object.prototype.hasOwnProperty.call(H,D)&&(x[D]=H[D])}return x},E.apply(this,arguments)}var S=v("./client-src/modules/logger/SyncBailHookFake.js"),P=v("./node_modules/webpack/lib/logging/Logger.js"),b=P.Logger,w=v("./node_modules/webpack/lib/logging/createConsoleLogger.js"),_={level:"info",debug:!1,console},y=w(_);m.getLogger=function(x){return new b(function(A,H){m.hooks.log.call(x,A,H)===void 0&&y(x,A,H)},function(A){return m.getLogger("".concat(x,"/").concat(A))})},m.configureDefaultLogger=function(x){E(_,x),y=w(_)},m.hooks={log:new S(["origin","type","args"])}}},l={};function c(p){var m=l[p];if(m!==void 0)return m.exports;var v=l[p]={exports:{}};return a[p](v,v.exports,c),v.exports}(function(){c.d=function(p,m){for(var v in m)c.o(m,v)&&!c.o(p,v)&&Object.defineProperty(p,v,{enumerable:!0,get:m[v]})}})(),function(){c.o=function(p,m){return Object.prototype.hasOwnProperty.call(p,m)}}(),function(){c.r=function(p){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})}}();var u={};(function(){/*!********************************************!*\
  !*** ./client-src/modules/logger/index.js ***!
  \********************************************/c.r(u),c.d(u,{default:function(){return p}});var p=c("./node_modules/webpack/lib/logging/runtime.js")})();var f=r;for(var h in u)f[h]=u[h];u.__esModule&&Object.defineProperty(f,"__esModule",{value:!0})})()},"./node_modules/webpack-dev-server/client/overlay.js":function(i,r,a){a.r(r),a.d(r,{formatProblem:function(){return b},hide:function(){return P},show:function(){return w}});var l=a("./node_modules/ansi-html-community/index.js"),c=a.n(l),u=a("./node_modules/html-entities/lib/index.js"),f={reset:["transparent","transparent"],black:"181818",red:"E36049",green:"B3CB74",yellow:"FFD080",blue:"7CAFC2",magenta:"7FACCA",cyan:"C3C2EF",lightgrey:"EBE7E3",darkgrey:"6D7891"},h,p,m=[],v;c().setColors(f);function E(_){window.trustedTypes&&(v=window.trustedTypes.createPolicy(_||"webpack-dev-server#overlay",{createHTML:function(x){return x}})),h=document.createElement("iframe"),h.id="webpack-dev-server-client-overlay",h.src="about:blank",h.style.position="fixed",h.style.left=0,h.style.top=0,h.style.right=0,h.style.bottom=0,h.style.width="100vw",h.style.height="100vh",h.style.border="none",h.style.zIndex=9999999999,h.onload=function(){p=h.contentDocument.createElement("div"),p.id="webpack-dev-server-client-overlay-div",p.style.position="fixed",p.style.boxSizing="border-box",p.style.left=0,p.style.top=0,p.style.right=0,p.style.bottom=0,p.style.width="100vw",p.style.height="100vh",p.style.backgroundColor="rgba(0, 0, 0, 0.85)",p.style.color="#E8E8E8",p.style.fontFamily="Menlo, Consolas, monospace",p.style.fontSize="large",p.style.padding="2rem",p.style.lineHeight="1.2",p.style.whiteSpace="pre-wrap",p.style.overflow="auto";var y=document.createElement("span");y.innerText="Compiled with problems:";var x=document.createElement("button");x.innerText="X",x.style.background="transparent",x.style.border="none",x.style.fontSize="20px",x.style.fontWeight="bold",x.style.color="white",x.style.cursor="pointer",x.style.cssFloat="right",x.style.styleFloat="right",x.addEventListener("click",function(){P()}),p.appendChild(y),p.appendChild(x),p.appendChild(document.createElement("br")),p.appendChild(document.createElement("br")),h.contentDocument.body.appendChild(p),m.forEach(function(A){A(p)}),m=[],h.onload=null},document.body.appendChild(h)}function S(_,y){if(p){_(p);return}m.push(_),!h&&E(y)}function P(){h&&(document.body.removeChild(h),h=null,p=null)}function b(_,y){var x=_==="warning"?"WARNING":"ERROR",A="";if(typeof y=="string")A+=y;else{var H=y.file||"",D=y.moduleName?y.moduleName.indexOf("!")!==-1?"".concat(y.moduleName.replace(/^(\s|\S)*!/,"")," (").concat(y.moduleName,")"):"".concat(y.moduleName):"",N=y.loc;x+="".concat(D||H?" in ".concat(D?"".concat(D).concat(H?" (".concat(H,")"):""):H).concat(N?" ".concat(N):""):""),A+=y.message||""}return{header:x,body:A}}function w(_,y,x){S(function(){y.forEach(function(A){var H=document.createElement("div"),D=document.createElement("span"),N=b(_,A),U=N.header,I=N.body;D.innerText=U,D.style.color="#".concat(f.red);var B=c()((0,u.encode)(I)),M=document.createElement("div");M.innerHTML=v?v.createHTML(B):B,H.appendChild(D),H.appendChild(document.createElement("br")),H.appendChild(document.createElement("br")),H.appendChild(M),H.appendChild(document.createElement("br")),H.appendChild(document.createElement("br")),p.appendChild(H)})},x)}},"./node_modules/webpack-dev-server/client/socket.js":function(i,r,a){a.r(r),a.d(r,{client:function(){return m}});var l=a("./node_modules/webpack-dev-server/client/clients/WebSocketClient.js"),c=a("./node_modules/webpack-dev-server/client/utils/log.js"),u=a("./node_modules/webpack-dev-server/client/clients/WebSocketClient.js"),f=typeof u<"u"?typeof u.default<"u"?u.default:u:l.default,h=0,p=10,m=null,v=function(S,P,b){m=new f(S),m.onOpen(function(){h=0,typeof b<"u"&&(p=b)}),m.onClose(function(){if(h===0&&P.close(),m=null,h<p){var w=1e3*Math.pow(2,h)+Math.random()*100;h+=1,c.log.info("Trying to reconnect..."),setTimeout(function(){v(S,P,b)},w)}}),m.onMessage(function(w){var _=JSON.parse(w);P[_.type]&&P[_.type](_.data,_.params)})};r.default=v},"./node_modules/webpack-dev-server/client/utils/createSocketURL.js":function(i,r,a){a.r(r);function l(u){var f=u.protocol||"";f&&f.substr(-1)!==":"&&(f+=":");var h=u.auth||"";h&&(h=encodeURIComponent(h),h=h.replace(/%3A/i,":"),h+="@");var p="";u.hostname&&(p=h+(u.hostname.indexOf(":")===-1?u.hostname:"[".concat(u.hostname,"]")),u.port&&(p+=":".concat(u.port)));var m=u.pathname||"";u.slashes?(p="//".concat(p||""),m&&m.charAt(0)!=="/"&&(m="/".concat(m))):p||(p="");var v=u.search||"";v&&v.charAt(0)!=="?"&&(v="?".concat(v));var E=u.hash||"";return E&&E.charAt(0)!=="#"&&(E="#".concat(E)),m=m.replace(/[?#]/g,function(S){return encodeURIComponent(S)}),v=v.replace("#","%23"),"".concat(f).concat(p).concat(m).concat(v).concat(E)}function c(u){var f=u.hostname,h=f==="0.0.0.0"||f==="::"||f==="[::]";h&&self.location.hostname&&self.location.protocol.indexOf("http")===0&&(f=self.location.hostname);var p=u.protocol||self.location.protocol;(p==="auto:"||f&&h&&self.location.protocol==="https:")&&(p=self.location.protocol),p=p.replace(/^(?:http|.+-extension|file)/i,"ws");var m="";u.username&&(m=u.username,u.password&&(m=m.concat(":",u.password)));var v=(f||self.location.hostname||"localhost").replace(/^\[(.*)\]$/,"$1"),E=u.port;(!E||E==="0")&&(E=self.location.port);var S="/ws";return u.pathname&&!u.fromCurrentScript&&(S=u.pathname),l({protocol:p,auth:m,hostname:v,port:E,pathname:S,slashes:!0})}r.default=c},"./node_modules/webpack-dev-server/client/utils/getCurrentScriptSource.js":function(i,r,a){a.r(r);function l(){if(document.currentScript)return document.currentScript.getAttribute("src");var c=document.scripts||[],u=Array.prototype.filter.call(c,function(h){return h.getAttribute("src")});if(u.length>0){var f=u[u.length-1];return f.getAttribute("src")}throw new Error("[webpack-dev-server] Failed to get current script source.")}r.default=l},"./node_modules/webpack-dev-server/client/utils/log.js":function(i,r,a){a.r(r),a.d(r,{log:function(){return p},setLogLevel:function(){return h}});var l=a("./node_modules/webpack-dev-server/client/modules/logger/index.js"),c=a.n(l),u="webpack-dev-server",f="info";function h(m){c().configureDefaultLogger({level:m})}h(f);var p=c().getLogger(u)},"./node_modules/webpack-dev-server/client/utils/parseURL.js":function(i,r,a){a.r(r);var l=a("./node_modules/webpack-dev-server/client/utils/getCurrentScriptSource.js");function c(u){var f={};if(typeof u=="string"&&u!=="")for(var h=u.slice(1).split("&"),p=0;p<h.length;p++){var m=h[p].split("=");f[m[0]]=decodeURIComponent(m[1])}else{var v=(0,l.default)(),E;try{E=new URL(v,self.location.href)}catch{}E&&(f=E,f.fromCurrentScript=!0)}return f}r.default=c},"./node_modules/webpack-dev-server/client/utils/reloadApp.js":function(i,r,a){a.r(r);var l=a("./node_modules/webpack/hot/emitter.js"),c=a.n(l),u=a("./node_modules/webpack-dev-server/client/utils/log.js");function f(h,p){var m=h.hot,v=h.liveReload;if(p.isUnloading)return;var E=p.currentHash,S=p.previousHash,P=E.indexOf(S)>=0;if(P)return;function b(H,D){clearInterval(D),u.log.info("App updated. Reloading..."),H.location.reload()}var w=self.location.search.toLowerCase(),_=w.indexOf("webpack-dev-server-hot=false")===-1,y=w.indexOf("webpack-dev-server-live-reload=false")===-1;if(m&&_)u.log.info("App hot update..."),c().emit("webpackHotUpdate",p.currentHash),typeof self<"u"&&self.window&&self.postMessage("webpackHotUpdate".concat(p.currentHash),"*");else if(v&&y)var x=self,A=self.setInterval(function(){x.location.protocol!=="about:"?b(x,A):(x=x.parent,x.parent===x&&b(x,A))})}r.default=f},"./node_modules/webpack-dev-server/client/utils/sendMessage.js":function(i,r,a){a.r(r);function l(c,u){typeof self<"u"&&(typeof WorkerGlobalScope>"u"||!(self instanceof WorkerGlobalScope))&&self.postMessage({type:"webpack".concat(c),data:u},"*")}r.default=l},"./node_modules/webpack-dev-server/client/utils/stripAnsi.js":function(i,r,a){a.r(r);var l=new RegExp(["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|"),"g");function c(u){if(typeof u!="string")throw new TypeError("Expected a `string`, got `".concat(typeof u,"`"));return u.replace(l,"")}r.default=c},"./node_modules/webpack/hot/dev-server.js":function(i,r,a){{var l,c=function(){return l.indexOf(a.h())>=0},u=a("./node_modules/webpack/hot/log.js"),f=function p(){i.hot.check(!0).then(function(m){if(!m){u("warning","[HMR] Cannot find update. Need to do a full reload!"),u("warning","[HMR] (Probably because of restarting the webpack-dev-server)"),window.location.reload();return}c()||p(),a("./node_modules/webpack/hot/log-apply-result.js")(m,m),c()&&u("info","[HMR] App is up to date.")}).catch(function(m){var v=i.hot.status();["abort","fail"].indexOf(v)>=0?(u("warning","[HMR] Cannot apply update. Need to do a full reload!"),u("warning","[HMR] "+u.formatError(m)),window.location.reload()):u("warning","[HMR] Update failed: "+u.formatError(m))})},h=a("./node_modules/webpack/hot/emitter.js");h.on("webpackHotUpdate",function(p){l=p,!c()&&i.hot.status()==="idle"&&(u("info","[HMR] Checking for updates on the server..."),f())}),u("info","[HMR] Waiting for update signal from WDS...")}},"./node_modules/webpack/hot/emitter.js":function(i,r,a){var l=a("./node_modules/events/events.js");i.exports=new l},"./node_modules/webpack/hot/log-apply-result.js":function(i,r,a){i.exports=function(l,c){var u=l.filter(function(p){return c&&c.indexOf(p)<0}),f=a("./node_modules/webpack/hot/log.js");if(u.length>0&&(f("warning","[HMR] The following modules couldn't be hot updated: (They would need a full reload!)"),u.forEach(function(p){f("warning","[HMR]  - "+p)})),!c||c.length===0)f("info","[HMR] Nothing hot updated.");else{f("info","[HMR] Updated modules:"),c.forEach(function(p){if(typeof p=="string"&&p.indexOf("!")!==-1){var m=p.split("!");f.groupCollapsed("info","[HMR]  - "+m.pop()),f("info","[HMR]  - "+p),f.groupEnd("info")}else f("info","[HMR]  - "+p)});var h=c.every(function(p){return typeof p=="number"});h&&f("info",'[HMR] Consider using the optimization.moduleIds: "named" for module names.')}}},"./node_modules/webpack/hot/log.js":function(i){var r="info";function a(){}function l(p){var m=r==="info"&&p==="info"||["info","warning"].indexOf(r)>=0&&p==="warning"||["info","warning","error"].indexOf(r)>=0&&p==="error";return m}function c(p){return function(m,v){l(m)&&p(v)}}i.exports=function(p,m){l(p)&&(p==="info"?console.log(m):p==="warning"?console.warn(m):p==="error"&&console.error(m))};var u=console.group||a,f=console.groupCollapsed||a,h=console.groupEnd||a;i.exports.group=c(u),i.exports.groupCollapsed=c(f),i.exports.groupEnd=c(h),i.exports.setLogLevel=function(p){r=p},i.exports.formatError=function(p){var m=p.message,v=p.stack;return v?v.indexOf(m)<0?m+`
`+v:v:m}}},n={};function o(i){var r=n[i];if(r!==void 0){if(r.error!==void 0)throw r.error;return r.exports}var a=n[i]={exports:{}};try{var l={id:i,module:a,factory:e[i],require:o};o.i.forEach(function(c){c(l)}),a=l.module,l.factory.call(a.exports,a,a.exports,l.require)}catch(c){throw a.error=c,c}return a.exports}o.m=e,o.c=n,o.i=[],function(){o.n=function(i){var r=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(r,{a:r}),r}}(),function(){o.d=function(i,r){for(var a in r)o.o(r,a)&&!o.o(i,a)&&Object.defineProperty(i,a,{enumerable:!0,get:r[a]})}}(),function(){o.hu=function(i){return"hot/hot-update.js"}}(),function(){o.hmrF=function(){return"hot/hot-update.json"}}(),function(){o.h=function(){return"91f95dff9a05d618ec63"}}(),function(){o.o=function(i,r){return Object.prototype.hasOwnProperty.call(i,r)}}(),function(){var i={},r="leaflet-distortableimage:";o.l=function(a,l,c,u){if(i[a]){i[a].push(l);return}var f,h;if(c!==void 0)for(var p=document.getElementsByTagName("script"),m=0;m<p.length;m++){var v=p[m];if(v.getAttribute("src")==a||v.getAttribute("data-webpack")==r+c){f=v;break}}f||(h=!0,f=document.createElement("script"),f.charset="utf-8",f.timeout=120,o.nc&&f.setAttribute("nonce",o.nc),f.setAttribute("data-webpack",r+c),f.src=a),i[a]=[l];var E=function(P,b){f.onerror=f.onload=null,clearTimeout(S);var w=i[a];if(delete i[a],f.parentNode&&f.parentNode.removeChild(f),w&&w.forEach(function(_){return _(b)}),P)return P(b)},S=setTimeout(E.bind(null,void 0,{type:"timeout",target:f}),12e4);f.onerror=E.bind(null,f.onerror),f.onload=E.bind(null,f.onload),h&&document.head.appendChild(f)}}(),function(){o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}}(),function(){var i={},r=o.c,a,l=[],c=[],u="idle",f=0,h=[],p,m;o.hmrD=i,o.i.push(function(H){var D=H.module,N=v(H.require,H.id);D.hot=E(H.id,D),D.parents=l,D.children=[],l=[],H.require=N}),o.hmrC={},o.hmrI={};function v(H,D){var N=r[D];if(!N)return H;var U=function(M){if(N.hot.active){if(r[M]){var T=r[M].parents;T.indexOf(D)===-1&&T.push(D)}else l=[D],a=M;N.children.indexOf(M)===-1&&N.children.push(M)}else console.warn("[HMR] unexpected require("+M+") from disposed module "+D),l=[];return H(M)},I=function(M){return{configurable:!0,enumerable:!0,get:function(){return H[M]},set:function(T){H[M]=T}}};for(var B in H)Object.prototype.hasOwnProperty.call(H,B)&&B!=="e"&&Object.defineProperty(U,B,I(B));return U.e=function(M){return b(H.e(M))},U}function E(H,D){var N=a!==H,U={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:N,_requireSelf:function(){l=D.parents.slice(),a=N?void 0:H,o(H)},active:!0,accept:function(I,B,M){if(I===void 0)U._selfAccepted=!0;else if(typeof I=="function")U._selfAccepted=I;else if(typeof I=="object"&&I!==null)for(var T=0;T<I.length;T++)U._acceptedDependencies[I[T]]=B||function(){},U._acceptedErrorHandlers[I[T]]=M;else U._acceptedDependencies[I]=B||function(){},U._acceptedErrorHandlers[I]=M},decline:function(I){if(I===void 0)U._selfDeclined=!0;else if(typeof I=="object"&&I!==null)for(var B=0;B<I.length;B++)U._declinedDependencies[I[B]]=!0;else U._declinedDependencies[I]=!0},dispose:function(I){U._disposeHandlers.push(I)},addDisposeHandler:function(I){U._disposeHandlers.push(I)},removeDisposeHandler:function(I){var B=U._disposeHandlers.indexOf(I);B>=0&&U._disposeHandlers.splice(B,1)},invalidate:function(){switch(this._selfInvalidated=!0,u){case"idle":p=[],Object.keys(o.hmrI).forEach(function(I){o.hmrI[I](H,p)}),S("ready");break;case"ready":Object.keys(o.hmrI).forEach(function(I){o.hmrI[I](H,p)});break;case"prepare":case"check":case"dispose":case"apply":(m=m||[]).push(H);break}},check:_,apply:y,status:function(I){if(!I)return u;c.push(I)},addStatusHandler:function(I){c.push(I)},removeStatusHandler:function(I){var B=c.indexOf(I);B>=0&&c.splice(B,1)},data:i[H]};return a=void 0,U}function S(H){u=H;for(var D=[],N=0;N<c.length;N++)D[N]=c[N].call(null,H);return Promise.all(D)}function P(){--f===0&&S("ready").then(function(){if(f===0){var H=h;h=[];for(var D=0;D<H.length;D++)H[D]()}})}function b(H){switch(u){case"ready":S("prepare");case"prepare":return f++,H.then(P,P),H;default:return H}}function w(H){return f===0?H():new Promise(function(D){h.push(function(){D(H())})})}function _(H){if(u!=="idle")throw new Error("check() is only allowed in idle status");return S("check").then(o.hmrM).then(function(D){return D?S("prepare").then(function(){var N=[];return p=[],Promise.all(Object.keys(o.hmrC).reduce(function(U,I){return o.hmrC[I](D.c,D.r,D.m,U,p,N),U},[])).then(function(){return w(function(){return H?x(H):S("ready").then(function(){return N})})})}):S(A()?"ready":"idle").then(function(){return null})})}function y(H){return u!=="ready"?Promise.resolve().then(function(){throw new Error("apply() is only allowed in ready status (state: "+u+")")}):x(H)}function x(H){H=H||{},A();var D=p.map(function(O){return O(H)});p=void 0;var N=D.map(function(O){return O.error}).filter(Boolean);if(N.length>0)return S("abort").then(function(){throw N[0]});var U=S("dispose");D.forEach(function(O){O.dispose&&O.dispose()});var I=S("apply"),B,M=function(O){B||(B=O)},T=[];return D.forEach(function(O){if(O.apply){var j=O.apply(M);if(j)for(var K=0;K<j.length;K++)T.push(j[K])}}),Promise.all([U,I]).then(function(){return B?S("fail").then(function(){throw B}):m?x(H).then(function(O){return T.forEach(function(j){O.indexOf(j)<0&&O.push(j)}),O}):S("idle").then(function(){return T})})}function A(){if(m)return p||(p=[]),Object.keys(o.hmrI).forEach(function(H){m.forEach(function(D){o.hmrI[H](D,p)})}),m=void 0,!0}}(),function(){o.p="/dist/"}(),function(){var i=o.hmrS_jsonp=o.hmrS_jsonp||{main:0},r,a={};function l(m,v){return r=v,new Promise(function(E,S){a[m]=E;var P=o.p+o.hu(m),b=new Error,w=function(_){if(a[m]){a[m]=void 0;var y=_&&(_.type==="load"?"missing":_.type),x=_&&_.target&&_.target.src;b.message="Loading hot update chunk "+m+` failed.
(`+y+": "+x+")",b.name="ChunkLoadError",b.type=y,b.request=x,S(b)}};o.l(P,w)})}self.webpackHotUpdateleaflet_distortableimage=function(m,v,E){for(var S in v)o.o(v,S)&&(u[S]=v[S],r&&r.push(S));E&&h.push(E),a[m]&&(a[m](),a[m]=void 0)};var c,u,f,h;function p(m){o.f&&delete o.f.jsonpHmr,c=void 0;function v(O){for(var j=[O],K={},V=j.map(function(te){return{chain:[te],id:te}});V.length>0;){var F=V.pop(),Z=F.id,q=F.chain,W=o.c[Z];if(!(!W||W.hot._selfAccepted&&!W.hot._selfInvalidated)){if(W.hot._selfDeclined)return{type:"self-declined",chain:q,moduleId:Z};if(W.hot._main)return{type:"unaccepted",chain:q,moduleId:Z};for(var J=0;J<W.parents.length;J++){var X=W.parents[J],ee=o.c[X];if(ee){if(ee.hot._declinedDependencies[Z])return{type:"declined",chain:q.concat([X]),moduleId:Z,parentId:X};if(j.indexOf(X)===-1){if(ee.hot._acceptedDependencies[Z]){K[X]||(K[X]=[]),E(K[X],[Z]);continue}delete K[X],j.push(X),V.push({chain:q.concat([X]),id:X})}}}}}return{type:"accepted",moduleId:O,outdatedModules:j,outdatedDependencies:K}}function E(O,j){for(var K=0;K<j.length;K++){var V=j[K];O.indexOf(V)===-1&&O.push(V)}}var S={},P=[],b={},w=function(j){console.warn("[HMR] unexpected require("+j.id+") to disposed module")};for(var _ in u)if(o.o(u,_)){var y=u[_],x;y?x=v(_):x={type:"disposed",moduleId:_};var A=!1,H=!1,D=!1,N="";switch(x.chain&&(N=`
Update propagation: `+x.chain.join(" -> ")),x.type){case"self-declined":m.onDeclined&&m.onDeclined(x),m.ignoreDeclined||(A=new Error("Aborted because of self decline: "+x.moduleId+N));break;case"declined":m.onDeclined&&m.onDeclined(x),m.ignoreDeclined||(A=new Error("Aborted because of declined dependency: "+x.moduleId+" in "+x.parentId+N));break;case"unaccepted":m.onUnaccepted&&m.onUnaccepted(x),m.ignoreUnaccepted||(A=new Error("Aborted because "+_+" is not accepted"+N));break;case"accepted":m.onAccepted&&m.onAccepted(x),H=!0;break;case"disposed":m.onDisposed&&m.onDisposed(x),D=!0;break;default:throw new Error("Unexception type "+x.type)}if(A)return{error:A};if(H){b[_]=y,E(P,x.outdatedModules);for(_ in x.outdatedDependencies)o.o(x.outdatedDependencies,_)&&(S[_]||(S[_]=[]),E(S[_],x.outdatedDependencies[_]))}D&&(E(P,[x.moduleId]),b[_]=w)}u=void 0;for(var U=[],I=0;I<P.length;I++){var B=P[I],M=o.c[B];M&&(M.hot._selfAccepted||M.hot._main)&&b[B]!==w&&!M.hot._selfInvalidated&&U.push({module:B,require:M.hot._requireSelf,errorHandler:M.hot._selfAccepted})}var T;return{dispose:function(){f.forEach(function(X){delete i[X]}),f=void 0;for(var O,j=P.slice();j.length>0;){var K=j.pop(),V=o.c[K];if(V){var F={},Z=V.hot._disposeHandlers;for(I=0;I<Z.length;I++)Z[I].call(null,F);for(o.hmrD[K]=F,V.hot.active=!1,delete o.c[K],delete S[K],I=0;I<V.children.length;I++){var q=o.c[V.children[I]];q&&(O=q.parents.indexOf(K),O>=0&&q.parents.splice(O,1))}}}var W;for(var J in S)if(o.o(S,J)&&(V=o.c[J],V))for(T=S[J],I=0;I<T.length;I++)W=T[I],O=V.children.indexOf(W),O>=0&&V.children.splice(O,1)},apply:function(O){for(var j in b)o.o(b,j)&&(o.m[j]=b[j]);for(var K=0;K<h.length;K++)h[K](o);for(var V in S)if(o.o(S,V)){var F=o.c[V];if(F){T=S[V];for(var Z=[],q=[],W=[],J=0;J<T.length;J++){var X=T[J],ee=F.hot._acceptedDependencies[X],te=F.hot._acceptedErrorHandlers[X];if(ee){if(Z.indexOf(ee)!==-1)continue;Z.push(ee),q.push(te),W.push(X)}}for(var re=0;re<Z.length;re++)try{Z[re].call(null,T)}catch(le){if(typeof q[re]=="function")try{q[re](le,{moduleId:V,dependencyId:W[re]})}catch(ye){m.onErrored&&m.onErrored({type:"accept-error-handler-errored",moduleId:V,dependencyId:W[re],error:ye,originalError:le}),m.ignoreErrored||(O(ye),O(le))}else m.onErrored&&m.onErrored({type:"accept-errored",moduleId:V,dependencyId:W[re],error:le}),m.ignoreErrored||O(le)}}}for(var ie=0;ie<U.length;ie++){var se=U[ie],ae=se.module;try{se.require(ae)}catch(le){if(typeof se.errorHandler=="function")try{se.errorHandler(le,{moduleId:ae,module:o.c[ae]})}catch(ye){m.onErrored&&m.onErrored({type:"self-accept-error-handler-errored",moduleId:ae,error:ye,originalError:le}),m.ignoreErrored||(O(ye),O(le))}else m.onErrored&&m.onErrored({type:"self-accept-errored",moduleId:ae,error:le}),m.ignoreErrored||O(le)}}return P}}}o.hmrI.jsonp=function(m,v){u||(u={},h=[],f=[],v.push(p)),o.o(u,m)||(u[m]=o.m[m])},o.hmrC.jsonp=function(m,v,E,S,P,b){P.push(p),c={},f=v,u=E.reduce(function(w,_){return w[_]=!1,w},{}),h=[],m.forEach(function(w){o.o(i,w)&&i[w]!==void 0?(S.push(l(w,b)),c[w]=!0):c[w]=!1}),o.f&&(o.f.jsonpHmr=function(w,_){c&&o.o(c,w)&&!c[w]&&(_.push(l(w)),c[w]=!0)})},o.hmrM=function(){if(typeof fetch>"u")throw new Error("No browser support: need fetch API");return fetch(o.p+o.hmrF()).then(function(m){if(m.status!==404){if(!m.ok)throw new Error("Failed to fetch update manifest "+m.statusText);return m.json()}})}}(),o("./node_modules/webpack-dev-server/client/index.js?protocol=ws%3A&hostname=localhost&port=8081&pathname=%2Fws&logging=none&reconnect=10"),o("./node_modules/webpack/hot/dev-server.js"),o("./src/util/DomUtil.js"),o("./src/util/IconUtil.js"),o("./src/util/ImageUtil.js"),o("./src/util/MatrixUtil.js"),o("./src/util/TrigUtil.js"),o("./src/util/Utils.js"),o("./src/DistortableImageOverlay.js"),o("./src/DistortableCollection.js"),o("./src/edit/getEXIFdata.js"),o("./src/edit/handles/EditHandle.js"),o("./src/edit/handles/DistortHandle.js"),o("./src/edit/handles/DragHandle.js"),o("./src/edit/handles/FreeRotateHandle.js"),o("./src/edit/handles/LockHandle.js"),o("./src/edit/handles/RotateHandle.js"),o("./src/edit/handles/ScaleHandle.js"),o("./src/iconsets/IconSet.js"),o("./src/iconsets/KeymapperIconSet.js"),o("./src/iconsets/ToolbarIconSet.js"),o("./src/edit/actions/EditAction.js"),o("./src/edit/actions/BorderAction.js"),o("./src/edit/actions/DeleteAction.js"),o("./src/edit/actions/DistortAction.js"),o("./src/edit/actions/DragAction.js"),o("./src/edit/actions/ExportAction.js"),o("./src/edit/actions/FreeRotateAction.js"),o("./src/edit/actions/GeolocateAction.js"),o("./src/edit/actions/LockAction.js"),o("./src/edit/actions/OpacityAction.js"),o("./src/edit/actions/RestoreAction.js"),o("./src/edit/actions/RotateAction.js"),o("./src/edit/actions/ScaleAction.js"),o("./src/edit/actions/StackAction.js"),o("./src/edit/actions/UnlockAction.js"),o("./src/edit/toolbars/DistortableImage.PopupBar.js"),o("./src/edit/toolbars/DistortableImage.ControlBar.js"),o("./src/edit/DistortableImage.Edit.js"),o("./src/edit/DistortableCollection.Edit.js"),o("./src/components/DistortableImage.Keymapper.js"),o("./src/mapmixins/DoubleClickZoom.js"),o("./src/mapmixins/BoxCollector.js"),o("./src/mapmixins/DoubleClickLabels.js"),o("./src/mapmixins/MapMixins.js")})()})();const tm=nd(function({url:n,...o},i){const r=oi.distortableImageOverlay(n,{actions:[oi.DistortAction,oi.FreeRotateAction],...o});return jr(r,mi(i,{layerContainer:r,overlayContainer:r}))},function(n,o,i){Up(n,o,i),o.url!==i.url&&n.setUrl(o.url),o.mode!==i.mode&&n.setOptions({mode:o.mode}),o.selected!==i.selected&&n.setOptions({selected:o.selected}),o.editable!==i.editable&&n.setOptions({editable:o.editable})});var id={exports:{}},od={},ad={exports:{}},sd={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci=k;function nm(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var rm=typeof Object.is=="function"?Object.is:nm,im=ci.useState,om=ci.useEffect,am=ci.useLayoutEffect,sm=ci.useDebugValue;function lm(e,n){var o=n(),i=im({inst:{value:o,getSnapshot:n}}),r=i[0].inst,a=i[1];return am(function(){r.value=o,r.getSnapshot=n,Fa(r)&&a({inst:r})},[e,o,n]),om(function(){return Fa(r)&&a({inst:r}),e(function(){Fa(r)&&a({inst:r})})},[e]),sm(o),o}function Fa(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!rm(e,o)}catch{return!0}}function cm(e,n){return n()}var um=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cm:lm;sd.useSyncExternalStore=ci.useSyncExternalStore!==void 0?ci.useSyncExternalStore:um;ad.exports=sd;var dm=ad.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oa=k,fm=dm;function hm(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pm=typeof Object.is=="function"?Object.is:hm,mm=fm.useSyncExternalStore,gm=oa.useRef,vm=oa.useEffect,ym=oa.useMemo,_m=oa.useDebugValue;od.useSyncExternalStoreWithSelector=function(e,n,o,i,r){var a=gm(null);if(a.current===null){var l={hasValue:!1,value:null};a.current=l}else l=a.current;a=ym(function(){function u(v){if(!f){if(f=!0,h=v,v=i(v),r!==void 0&&l.hasValue){var E=l.value;if(r(E,v))return p=E}return p=v}if(E=p,pm(h,v))return E;var S=i(v);return r!==void 0&&r(E,S)?E:(h=v,p=S)}var f=!1,h,p,m=o===void 0?null:o;return[function(){return u(n())},m===null?void 0:function(){return u(m())}]},[n,o,i,r]);var c=mm(e,a[0],a[1]);return vm(function(){l.hasValue=!0,l.value=c},[c]),_m(c),c};id.exports=od;var bm=id.exports;const xm=pi(bm),uc=e=>{let n;const o=new Set,i=(h,p)=>{const m=typeof h=="function"?h(n):h;if(!Object.is(m,n)){const v=n;n=p??(typeof m!="object"||m===null)?m:Object.assign({},n,m),o.forEach(E=>E(n,v))}},r=()=>n,u={setState:i,getState:r,getInitialState:()=>f,subscribe:h=>(o.add(h),()=>o.delete(h)),destroy:()=>{o.clear()}},f=n=e(i,r,u);return u},wm=e=>e?uc(e):uc,{useDebugValue:Cm}=Y,{useSyncExternalStoreWithSelector:Em}=xm,Lm=e=>e;function $s(e,n=Lm,o){const i=Em(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,o);return Cm(i),i}const dc=(e,n)=>{const o=wm(e),i=(r,a=n)=>$s(o,r,a);return Object.assign(i,o),i},ld=(e,n)=>e?dc(e,n):dc;function cd(e,n){if(!n)return!e||e.length===0?[]:e.map(o=>o.key);if(!(!e||e.length===0))for(let o=0;o<e.length;o++){const i=e[o];if(i.key===n)return i.children&&i.children.length>0?i.children.map(r=>r.key):[];{const r=cd(i.children,n);if(r)return r;continue}}}function ud(e,n,o){return e&&(e==null?void 0:e.map(i=>({...i,...i!=null&&i.isLeaf?{}:{children:ud(i==null?void 0:i.children)}})))}function dd(e,n,o){var r;if(!n){let a=!1;const l=(e==null?void 0:e.reduce((c,u)=>u.key===o.key?(a=!0,[...c,o]):[...c,u],[]))||[];return a?l:[...l,o]}if(!e||e.length===0)return;const i=[];for(let a=0;a<e.length;a++){const l=e[a];if(l.key===n){let c=!1;const u=((r=l.children)==null?void 0:r.reduce((h,p)=>p.key===o.key?(c=!0,[...h,o]):[...h,p],[]))||[],f=c?u:[...u,o];i.push({...l,children:f})}else{const c=dd(l.children,n,o);i.push({...l,children:c})}}return i}function fd(e,n){if(!n)return e;if(!e||e.length===0)return;const o=[];for(let i=0;i<e.length;i++){const r=e[i];if(r.key!==n){const a=fd(r.children,n);o.push({...r,children:a})}}return o}function pt(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[i,r]of e)if(!Object.is(r,n.get(i)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const i of e)if(!n.has(i))return!1;return!0}const o=Object.keys(e);if(o.length!==Object.keys(n).length)return!1;for(let i=0;i<o.length;i++)if(!Object.prototype.hasOwnProperty.call(n,o[i])||!Object.is(e[o[i]],n[o[i]]))return!1;return!0}const Sm=e=>(n,o,i)=>e((...r)=>{n(...r)},o,i);function Mm(e,n,o){return async i=>{var l,c;if(!i){console.log("error!",i);return}let r=i.id||i._id;const a=r?await((l=e.ops)==null?void 0:l.update(r,i)):await((c=e.ops)==null?void 0:c.create(i));if(a){r=a.id||a._id;const u=o().dbTreeData,f=dd(u,i.parent,{key:r,title:i.name,isLeaf:i.nodeType==="position"})||[];console.log("actSavePosition",u,f,a),n(h=>({current:a,dbTreeData:f,dbNodeMap:{...h.dbNodeMap,[r]:a}}))}return a}}function Tm(e,n,o){return async i=>{var r;if(i){await((r=e.ops)==null?void 0:r.remove(i));const a=o().dbTreeData,l=fd(a,i)||[],u={...o().dbNodeMap};delete u[i],console.log("actRemovePosition",a,l),n(()=>({current:void 0,dbTreeData:l,dbNodeMap:u}))}else n(()=>({current:void 0}))}}function km(e,n){return async o=>{var r;if(!o){console.log("error! options is null!",o);return}const i=await((r=e.ops)==null?void 0:r.retrieve(o));i&&n(()=>({current:i}))}}function Am(e,n,o){return async i=>{var l;const r=i==="earth"?null:i,a=await((l=e.ops)==null?void 0:l.retrieve({filter:{parent:r},pagination:{perPage:1e3,page:1},sort:{createdAt:-1}}));if(a){const c=a.items.reduce((h,p)=>{const m=p.id||p._id;return{...h,[m]:p}},{});a.items.map(h=>({key:h.id||h._id,title:h.name,isLeaf:h.nodeType==="position"}));const u=o().dbTreeData,f=ud(u)||[];console.log("actRetrieveChildrenPositions",i,u,f,a),n(h=>({dbNodeMap:{...h.dbNodeMap,...c},dbTreeData:f}))}}}function Dm(e,n,o){return async i=>{if(!i)n(()=>({current:void 0}));else{const r=o().dbNodeMap[i],a=r==null?void 0:r.parent;console.log("actSelectTreeCurrent",i,r),n(()=>({current:r,parent:a}))}}}function Pm(e,n,o){return(i,r)=>{var a,l,c;if(r==="sibling"){const u=(a=o())==null?void 0:a.current,f=(l=o())==null?void 0:l.parent,h=f?"xyz":"gnss",p=u==null?void 0:u.ancestor;n(m=>({current:{name:m.defNodeType==="structure"?"":"",parent:f,ancestor:p,nodeType:m.defNodeType,locationType:h,areaType:i}}))}else{const u=(c=o())==null?void 0:c.current,f=(u==null?void 0:u.id)||(u==null?void 0:u._id),h=f?"xyz":"gnss";let p=(u==null?void 0:u.ancestor)||[];f&&(p=[...p,f]),n(m=>({current:{name:m.defNodeType==="structure"?"":"",parent:f,ancestor:p,nodeType:m.defNodeType,locationType:h,areaType:i},parent:f}))}}}const Nm=e=>{const o={...{mode:"edit",cfgBoxes:[],indicatorColor:"yellow"},...e};return ld()(Sm((i,r)=>({...o,defNodeType:"structure",dbNodeMap:{},dbTreeData:[],logs:[],satellite:!1,save:Mm(o,i,r),remove:Tm(o,i,r),retrieve:km(o,i),retrieveChildren:Am(o,i,r),updateCurrent:a=>i(()=>({current:a})),updateCurrentByField:(a,l)=>i(c=>({current:{...c==null?void 0:c.current,[a]:l}})),selectTreeCurrent:Dm(o,i,r),initNodeByTool:Pm(o,i,r),setMode:a=>i(()=>({mode:a})),setDefNodeType:a=>i(()=>({defNodeType:a})),setIndicatorColor:a=>i(()=>({indicatorColor:a})),setSatellite:a=>i(()=>({satellite:a})),toggleSatellite:()=>i(a=>({satellite:!a.satellite})),addLog:(a,l="debug")=>i(c=>({logs:[...c.logs,{date:new Date,content:a,level:l}]}))})),pt)},Ws=k.createContext(null);function Im({children:e,...n}){const o=k.useRef();return o.current||(o.current=Nm(n)),z.jsx(Ws.Provider,{value:o.current,children:e})}function Om(e,n){if(Object.is(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(const[i,r]of e)if(!Object.is(r,n.get(i)))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(const i of e)if(!n.has(i))return!1;return!0}const o=Object.keys(e);if(o.length!==Object.keys(n).length)return!1;for(let i=0;i<o.length;i++)if(!Object.prototype.hasOwnProperty.call(n,o[i])||!Object.is(e[o[i]],n[o[i]]))return!1;return!0}const{useRef:Rm}=Y;function fs(e){const n=Rm();return o=>{const i=e(o);return Om(n.current,i)?n.current:n.current=i}}function Lr(e,n){const o=k.useContext(Ws);if(!o)throw new Error("Missing EditorContext.Provider in the tree");return $s(o,e,n)}function zn(e){return Lr(e,pt)}const aa=()=>{const e=k.useContext(Ws);if(e===null)throw new Error("editor store context not exist!");return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])};function Hm(e){return function(n,o,i){for(var r=-1,a=Object(n),l=i(n),c=l.length;c--;){var u=l[e?c:++r];if(o(a[u],u,a)===!1)break}return n}}var zm=Hm,Bm=zm,jm=Bm(),Um=jm,Vm=Um,Zm=Tp;function Fm(e,n){return e&&Vm(e,n,Zm)}var Km=Fm,qm=Zs;function $m(e){return typeof e=="function"?e:qm}var Wm=$m,Gm=Km,Ym=Wm;function Xm(e,n){return e&&Gm(e,Ym(n))}var Jm=Xm;const fc=pi(Jm),Ka={},hd=(e,n="noname")=>{Ka[n]=(Ka[n]||0)+1;const o=Y.useRef({});return Y.useEffect(()=>{const i=[];fc(e,(a,l)=>{a===o.current[l]||i.push(l)});const r=[];fc(o.current,(a,l)=>{Object.prototype.hasOwnProperty.call(e,l)||r.push(l)}),console.log(`usePerf[${n}:${Ka[n]}]`,JSON.stringify({changed:i,removed:r})),o.current={...e}}),o.current},bo={fillColor:"blue"},Qm=({stroke:e="yellow"})=>{const n="data:image/svg+xml;utf8,"+encodeURIComponent(`
  <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24">
    <circle cx="12" cy="12" r="10" stroke="${e}" stroke-width="3" stroke-dashArray='3,3' fill="none" />
  </svg> 
  `);return oi.icon({iconUrl:n,iconSize:[24,24]})},eg=({value:e})=>{const n=e.areaType;if(!n||!rd.includes(n))return console.log("not support areaType=",n),null;if(!(e!=null&&e.location))return console.log("no location!"),null;if(n==="point")return e.location?z.jsx(Kp,{center:e.location,pathOptions:bo,radius:5}):null;if(n==="circle"){const o=e.area;return e.location&&!isNaN(o)?z.jsx(Fp,{center:e.location,pathOptions:bo,radius:o||0}):null}else if(n==="rectangle")if(e.location&&e.area){const o=[e.location,e.area];return z.jsx(Gp,{bounds:o,pathOptions:bo})}else return null;else if(n==="polygon")if(e.location){const o=[e.location,...e.area||[]];return e._tmpArea&&o.push(e._tmpArea),z.jsx(Wp,{pathOptions:bo,positions:o})}else return null;return null},tg=({value:e,onChange:n})=>{var u;const o=Lr(f=>f.indicatorColor),i=k.useMemo(()=>Qm({stroke:o}),[o]),r=e.areaType,a={move(f){const{lat:h,lng:p}=f.target.getLatLng();console.log("move",h,p,f),n==null||n({...e||{},location:[h,p]})}},l={move(f){const{lat:h,lng:p}=f.target.getLatLng();console.log("move",h,p,f),n==null||n({...e||{},area:[h,p]})}};function c(f){return{move(h){const{lat:p,lng:m}=h.target.getLatLng();console.log("move",p,m,h);const v=[...e.area||[]];v.splice(f,1,[p,m]),n==null||n({...e||{},area:v})}}}return!r||!rd.includes(r)?(console.log("not support areaType=",r),null):e!=null&&e.location?z.jsxs(z.Fragment,{children:[z.jsx(Za,{icon:i,position:e.location,draggable:!0,eventHandlers:a}),r==="rectangle"&&(e!=null&&e.area)?z.jsx(Za,{icon:i,position:e.area,draggable:!0,eventHandlers:l}):null,r==="polygon"&&(e!=null&&e.area)?(u=e.area)==null?void 0:u.map((f,h)=>z.jsx(Za,{icon:i,position:f,draggable:!0,eventHandlers:c(h)},h)):null]}):(console.log("no location!"),null)},ng=({value:e,onChange:n,editing:o=!1})=>{var v,E,S;const i=(e==null?void 0:e.id)||(e==null?void 0:e._id),r=k.useRef(void 0),a=e==null?void 0:e.areaType,[l,c]=k.useState("view"),u=aa();k.useEffect(()=>{o?e.location?c("edit"):c("create"):c("view")},[i,e.areaType]);const f=Zp({click(P){var _;const{lat:b,lng:w}=P.latlng;if(console.log("click",b,w),o&&l==="create"){if(a==="point"){const y={...e||{},location:[b,w]};n==null||n(y);return}else if(a==="circle"){if(!(e!=null&&e.location)){const H={...e||{},location:[b,w]};n==null||n(H);return}const y=e==null?void 0:e.location,x=f.distance(y,[b,w]);if(isNaN(x)||x<=0){console.log(",.",x);const H={...e||{},location:[b,w]};n==null||n(H);return}const A={...e||{},area:x};n==null||n(A),c("view");return}else if(a==="rectangle"){if(!(e!=null&&e.location)){const x={...e||{},location:[b,w]};n==null||n(x);return}const y={...e||{},area:[b,w]};n==null||n(y),c("view");return}else if(a==="polygon"){if(!(e!=null&&e.location)){const A={...e||{},location:[b,w]};n==null||n(A);return}if(((_=e==null?void 0:e.area)==null?void 0:_.length)>=2){const A=f.project([b,w]),H=f.project(e.location);if(A.distanceTo(H)<10){const N={...e||{},_tmpArea:void 0};n==null||n(N),c("view");return}}const y=[...(e==null?void 0:e.area)||[],[b,w]],x={...e||{},area:y};n==null||n(x);return}}},mousemove(P){if(o&&l==="create"){const{lat:b,lng:w}=P.latlng;if(a==="circle"){if(e!=null&&e.location){const _=f.distance(e.location,[b,w]),y={...e||{},area:_};n==null||n(y);return}}else if(a==="rectangle"){if(e!=null&&e.location){const _={...e||{},area:[b,w]};n==null||n(_);return}}else if(a==="polygon"&&e!=null&&e.location){const _={...e||{},_tmpArea:[b,w]};n==null||n(_);return}}}}),h=k.useMemo(()=>{function P(b){var _,y;const w=b.target._corners;if(w){const{current:x,updateCurrent:A}=u.getState();if(x){const H=(x==null?void 0:x._id)||x.id,D=w==null?void 0:w.map(U=>[U.lat,U.lng]),N={...x.bg||{},corners:D};if(!o){console.log("error! not edit!",H,(_=N==null?void 0:N.corners)==null?void 0:_[0],b);return}console.log("onChange",H,(y=N==null?void 0:N.corners)==null?void 0:y[0],b),A({...x||{},bg:N})}}}return{update:P}},[]),p=(v=e.bg)==null?void 0:v.corners,m=p==null?void 0:p.map(P=>oi.latLng(P[0],P[1]));return console.log("OnePosition render",o,i,JSON.stringify(m)),hd({parent,value:e,onChange:n,editing:o,currentId:i},"OnePosition"),z.jsxs(z.Fragment,{children:[(E=e.bg)!=null&&E.image?z.jsx("div",{style:{zIndex:(e==null?void 0:e._tmpPreferEdit)==="image"?201:0},children:z.jsx(tm,{ref:r,url:(S=e.bg)==null?void 0:S.image,eventHandlers:o?h:{},editable:o,selected:o,...m?{corners:m}:{}})}):null,z.jsx(eg,{value:e}),o?z.jsx(tg,{value:e,onChange:n}):null]})},pd=ng;function md(e){var l,c;const n=e.parent,o=((l=e.current)==null?void 0:l.id)||((c=e.current)==null?void 0:c._id),i=e.dbTreeData,r=cd(i,n)||[];return o?r.filter(u=>u!==o):r}const rg=({id:e})=>{const{item:n}=Lr(fs(o=>({item:o.dbNodeMap[e]})));return n?z.jsx(pd,{value:n}):null},ig=()=>{const{current:e,onChange:n}=Lr(o=>({current:o.current,onChange:o.updateCurrent}));return e?z.jsx(pd,{value:e,onChange:n,editing:!0}):null},og=()=>{const e=Lr(md,pt);return z.jsxs(z.Fragment,{children:[e.map(n=>z.jsx(rg,{id:n},n)),z.jsx(ig,{})]})},ag=()=>{const e=zn(o=>o.satellite),n=aa();return console.log(n),z.jsx("div",{className:"leaflet-wrapper",children:z.jsxs($p,{center:Yp,zoom:15,scrollWheelZoom:!0,children:[e?z.jsxs(z.Fragment,{children:[z.jsx(_o,{...Qp}),z.jsx(_o,{...em})]}):z.jsxs(z.Fragment,{children:[z.jsx(_o,{...Xp}),z.jsx(_o,{...Jp})]}),z.jsx(og,{})]})})},sg=ag;function Dt(e){if(typeof e=="string"||typeof e=="number")return""+e;let n="";if(Array.isArray(e))for(let o=0,i;o<e.length;o++)(i=Dt(e[o]))!==""&&(n+=(n&&" ")+i);else for(let o in e)e[o]&&(n+=(n&&" ")+o);return n}var lg={value:()=>{}};function sa(){for(var e=0,n=arguments.length,o={},i;e<n;++e){if(!(i=arguments[e]+"")||i in o||/[\s.]/.test(i))throw new Error("illegal type: "+i);o[i]=[]}return new Oo(o)}function Oo(e){this._=e}function cg(e,n){return e.trim().split(/^|\s+/).map(function(o){var i="",r=o.indexOf(".");if(r>=0&&(i=o.slice(r+1),o=o.slice(0,r)),o&&!n.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:i}})}Oo.prototype=sa.prototype={constructor:Oo,on:function(e,n){var o=this._,i=cg(e+"",o),r,a=-1,l=i.length;if(arguments.length<2){for(;++a<l;)if((r=(e=i[a]).type)&&(r=ug(o[r],e.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++a<l;)if(r=(e=i[a]).type)o[r]=hc(o[r],e.name,n);else if(n==null)for(r in o)o[r]=hc(o[r],e.name,null);return this},copy:function(){var e={},n=this._;for(var o in n)e[o]=n[o].slice();return new Oo(e)},call:function(e,n){if((r=arguments.length-2)>0)for(var o=new Array(r),i=0,r,a;i<r;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,r=a.length;i<r;++i)a[i].value.apply(n,o)},apply:function(e,n,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(n,o)}};function ug(e,n){for(var o=0,i=e.length,r;o<i;++o)if((r=e[o]).name===n)return r.value}function hc(e,n,o){for(var i=0,r=e.length;i<r;++i)if(e[i].name===n){e[i]=lg,e=e.slice(0,i).concat(e.slice(i+1));break}return o!=null&&e.push({name:n,value:o}),e}var hs="http://www.w3.org/1999/xhtml";const pc={svg:"http://www.w3.org/2000/svg",xhtml:hs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function la(e){var n=e+="",o=n.indexOf(":");return o>=0&&(n=e.slice(0,o))!=="xmlns"&&(e=e.slice(o+1)),pc.hasOwnProperty(n)?{space:pc[n],local:e}:e}function dg(e){return function(){var n=this.ownerDocument,o=this.namespaceURI;return o===hs&&n.documentElement.namespaceURI===hs?n.createElement(e):n.createElementNS(o,e)}}function fg(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function gd(e){var n=la(e);return(n.local?fg:dg)(n)}function hg(){}function Gs(e){return e==null?hg:function(){return this.querySelector(e)}}function pg(e){typeof e!="function"&&(e=Gs(e));for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r)for(var a=n[r],l=a.length,c=i[r]=new Array(l),u,f,h=0;h<l;++h)(u=a[h])&&(f=e.call(u,u.__data__,h,a))&&("__data__"in u&&(f.__data__=u.__data__),c[h]=f);return new nn(i,this._parents)}function mg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function gg(){return[]}function vd(e){return e==null?gg:function(){return this.querySelectorAll(e)}}function vg(e){return function(){return mg(e.apply(this,arguments))}}function yg(e){typeof e=="function"?e=vg(e):e=vd(e);for(var n=this._groups,o=n.length,i=[],r=[],a=0;a<o;++a)for(var l=n[a],c=l.length,u,f=0;f<c;++f)(u=l[f])&&(i.push(e.call(u,u.__data__,f,l)),r.push(u));return new nn(i,r)}function yd(e){return function(){return this.matches(e)}}function _d(e){return function(n){return n.matches(e)}}var _g=Array.prototype.find;function bg(e){return function(){return _g.call(this.children,e)}}function xg(){return this.firstElementChild}function wg(e){return this.select(e==null?xg:bg(typeof e=="function"?e:_d(e)))}var Cg=Array.prototype.filter;function Eg(){return Array.from(this.children)}function Lg(e){return function(){return Cg.call(this.children,e)}}function Sg(e){return this.selectAll(e==null?Eg:Lg(typeof e=="function"?e:_d(e)))}function Mg(e){typeof e!="function"&&(e=yd(e));for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r)for(var a=n[r],l=a.length,c=i[r]=[],u,f=0;f<l;++f)(u=a[f])&&e.call(u,u.__data__,f,a)&&c.push(u);return new nn(i,this._parents)}function bd(e){return new Array(e.length)}function Tg(){return new nn(this._enter||this._groups.map(bd),this._parents)}function Uo(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Uo.prototype={constructor:Uo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function kg(e){return function(){return e}}function Ag(e,n,o,i,r,a){for(var l=0,c,u=n.length,f=a.length;l<f;++l)(c=n[l])?(c.__data__=a[l],i[l]=c):o[l]=new Uo(e,a[l]);for(;l<u;++l)(c=n[l])&&(r[l]=c)}function Dg(e,n,o,i,r,a,l){var c,u,f=new Map,h=n.length,p=a.length,m=new Array(h),v;for(c=0;c<h;++c)(u=n[c])&&(m[c]=v=l.call(u,u.__data__,c,n)+"",f.has(v)?r[c]=u:f.set(v,u));for(c=0;c<p;++c)v=l.call(e,a[c],c,a)+"",(u=f.get(v))?(i[c]=u,u.__data__=a[c],f.delete(v)):o[c]=new Uo(e,a[c]);for(c=0;c<h;++c)(u=n[c])&&f.get(m[c])===u&&(r[c]=u)}function Pg(e){return e.__data__}function Ng(e,n){if(!arguments.length)return Array.from(this,Pg);var o=n?Dg:Ag,i=this._parents,r=this._groups;typeof e!="function"&&(e=kg(e));for(var a=r.length,l=new Array(a),c=new Array(a),u=new Array(a),f=0;f<a;++f){var h=i[f],p=r[f],m=p.length,v=Ig(e.call(h,h&&h.__data__,f,i)),E=v.length,S=c[f]=new Array(E),P=l[f]=new Array(E),b=u[f]=new Array(m);o(h,p,S,P,b,v,n);for(var w=0,_=0,y,x;w<E;++w)if(y=S[w]){for(w>=_&&(_=w+1);!(x=P[_])&&++_<E;);y._next=x||null}}return l=new nn(l,i),l._enter=c,l._exit=u,l}function Ig(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Og(){return new nn(this._exit||this._groups.map(bd),this._parents)}function Rg(e,n,o){var i=this.enter(),r=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),n!=null&&(r=n(r),r&&(r=r.selection())),o==null?a.remove():o(a),i&&r?i.merge(r).order():r}function Hg(e){for(var n=e.selection?e.selection():e,o=this._groups,i=n._groups,r=o.length,a=i.length,l=Math.min(r,a),c=new Array(r),u=0;u<l;++u)for(var f=o[u],h=i[u],p=f.length,m=c[u]=new Array(p),v,E=0;E<p;++E)(v=f[E]||h[E])&&(m[E]=v);for(;u<r;++u)c[u]=o[u];return new nn(c,this._parents)}function zg(){for(var e=this._groups,n=-1,o=e.length;++n<o;)for(var i=e[n],r=i.length-1,a=i[r],l;--r>=0;)(l=i[r])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function Bg(e){e||(e=jg);function n(p,m){return p&&m?e(p.__data__,m.__data__):!p-!m}for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a){for(var l=o[a],c=l.length,u=r[a]=new Array(c),f,h=0;h<c;++h)(f=l[h])&&(u[h]=f);u.sort(n)}return new nn(r,this._parents).order()}function jg(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function Ug(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Vg(){return Array.from(this)}function Zg(){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,a=i.length;r<a;++r){var l=i[r];if(l)return l}return null}function Fg(){let e=0;for(const n of this)++e;return e}function Kg(){return!this.node()}function qg(e){for(var n=this._groups,o=0,i=n.length;o<i;++o)for(var r=n[o],a=0,l=r.length,c;a<l;++a)(c=r[a])&&e.call(c,c.__data__,a,r);return this}function $g(e){return function(){this.removeAttribute(e)}}function Wg(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Gg(e,n){return function(){this.setAttribute(e,n)}}function Yg(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function Xg(e,n){return function(){var o=n.apply(this,arguments);o==null?this.removeAttribute(e):this.setAttribute(e,o)}}function Jg(e,n){return function(){var o=n.apply(this,arguments);o==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,o)}}function Qg(e,n){var o=la(e);if(arguments.length<2){var i=this.node();return o.local?i.getAttributeNS(o.space,o.local):i.getAttribute(o)}return this.each((n==null?o.local?Wg:$g:typeof n=="function"?o.local?Jg:Xg:o.local?Yg:Gg)(o,n))}function xd(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function e1(e){return function(){this.style.removeProperty(e)}}function t1(e,n,o){return function(){this.style.setProperty(e,n,o)}}function n1(e,n,o){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,o)}}function r1(e,n,o){return arguments.length>1?this.each((n==null?e1:typeof n=="function"?n1:t1)(e,n,o??"")):ui(this.node(),e)}function ui(e,n){return e.style.getPropertyValue(n)||xd(e).getComputedStyle(e,null).getPropertyValue(n)}function i1(e){return function(){delete this[e]}}function o1(e,n){return function(){this[e]=n}}function a1(e,n){return function(){var o=n.apply(this,arguments);o==null?delete this[e]:this[e]=o}}function s1(e,n){return arguments.length>1?this.each((n==null?i1:typeof n=="function"?a1:o1)(e,n)):this.node()[e]}function wd(e){return e.trim().split(/^|\s+/)}function Ys(e){return e.classList||new Cd(e)}function Cd(e){this._node=e,this._names=wd(e.getAttribute("class")||"")}Cd.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ed(e,n){for(var o=Ys(e),i=-1,r=n.length;++i<r;)o.add(n[i])}function Ld(e,n){for(var o=Ys(e),i=-1,r=n.length;++i<r;)o.remove(n[i])}function l1(e){return function(){Ed(this,e)}}function c1(e){return function(){Ld(this,e)}}function u1(e,n){return function(){(n.apply(this,arguments)?Ed:Ld)(this,e)}}function d1(e,n){var o=wd(e+"");if(arguments.length<2){for(var i=Ys(this.node()),r=-1,a=o.length;++r<a;)if(!i.contains(o[r]))return!1;return!0}return this.each((typeof n=="function"?u1:n?l1:c1)(o,n))}function f1(){this.textContent=""}function h1(e){return function(){this.textContent=e}}function p1(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function m1(e){return arguments.length?this.each(e==null?f1:(typeof e=="function"?p1:h1)(e)):this.node().textContent}function g1(){this.innerHTML=""}function v1(e){return function(){this.innerHTML=e}}function y1(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function _1(e){return arguments.length?this.each(e==null?g1:(typeof e=="function"?y1:v1)(e)):this.node().innerHTML}function b1(){this.nextSibling&&this.parentNode.appendChild(this)}function x1(){return this.each(b1)}function w1(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function C1(){return this.each(w1)}function E1(e){var n=typeof e=="function"?e:gd(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function L1(){return null}function S1(e,n){var o=typeof e=="function"?e:gd(e),i=n==null?L1:typeof n=="function"?n:Gs(n);return this.select(function(){return this.insertBefore(o.apply(this,arguments),i.apply(this,arguments)||null)})}function M1(){var e=this.parentNode;e&&e.removeChild(this)}function T1(){return this.each(M1)}function k1(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function A1(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function D1(e){return this.select(e?A1:k1)}function P1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function N1(e){return function(n){e.call(this,n,this.__data__)}}function I1(e){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");return i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),{type:n,name:o}})}function O1(e){return function(){var n=this.__on;if(n){for(var o=0,i=-1,r=n.length,a;o<r;++o)a=n[o],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):n[++i]=a;++i?n.length=i:delete this.__on}}}function R1(e,n,o){return function(){var i=this.__on,r,a=N1(n);if(i){for(var l=0,c=i.length;l<c;++l)if((r=i[l]).type===e.type&&r.name===e.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=o),r.value=n;return}}this.addEventListener(e.type,a,o),r={type:e.type,name:e.name,value:n,listener:a,options:o},i?i.push(r):this.__on=[r]}}function H1(e,n,o){var i=I1(e+""),r,a=i.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,f=c.length,h;u<f;++u)for(r=0,h=c[u];r<a;++r)if((l=i[r]).type===h.type&&l.name===h.name)return h.value}return}for(c=n?R1:O1,r=0;r<a;++r)this.each(c(i[r],n,o));return this}function Sd(e,n,o){var i=xd(e),r=i.CustomEvent;typeof r=="function"?r=new r(n,o):(r=i.document.createEvent("Event"),o?(r.initEvent(n,o.bubbles,o.cancelable),r.detail=o.detail):r.initEvent(n,!1,!1)),e.dispatchEvent(r)}function z1(e,n){return function(){return Sd(this,e,n)}}function B1(e,n){return function(){return Sd(this,e,n.apply(this,arguments))}}function j1(e,n){return this.each((typeof n=="function"?B1:z1)(e,n))}function*U1(){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i=e[n],r=0,a=i.length,l;r<a;++r)(l=i[r])&&(yield l)}var Md=[null];function nn(e,n){this._groups=e,this._parents=n}function Ji(){return new nn([[document.documentElement]],Md)}function V1(){return this}nn.prototype=Ji.prototype={constructor:nn,select:pg,selectAll:yg,selectChild:wg,selectChildren:Sg,filter:Mg,data:Ng,enter:Tg,exit:Og,join:Rg,merge:Hg,selection:V1,order:zg,sort:Bg,call:Ug,nodes:Vg,node:Zg,size:Fg,empty:Kg,each:qg,attr:Qg,style:r1,property:s1,classed:d1,text:m1,html:_1,raise:x1,lower:C1,append:E1,insert:S1,remove:T1,clone:D1,datum:P1,on:H1,dispatch:j1,[Symbol.iterator]:U1};function en(e){return typeof e=="string"?new nn([[document.querySelector(e)]],[document.documentElement]):new nn([[e]],Md)}function Z1(e){let n;for(;n=e.sourceEvent;)e=n;return e}function Sn(e,n){if(e=Z1(e),n===void 0&&(n=e.currentTarget),n){var o=n.ownerSVGElement||n;if(o.createSVGPoint){var i=o.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[e.clientX-r.left-n.clientLeft,e.clientY-r.top-n.clientTop]}}return[e.pageX,e.pageY]}const F1={passive:!1},Vi={capture:!0,passive:!1};function qa(e){e.stopImmediatePropagation()}function ai(e){e.preventDefault(),e.stopImmediatePropagation()}function Td(e){var n=e.document.documentElement,o=en(e).on("dragstart.drag",ai,Vi);"onselectstart"in n?o.on("selectstart.drag",ai,Vi):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function kd(e,n){var o=e.document.documentElement,i=en(e).on("dragstart.drag",null);n&&(i.on("click.drag",ai,Vi),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in o?i.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}const xo=e=>()=>e;function ps(e,{sourceEvent:n,subject:o,target:i,identifier:r,active:a,x:l,y:c,dx:u,dy:f,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:r,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:h}})}ps.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function K1(e){return!e.ctrlKey&&!e.button}function q1(){return this.parentNode}function $1(e,n){return n??{x:e.x,y:e.y}}function W1(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ad(){var e=K1,n=q1,o=$1,i=W1,r={},a=sa("start","drag","end"),l=0,c,u,f,h,p=0;function m(y){y.on("mousedown.drag",v).filter(i).on("touchstart.drag",P).on("touchmove.drag",b,F1).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(y,x){if(!(h||!e.call(this,y,x))){var A=_(this,n.call(this,y,x),y,x,"mouse");A&&(en(y.view).on("mousemove.drag",E,Vi).on("mouseup.drag",S,Vi),Td(y.view),qa(y),f=!1,c=y.clientX,u=y.clientY,A("start",y))}}function E(y){if(ai(y),!f){var x=y.clientX-c,A=y.clientY-u;f=x*x+A*A>p}r.mouse("drag",y)}function S(y){en(y.view).on("mousemove.drag mouseup.drag",null),kd(y.view,f),ai(y),r.mouse("end",y)}function P(y,x){if(e.call(this,y,x)){var A=y.changedTouches,H=n.call(this,y,x),D=A.length,N,U;for(N=0;N<D;++N)(U=_(this,H,y,x,A[N].identifier,A[N]))&&(qa(y),U("start",y,A[N]))}}function b(y){var x=y.changedTouches,A=x.length,H,D;for(H=0;H<A;++H)(D=r[x[H].identifier])&&(ai(y),D("drag",y,x[H]))}function w(y){var x=y.changedTouches,A=x.length,H,D;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),H=0;H<A;++H)(D=r[x[H].identifier])&&(qa(y),D("end",y,x[H]))}function _(y,x,A,H,D,N){var U=a.copy(),I=Sn(N||A,x),B,M,T;if((T=o.call(y,new ps("beforestart",{sourceEvent:A,target:m,identifier:D,active:l,x:I[0],y:I[1],dx:0,dy:0,dispatch:U}),H))!=null)return B=T.x-I[0]||0,M=T.y-I[1]||0,function O(j,K,V){var F=I,Z;switch(j){case"start":r[D]=O,Z=l++;break;case"end":delete r[D],--l;case"drag":I=Sn(V||K,x),Z=l;break}U.call(j,y,new ps(j,{sourceEvent:K,subject:T,target:m,identifier:D,active:Z,x:I[0]+B,y:I[1]+M,dx:I[0]-F[0],dy:I[1]-F[1],dispatch:U}),H)}}return m.filter=function(y){return arguments.length?(e=typeof y=="function"?y:xo(!!y),m):e},m.container=function(y){return arguments.length?(n=typeof y=="function"?y:xo(y),m):n},m.subject=function(y){return arguments.length?(o=typeof y=="function"?y:xo(y),m):o},m.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:xo(!!y),m):i},m.on=function(){var y=a.on.apply(a,arguments);return y===a?m:y},m.clickDistance=function(y){return arguments.length?(p=(y=+y)*y,m):Math.sqrt(p)},m}function Xs(e,n,o){e.prototype=n.prototype=o,o.constructor=e}function Dd(e,n){var o=Object.create(e.prototype);for(var i in n)o[i]=n[i];return o}function Qi(){}var Zi=.7,Vo=1/Zi,si="\\s*([+-]?\\d+)\\s*",Fi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",G1=/^#([0-9a-f]{3,8})$/,Y1=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),X1=new RegExp(`^rgb\\(${Bn},${Bn},${Bn}\\)$`),J1=new RegExp(`^rgba\\(${si},${si},${si},${Fi}\\)$`),Q1=new RegExp(`^rgba\\(${Bn},${Bn},${Bn},${Fi}\\)$`),ev=new RegExp(`^hsl\\(${Fi},${Bn},${Bn}\\)$`),tv=new RegExp(`^hsla\\(${Fi},${Bn},${Bn},${Fi}\\)$`),mc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xs(Qi,Ki,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:gc,formatHex:gc,formatHex8:nv,formatHsl:rv,formatRgb:vc,toString:vc});function gc(){return this.rgb().formatHex()}function nv(){return this.rgb().formatHex8()}function rv(){return Pd(this).formatHsl()}function vc(){return this.rgb().formatRgb()}function Ki(e){var n,o;return e=(e+"").trim().toLowerCase(),(n=G1.exec(e))?(o=n[1].length,n=parseInt(n[1],16),o===6?yc(n):o===3?new Gt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):o===8?wo(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):o===4?wo(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Y1.exec(e))?new Gt(n[1],n[2],n[3],1):(n=X1.exec(e))?new Gt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=J1.exec(e))?wo(n[1],n[2],n[3],n[4]):(n=Q1.exec(e))?wo(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=ev.exec(e))?xc(n[1],n[2]/100,n[3]/100,1):(n=tv.exec(e))?xc(n[1],n[2]/100,n[3]/100,n[4]):mc.hasOwnProperty(e)?yc(mc[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function yc(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function wo(e,n,o,i){return i<=0&&(e=n=o=NaN),new Gt(e,n,o,i)}function iv(e){return e instanceof Qi||(e=Ki(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function ms(e,n,o,i){return arguments.length===1?iv(e):new Gt(e,n,o,i??1)}function Gt(e,n,o,i){this.r=+e,this.g=+n,this.b=+o,this.opacity=+i}Xs(Gt,ms,Dd(Qi,{brighter(e){return e=e==null?Vo:Math.pow(Vo,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zi:Math.pow(Zi,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(Or(this.r),Or(this.g),Or(this.b),Zo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_c,formatHex:_c,formatHex8:ov,formatRgb:bc,toString:bc}));function _c(){return`#${Nr(this.r)}${Nr(this.g)}${Nr(this.b)}`}function ov(){return`#${Nr(this.r)}${Nr(this.g)}${Nr(this.b)}${Nr((isNaN(this.opacity)?1:this.opacity)*255)}`}function bc(){const e=Zo(this.opacity);return`${e===1?"rgb(":"rgba("}${Or(this.r)}, ${Or(this.g)}, ${Or(this.b)}${e===1?")":`, ${e})`}`}function Zo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Or(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nr(e){return e=Or(e),(e<16?"0":"")+e.toString(16)}function xc(e,n,o,i){return i<=0?e=n=o=NaN:o<=0||o>=1?e=n=NaN:n<=0&&(e=NaN),new kn(e,n,o,i)}function Pd(e){if(e instanceof kn)return new kn(e.h,e.s,e.l,e.opacity);if(e instanceof Qi||(e=Ki(e)),!e)return new kn;if(e instanceof kn)return e;e=e.rgb();var n=e.r/255,o=e.g/255,i=e.b/255,r=Math.min(n,o,i),a=Math.max(n,o,i),l=NaN,c=a-r,u=(a+r)/2;return c?(n===a?l=(o-i)/c+(o<i)*6:o===a?l=(i-n)/c+2:l=(n-o)/c+4,c/=u<.5?a+r:2-a-r,l*=60):c=u>0&&u<1?0:l,new kn(l,c,u,e.opacity)}function av(e,n,o,i){return arguments.length===1?Pd(e):new kn(e,n,o,i??1)}function kn(e,n,o,i){this.h=+e,this.s=+n,this.l=+o,this.opacity=+i}Xs(kn,av,Dd(Qi,{brighter(e){return e=e==null?Vo:Math.pow(Vo,e),new kn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zi:Math.pow(Zi,e),new kn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,n=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,i=o+(o<.5?o:1-o)*n,r=2*o-i;return new Gt($a(e>=240?e-240:e+120,r,i),$a(e,r,i),$a(e<120?e+240:e-120,r,i),this.opacity)},clamp(){return new kn(wc(this.h),Co(this.s),Co(this.l),Zo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zo(this.opacity);return`${e===1?"hsl(":"hsla("}${wc(this.h)}, ${Co(this.s)*100}%, ${Co(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wc(e){return e=(e||0)%360,e<0?e+360:e}function Co(e){return Math.max(0,Math.min(1,e||0))}function $a(e,n,o){return(e<60?n+(o-n)*e/60:e<180?o:e<240?n+(o-n)*(240-e)/60:n)*255}const Nd=e=>()=>e;function sv(e,n){return function(o){return e+o*n}}function lv(e,n,o){return e=Math.pow(e,o),n=Math.pow(n,o)-e,o=1/o,function(i){return Math.pow(e+i*n,o)}}function cv(e){return(e=+e)==1?Id:function(n,o){return o-n?lv(n,o,e):Nd(isNaN(n)?o:n)}}function Id(e,n){var o=n-e;return o?sv(e,o):Nd(isNaN(e)?n:e)}const Cc=function e(n){var o=cv(n);function i(r,a){var l=o((r=ms(r)).r,(a=ms(a)).r),c=o(r.g,a.g),u=o(r.b,a.b),f=Id(r.opacity,a.opacity);return function(h){return r.r=l(h),r.g=c(h),r.b=u(h),r.opacity=f(h),r+""}}return i.gamma=e,i}(1);function br(e,n){return e=+e,n=+n,function(o){return e*(1-o)+n*o}}var gs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wa=new RegExp(gs.source,"g");function uv(e){return function(){return e}}function dv(e){return function(n){return e(n)+""}}function fv(e,n){var o=gs.lastIndex=Wa.lastIndex=0,i,r,a,l=-1,c=[],u=[];for(e=e+"",n=n+"";(i=gs.exec(e))&&(r=Wa.exec(n));)(a=r.index)>o&&(a=n.slice(o,a),c[l]?c[l]+=a:c[++l]=a),(i=i[0])===(r=r[0])?c[l]?c[l]+=r:c[++l]=r:(c[++l]=null,u.push({i:l,x:br(i,r)})),o=Wa.lastIndex;return o<n.length&&(a=n.slice(o),c[l]?c[l]+=a:c[++l]=a),c.length<2?u[0]?dv(u[0].x):uv(n):(n=u.length,function(f){for(var h=0,p;h<n;++h)c[(p=u[h]).i]=p.x(f);return c.join("")})}var Ec=180/Math.PI,vs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Od(e,n,o,i,r,a){var l,c,u;return(l=Math.sqrt(e*e+n*n))&&(e/=l,n/=l),(u=e*o+n*i)&&(o-=e*u,i-=n*u),(c=Math.sqrt(o*o+i*i))&&(o/=c,i/=c,u/=c),e*i<n*o&&(e=-e,n=-n,u=-u,l=-l),{translateX:r,translateY:a,rotate:Math.atan2(n,e)*Ec,skewX:Math.atan(u)*Ec,scaleX:l,scaleY:c}}var Eo;function hv(e){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return n.isIdentity?vs:Od(n.a,n.b,n.c,n.d,n.e,n.f)}function pv(e){return e==null||(Eo||(Eo=document.createElementNS("http://www.w3.org/2000/svg","g")),Eo.setAttribute("transform",e),!(e=Eo.transform.baseVal.consolidate()))?vs:(e=e.matrix,Od(e.a,e.b,e.c,e.d,e.e,e.f))}function Rd(e,n,o,i){function r(f){return f.length?f.pop()+" ":""}function a(f,h,p,m,v,E){if(f!==p||h!==m){var S=v.push("translate(",null,n,null,o);E.push({i:S-4,x:br(f,p)},{i:S-2,x:br(h,m)})}else(p||m)&&v.push("translate("+p+n+m+o)}function l(f,h,p,m){f!==h?(f-h>180?h+=360:h-f>180&&(f+=360),m.push({i:p.push(r(p)+"rotate(",null,i)-2,x:br(f,h)})):h&&p.push(r(p)+"rotate("+h+i)}function c(f,h,p,m){f!==h?m.push({i:p.push(r(p)+"skewX(",null,i)-2,x:br(f,h)}):h&&p.push(r(p)+"skewX("+h+i)}function u(f,h,p,m,v,E){if(f!==p||h!==m){var S=v.push(r(v)+"scale(",null,",",null,")");E.push({i:S-4,x:br(f,p)},{i:S-2,x:br(h,m)})}else(p!==1||m!==1)&&v.push(r(v)+"scale("+p+","+m+")")}return function(f,h){var p=[],m=[];return f=e(f),h=e(h),a(f.translateX,f.translateY,h.translateX,h.translateY,p,m),l(f.rotate,h.rotate,p,m),c(f.skewX,h.skewX,p,m),u(f.scaleX,f.scaleY,h.scaleX,h.scaleY,p,m),f=h=null,function(v){for(var E=-1,S=m.length,P;++E<S;)p[(P=m[E]).i]=P.x(v);return p.join("")}}}var mv=Rd(hv,"px, ","px)","deg)"),gv=Rd(pv,", ",")",")"),vv=1e-12;function Lc(e){return((e=Math.exp(e))+1/e)/2}function yv(e){return((e=Math.exp(e))-1/e)/2}function _v(e){return((e=Math.exp(2*e))-1)/(e+1)}const bv=function e(n,o,i){function r(a,l){var c=a[0],u=a[1],f=a[2],h=l[0],p=l[1],m=l[2],v=h-c,E=p-u,S=v*v+E*E,P,b;if(S<vv)b=Math.log(m/f)/n,P=function(H){return[c+H*v,u+H*E,f*Math.exp(n*H*b)]};else{var w=Math.sqrt(S),_=(m*m-f*f+i*S)/(2*f*o*w),y=(m*m-f*f-i*S)/(2*m*o*w),x=Math.log(Math.sqrt(_*_+1)-_),A=Math.log(Math.sqrt(y*y+1)-y);b=(A-x)/n,P=function(H){var D=H*b,N=Lc(x),U=f/(o*w)*(N*_v(n*D+x)-yv(x));return[c+U*v,u+U*E,f*N/Lc(n*D+x)]}}return P.duration=b*1e3*n/Math.SQRT2,P}return r.rho=function(a){var l=Math.max(.001,+a),c=l*l,u=c*c;return e(l,c,u)},r}(Math.SQRT2,2,4);var di=0,Ii=0,Mi=0,Hd=1e3,Fo,Oi,Ko=0,Hr=0,ca=0,qi=typeof performance=="object"&&performance.now?performance:Date,zd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Js(){return Hr||(zd(xv),Hr=qi.now()+ca)}function xv(){Hr=0}function qo(){this._call=this._time=this._next=null}qo.prototype=Bd.prototype={constructor:qo,restart:function(e,n,o){if(typeof e!="function")throw new TypeError("callback is not a function");o=(o==null?Js():+o)+(n==null?0:+n),!this._next&&Oi!==this&&(Oi?Oi._next=this:Fo=this,Oi=this),this._call=e,this._time=o,ys()},stop:function(){this._call&&(this._call=null,this._time=1/0,ys())}};function Bd(e,n,o){var i=new qo;return i.restart(e,n,o),i}function wv(){Js(),++di;for(var e=Fo,n;e;)(n=Hr-e._time)>=0&&e._call.call(void 0,n),e=e._next;--di}function Sc(){Hr=(Ko=qi.now())+ca,di=Ii=0;try{wv()}finally{di=0,Ev(),Hr=0}}function Cv(){var e=qi.now(),n=e-Ko;n>Hd&&(ca-=n,Ko=e)}function Ev(){for(var e,n=Fo,o,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(o=n._next,n._next=null,n=e?e._next=o:Fo=o);Oi=e,ys(i)}function ys(e){if(!di){Ii&&(Ii=clearTimeout(Ii));var n=e-Hr;n>24?(e<1/0&&(Ii=setTimeout(Sc,e-qi.now()-ca)),Mi&&(Mi=clearInterval(Mi))):(Mi||(Ko=qi.now(),Mi=setInterval(Cv,Hd)),di=1,zd(Sc))}}function Mc(e,n,o){var i=new qo;return n=n==null?0:+n,i.restart(r=>{i.stop(),e(r+n)},n,o),i}var Lv=sa("start","end","cancel","interrupt"),Sv=[],jd=0,Tc=1,_s=2,Ro=3,kc=4,bs=5,Ho=6;function ua(e,n,o,i,r,a){var l=e.__transition;if(!l)e.__transition={};else if(o in l)return;Mv(e,o,{name:n,index:i,group:r,on:Lv,tween:Sv,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:jd})}function Qs(e,n){var o=Dn(e,n);if(o.state>jd)throw new Error("too late; already scheduled");return o}function Un(e,n){var o=Dn(e,n);if(o.state>Ro)throw new Error("too late; already running");return o}function Dn(e,n){var o=e.__transition;if(!o||!(o=o[n]))throw new Error("transition not found");return o}function Mv(e,n,o){var i=e.__transition,r;i[n]=o,o.timer=Bd(a,0,o.time);function a(f){o.state=Tc,o.timer.restart(l,o.delay,o.time),o.delay<=f&&l(f-o.delay)}function l(f){var h,p,m,v;if(o.state!==Tc)return u();for(h in i)if(v=i[h],v.name===o.name){if(v.state===Ro)return Mc(l);v.state===kc?(v.state=Ho,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete i[h]):+h<n&&(v.state=Ho,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete i[h])}if(Mc(function(){o.state===Ro&&(o.state=kc,o.timer.restart(c,o.delay,o.time),c(f))}),o.state=_s,o.on.call("start",e,e.__data__,o.index,o.group),o.state===_s){for(o.state=Ro,r=new Array(m=o.tween.length),h=0,p=-1;h<m;++h)(v=o.tween[h].value.call(e,e.__data__,o.index,o.group))&&(r[++p]=v);r.length=p+1}}function c(f){for(var h=f<o.duration?o.ease.call(null,f/o.duration):(o.timer.restart(u),o.state=bs,1),p=-1,m=r.length;++p<m;)r[p].call(e,h);o.state===bs&&(o.on.call("end",e,e.__data__,o.index,o.group),u())}function u(){o.state=Ho,o.timer.stop(),delete i[n];for(var f in i)return;delete e.__transition}}function zo(e,n){var o=e.__transition,i,r,a=!0,l;if(o){n=n==null?null:n+"";for(l in o){if((i=o[l]).name!==n){a=!1;continue}r=i.state>_s&&i.state<bs,i.state=Ho,i.timer.stop(),i.on.call(r?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete o[l]}a&&delete e.__transition}}function Tv(e){return this.each(function(){zo(this,e)})}function kv(e,n){var o,i;return function(){var r=Un(this,e),a=r.tween;if(a!==o){i=o=a;for(var l=0,c=i.length;l<c;++l)if(i[l].name===n){i=i.slice(),i.splice(l,1);break}}r.tween=i}}function Av(e,n,o){var i,r;if(typeof o!="function")throw new Error;return function(){var a=Un(this,e),l=a.tween;if(l!==i){r=(i=l).slice();for(var c={name:n,value:o},u=0,f=r.length;u<f;++u)if(r[u].name===n){r[u]=c;break}u===f&&r.push(c)}a.tween=r}}function Dv(e,n){var o=this._id;if(e+="",arguments.length<2){for(var i=Dn(this.node(),o).tween,r=0,a=i.length,l;r<a;++r)if((l=i[r]).name===e)return l.value;return null}return this.each((n==null?kv:Av)(o,e,n))}function el(e,n,o){var i=e._id;return e.each(function(){var r=Un(this,i);(r.value||(r.value={}))[n]=o.apply(this,arguments)}),function(r){return Dn(r,i).value[n]}}function Ud(e,n){var o;return(typeof n=="number"?br:n instanceof Ki?Cc:(o=Ki(n))?(n=o,Cc):fv)(e,n)}function Pv(e){return function(){this.removeAttribute(e)}}function Nv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Iv(e,n,o){var i,r=o+"",a;return function(){var l=this.getAttribute(e);return l===r?null:l===i?a:a=n(i=l,o)}}function Ov(e,n,o){var i,r=o+"",a;return function(){var l=this.getAttributeNS(e.space,e.local);return l===r?null:l===i?a:a=n(i=l,o)}}function Rv(e,n,o){var i,r,a;return function(){var l,c=o(this),u;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),u=c+"",l===u?null:l===i&&u===r?a:(r=u,a=n(i=l,c)))}}function Hv(e,n,o){var i,r,a;return function(){var l,c=o(this),u;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),u=c+"",l===u?null:l===i&&u===r?a:(r=u,a=n(i=l,c)))}}function zv(e,n){var o=la(e),i=o==="transform"?gv:Ud;return this.attrTween(e,typeof n=="function"?(o.local?Hv:Rv)(o,i,el(this,"attr."+e,n)):n==null?(o.local?Nv:Pv)(o):(o.local?Ov:Iv)(o,i,n))}function Bv(e,n){return function(o){this.setAttribute(e,n.call(this,o))}}function jv(e,n){return function(o){this.setAttributeNS(e.space,e.local,n.call(this,o))}}function Uv(e,n){var o,i;function r(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&jv(e,a)),o}return r._value=n,r}function Vv(e,n){var o,i;function r(){var a=n.apply(this,arguments);return a!==i&&(o=(i=a)&&Bv(e,a)),o}return r._value=n,r}function Zv(e,n){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(n==null)return this.tween(o,null);if(typeof n!="function")throw new Error;var i=la(e);return this.tween(o,(i.local?Uv:Vv)(i,n))}function Fv(e,n){return function(){Qs(this,e).delay=+n.apply(this,arguments)}}function Kv(e,n){return n=+n,function(){Qs(this,e).delay=n}}function qv(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?Fv:Kv)(n,e)):Dn(this.node(),n).delay}function $v(e,n){return function(){Un(this,e).duration=+n.apply(this,arguments)}}function Wv(e,n){return n=+n,function(){Un(this,e).duration=n}}function Gv(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?$v:Wv)(n,e)):Dn(this.node(),n).duration}function Yv(e,n){if(typeof n!="function")throw new Error;return function(){Un(this,e).ease=n}}function Xv(e){var n=this._id;return arguments.length?this.each(Yv(n,e)):Dn(this.node(),n).ease}function Jv(e,n){return function(){var o=n.apply(this,arguments);if(typeof o!="function")throw new Error;Un(this,e).ease=o}}function Qv(e){if(typeof e!="function")throw new Error;return this.each(Jv(this._id,e))}function e0(e){typeof e!="function"&&(e=yd(e));for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r)for(var a=n[r],l=a.length,c=i[r]=[],u,f=0;f<l;++f)(u=a[f])&&e.call(u,u.__data__,f,a)&&c.push(u);return new ir(i,this._parents,this._name,this._id)}function t0(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,o=e._groups,i=n.length,r=o.length,a=Math.min(i,r),l=new Array(i),c=0;c<a;++c)for(var u=n[c],f=o[c],h=u.length,p=l[c]=new Array(h),m,v=0;v<h;++v)(m=u[v]||f[v])&&(p[v]=m);for(;c<i;++c)l[c]=n[c];return new ir(l,this._parents,this._name,this._id)}function n0(e){return(e+"").trim().split(/^|\s+/).every(function(n){var o=n.indexOf(".");return o>=0&&(n=n.slice(0,o)),!n||n==="start"})}function r0(e,n,o){var i,r,a=n0(n)?Qs:Un;return function(){var l=a(this,e),c=l.on;c!==i&&(r=(i=c).copy()).on(n,o),l.on=r}}function i0(e,n){var o=this._id;return arguments.length<2?Dn(this.node(),o).on.on(e):this.each(r0(o,e,n))}function o0(e){return function(){var n=this.parentNode;for(var o in this.__transition)if(+o!==e)return;n&&n.removeChild(this)}}function a0(){return this.on("end.remove",o0(this._id))}function s0(e){var n=this._name,o=this._id;typeof e!="function"&&(e=Gs(e));for(var i=this._groups,r=i.length,a=new Array(r),l=0;l<r;++l)for(var c=i[l],u=c.length,f=a[l]=new Array(u),h,p,m=0;m<u;++m)(h=c[m])&&(p=e.call(h,h.__data__,m,c))&&("__data__"in h&&(p.__data__=h.__data__),f[m]=p,ua(f[m],n,o,m,f,Dn(h,o)));return new ir(a,this._parents,n,o)}function l0(e){var n=this._name,o=this._id;typeof e!="function"&&(e=vd(e));for(var i=this._groups,r=i.length,a=[],l=[],c=0;c<r;++c)for(var u=i[c],f=u.length,h,p=0;p<f;++p)if(h=u[p]){for(var m=e.call(h,h.__data__,p,u),v,E=Dn(h,o),S=0,P=m.length;S<P;++S)(v=m[S])&&ua(v,n,o,S,m,E);a.push(m),l.push(h)}return new ir(a,l,n,o)}var c0=Ji.prototype.constructor;function u0(){return new c0(this._groups,this._parents)}function d0(e,n){var o,i,r;return function(){var a=ui(this,e),l=(this.style.removeProperty(e),ui(this,e));return a===l?null:a===o&&l===i?r:r=n(o=a,i=l)}}function Vd(e){return function(){this.style.removeProperty(e)}}function f0(e,n,o){var i,r=o+"",a;return function(){var l=ui(this,e);return l===r?null:l===i?a:a=n(i=l,o)}}function h0(e,n,o){var i,r,a;return function(){var l=ui(this,e),c=o(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(e),ui(this,e))),l===u?null:l===i&&u===r?a:(r=u,a=n(i=l,c))}}function p0(e,n){var o,i,r,a="style."+n,l="end."+a,c;return function(){var u=Un(this,e),f=u.on,h=u.value[a]==null?c||(c=Vd(n)):void 0;(f!==o||r!==h)&&(i=(o=f).copy()).on(l,r=h),u.on=i}}function m0(e,n,o){var i=(e+="")=="transform"?mv:Ud;return n==null?this.styleTween(e,d0(e,i)).on("end.style."+e,Vd(e)):typeof n=="function"?this.styleTween(e,h0(e,i,el(this,"style."+e,n))).each(p0(this._id,e)):this.styleTween(e,f0(e,i,n),o).on("end.style."+e,null)}function g0(e,n,o){return function(i){this.style.setProperty(e,n.call(this,i),o)}}function v0(e,n,o){var i,r;function a(){var l=n.apply(this,arguments);return l!==r&&(i=(r=l)&&g0(e,l,o)),i}return a._value=n,a}function y0(e,n,o){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,v0(e,n,o??""))}function _0(e){return function(){this.textContent=e}}function b0(e){return function(){var n=e(this);this.textContent=n??""}}function x0(e){return this.tween("text",typeof e=="function"?b0(el(this,"text",e)):_0(e==null?"":e+""))}function w0(e){return function(n){this.textContent=e.call(this,n)}}function C0(e){var n,o;function i(){var r=e.apply(this,arguments);return r!==o&&(n=(o=r)&&w0(r)),n}return i._value=e,i}function E0(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,C0(e))}function L0(){for(var e=this._name,n=this._id,o=Zd(),i=this._groups,r=i.length,a=0;a<r;++a)for(var l=i[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){var h=Dn(u,n);ua(u,e,o,f,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ir(i,this._parents,e,o)}function S0(){var e,n,o=this,i=o._id,r=o.size();return new Promise(function(a,l){var c={value:l},u={value:function(){--r===0&&a()}};o.each(function(){var f=Un(this,i),h=f.on;h!==e&&(n=(e=h).copy(),n._.cancel.push(c),n._.interrupt.push(c),n._.end.push(u)),f.on=n}),r===0&&a()})}var M0=0;function ir(e,n,o,i){this._groups=e,this._parents=n,this._name=o,this._id=i}function Zd(){return++M0}var Qn=Ji.prototype;ir.prototype={constructor:ir,select:s0,selectAll:l0,selectChild:Qn.selectChild,selectChildren:Qn.selectChildren,filter:e0,merge:t0,selection:u0,transition:L0,call:Qn.call,nodes:Qn.nodes,node:Qn.node,size:Qn.size,empty:Qn.empty,each:Qn.each,on:i0,attr:zv,attrTween:Zv,style:m0,styleTween:y0,text:x0,textTween:E0,remove:a0,tween:Dv,delay:qv,duration:Gv,ease:Xv,easeVarying:Qv,end:S0,[Symbol.iterator]:Qn[Symbol.iterator]};function T0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var k0={time:null,delay:0,duration:250,ease:T0};function A0(e,n){for(var o;!(o=e.__transition)||!(o=o[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return o}function D0(e){var n,o;e instanceof ir?(n=e._id,e=e._name):(n=Zd(),(o=k0).time=Js(),e=e==null?null:e+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var l=i[a],c=l.length,u,f=0;f<c;++f)(u=l[f])&&ua(u,e,n,f,l,o||A0(u,n));return new ir(i,this._parents,e,n)}Ji.prototype.interrupt=Tv;Ji.prototype.transition=D0;const Lo=e=>()=>e;function P0(e,{sourceEvent:n,target:o,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function nr(e,n,o){this.k=e,this.x=n,this.y=o}nr.prototype={constructor:nr,scale:function(e){return e===1?this:new nr(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new nr(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rr=new nr(1,0,0);nr.prototype;function Ga(e){e.stopImmediatePropagation()}function Ti(e){e.preventDefault(),e.stopImmediatePropagation()}function N0(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function I0(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ac(){return this.__zoom||rr}function O0(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function R0(){return navigator.maxTouchPoints||"ontouchstart"in this}function H0(e,n,o){var i=e.invertX(n[0][0])-o[0][0],r=e.invertX(n[1][0])-o[1][0],a=e.invertY(n[0][1])-o[0][1],l=e.invertY(n[1][1])-o[1][1];return e.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l))}function Fd(){var e=N0,n=I0,o=H0,i=O0,r=R0,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,u=bv,f=sa("start","zoom","end"),h,p,m,v=500,E=150,S=0,P=10;function b(T){T.property("__zoom",Ac).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",U).filter(r).on("touchstart.zoom",I).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(T,O,j,K){var V=T.selection?T.selection():T;V.property("__zoom",Ac),T!==V?x(T,O,j,K):V.interrupt().each(function(){A(this,arguments).event(K).start().zoom(null,typeof O=="function"?O.apply(this,arguments):O).end()})},b.scaleBy=function(T,O,j,K){b.scaleTo(T,function(){var V=this.__zoom.k,F=typeof O=="function"?O.apply(this,arguments):O;return V*F},j,K)},b.scaleTo=function(T,O,j,K){b.transform(T,function(){var V=n.apply(this,arguments),F=this.__zoom,Z=j==null?y(V):typeof j=="function"?j.apply(this,arguments):j,q=F.invert(Z),W=typeof O=="function"?O.apply(this,arguments):O;return o(_(w(F,W),Z,q),V,l)},j,K)},b.translateBy=function(T,O,j,K){b.transform(T,function(){return o(this.__zoom.translate(typeof O=="function"?O.apply(this,arguments):O,typeof j=="function"?j.apply(this,arguments):j),n.apply(this,arguments),l)},null,K)},b.translateTo=function(T,O,j,K,V){b.transform(T,function(){var F=n.apply(this,arguments),Z=this.__zoom,q=K==null?y(F):typeof K=="function"?K.apply(this,arguments):K;return o(rr.translate(q[0],q[1]).scale(Z.k).translate(typeof O=="function"?-O.apply(this,arguments):-O,typeof j=="function"?-j.apply(this,arguments):-j),F,l)},K,V)};function w(T,O){return O=Math.max(a[0],Math.min(a[1],O)),O===T.k?T:new nr(O,T.x,T.y)}function _(T,O,j){var K=O[0]-j[0]*T.k,V=O[1]-j[1]*T.k;return K===T.x&&V===T.y?T:new nr(T.k,K,V)}function y(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function x(T,O,j,K){T.on("start.zoom",function(){A(this,arguments).event(K).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(K).end()}).tween("zoom",function(){var V=this,F=arguments,Z=A(V,F).event(K),q=n.apply(V,F),W=j==null?y(q):typeof j=="function"?j.apply(V,F):j,J=Math.max(q[1][0]-q[0][0],q[1][1]-q[0][1]),X=V.__zoom,ee=typeof O=="function"?O.apply(V,F):O,te=u(X.invert(W).concat(J/X.k),ee.invert(W).concat(J/ee.k));return function(re){if(re===1)re=ee;else{var ie=te(re),se=J/ie[2];re=new nr(se,W[0]-ie[0]*se,W[1]-ie[1]*se)}Z.zoom(null,re)}})}function A(T,O,j){return!j&&T.__zooming||new H(T,O)}function H(T,O){this.that=T,this.args=O,this.active=0,this.sourceEvent=null,this.extent=n.apply(T,O),this.taps=0}H.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,O){return this.mouse&&T!=="mouse"&&(this.mouse[1]=O.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=O.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=O.invert(this.touch1[0])),this.that.__zoom=O,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var O=en(this.that).datum();f.call(T,this.that,new P0(T,{sourceEvent:this.sourceEvent,target:b,type:T,transform:this.that.__zoom,dispatch:f}),O)}};function D(T,...O){if(!e.apply(this,arguments))return;var j=A(this,O).event(T),K=this.__zoom,V=Math.max(a[0],Math.min(a[1],K.k*Math.pow(2,i.apply(this,arguments)))),F=Sn(T);if(j.wheel)(j.mouse[0][0]!==F[0]||j.mouse[0][1]!==F[1])&&(j.mouse[1]=K.invert(j.mouse[0]=F)),clearTimeout(j.wheel);else{if(K.k===V)return;j.mouse=[F,K.invert(F)],zo(this),j.start()}Ti(T),j.wheel=setTimeout(Z,E),j.zoom("mouse",o(_(w(K,V),j.mouse[0],j.mouse[1]),j.extent,l));function Z(){j.wheel=null,j.end()}}function N(T,...O){if(m||!e.apply(this,arguments))return;var j=T.currentTarget,K=A(this,O,!0).event(T),V=en(T.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",J,!0),F=Sn(T,j),Z=T.clientX,q=T.clientY;Td(T.view),Ga(T),K.mouse=[F,this.__zoom.invert(F)],zo(this),K.start();function W(X){if(Ti(X),!K.moved){var ee=X.clientX-Z,te=X.clientY-q;K.moved=ee*ee+te*te>S}K.event(X).zoom("mouse",o(_(K.that.__zoom,K.mouse[0]=Sn(X,j),K.mouse[1]),K.extent,l))}function J(X){V.on("mousemove.zoom mouseup.zoom",null),kd(X.view,K.moved),Ti(X),K.event(X).end()}}function U(T,...O){if(e.apply(this,arguments)){var j=this.__zoom,K=Sn(T.changedTouches?T.changedTouches[0]:T,this),V=j.invert(K),F=j.k*(T.shiftKey?.5:2),Z=o(_(w(j,F),K,V),n.apply(this,O),l);Ti(T),c>0?en(this).transition().duration(c).call(x,Z,K,T):en(this).call(b.transform,Z,K,T)}}function I(T,...O){if(e.apply(this,arguments)){var j=T.touches,K=j.length,V=A(this,O,T.changedTouches.length===K).event(T),F,Z,q,W;for(Ga(T),Z=0;Z<K;++Z)q=j[Z],W=Sn(q,this),W=[W,this.__zoom.invert(W),q.identifier],V.touch0?!V.touch1&&V.touch0[2]!==W[2]&&(V.touch1=W,V.taps=0):(V.touch0=W,F=!0,V.taps=1+!!h);h&&(h=clearTimeout(h)),F&&(V.taps<2&&(p=W[0],h=setTimeout(function(){h=null},v)),zo(this),V.start())}}function B(T,...O){if(this.__zooming){var j=A(this,O).event(T),K=T.changedTouches,V=K.length,F,Z,q,W;for(Ti(T),F=0;F<V;++F)Z=K[F],q=Sn(Z,this),j.touch0&&j.touch0[2]===Z.identifier?j.touch0[0]=q:j.touch1&&j.touch1[2]===Z.identifier&&(j.touch1[0]=q);if(Z=j.that.__zoom,j.touch1){var J=j.touch0[0],X=j.touch0[1],ee=j.touch1[0],te=j.touch1[1],re=(re=ee[0]-J[0])*re+(re=ee[1]-J[1])*re,ie=(ie=te[0]-X[0])*ie+(ie=te[1]-X[1])*ie;Z=w(Z,Math.sqrt(re/ie)),q=[(J[0]+ee[0])/2,(J[1]+ee[1])/2],W=[(X[0]+te[0])/2,(X[1]+te[1])/2]}else if(j.touch0)q=j.touch0[0],W=j.touch0[1];else return;j.zoom("touch",o(_(Z,q,W),j.extent,l))}}function M(T,...O){if(this.__zooming){var j=A(this,O).event(T),K=T.changedTouches,V=K.length,F,Z;for(Ga(T),m&&clearTimeout(m),m=setTimeout(function(){m=null},v),F=0;F<V;++F)Z=K[F],j.touch0&&j.touch0[2]===Z.identifier?delete j.touch0:j.touch1&&j.touch1[2]===Z.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(Z=Sn(Z,this),Math.hypot(p[0]-Z[0],p[1]-Z[1])<P)){var q=en(this).on("dblclick.zoom");q&&q.apply(this,arguments)}}}return b.wheelDelta=function(T){return arguments.length?(i=typeof T=="function"?T:Lo(+T),b):i},b.filter=function(T){return arguments.length?(e=typeof T=="function"?T:Lo(!!T),b):e},b.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:Lo(!!T),b):r},b.extent=function(T){return arguments.length?(n=typeof T=="function"?T:Lo([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),b):n},b.scaleExtent=function(T){return arguments.length?(a[0]=+T[0],a[1]=+T[1],b):[a[0],a[1]]},b.translateExtent=function(T){return arguments.length?(l[0][0]=+T[0][0],l[1][0]=+T[1][0],l[0][1]=+T[0][1],l[1][1]=+T[1][1],b):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},b.constrain=function(T){return arguments.length?(o=T,b):o},b.duration=function(T){return arguments.length?(c=+T,b):c},b.interpolate=function(T){return arguments.length?(u=T,b):u},b.on=function(){var T=f.on.apply(f,arguments);return T===f?b:T},b.clickDistance=function(T){return arguments.length?(S=(T=+T)*T,b):Math.sqrt(S)},b.tapDistance=function(T){return arguments.length?(P=+T,b):P},b}const da=k.createContext(null),z0=da.Provider,or={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,n)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?n.targetHandle:n.sourceHandle}", edge id: ${n.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},Kd=or.error001();function Ye(e,n){const o=k.useContext(da);if(o===null)throw new Error(Kd);return $s(o,e,n)}const _t=()=>{const e=k.useContext(da);if(e===null)throw new Error(Kd);return k.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},B0=e=>e.userSelectionActive?"none":"all";function tl({position:e,children:n,className:o,style:i,...r}){const a=Ye(B0),l=`${e}`.split("-");return Y.createElement("div",{className:Dt(["react-flow__panel",o,...l]),style:{...i,pointerEvents:a},...r},n)}function j0({proOptions:e,position:n="bottom-right"}){return e!=null&&e.hideAttribution?null:Y.createElement(tl,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},Y.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const U0=({x:e,y:n,label:o,labelStyle:i={},labelShowBg:r=!0,labelBgStyle:a={},labelBgPadding:l=[2,4],labelBgBorderRadius:c=2,children:u,className:f,...h})=>{const p=k.useRef(null),[m,v]=k.useState({x:0,y:0,width:0,height:0}),E=Dt(["react-flow__edge-textwrapper",f]);return k.useEffect(()=>{if(p.current){const S=p.current.getBBox();v({x:S.x,y:S.y,width:S.width,height:S.height})}},[o]),typeof o>"u"||!o?null:Y.createElement("g",{transform:`translate(${e-m.width/2} ${n-m.height/2})`,className:E,visibility:m.width?"visible":"hidden",...h},r&&Y.createElement("rect",{width:m.width+2*l[0],x:-l[0],y:-l[1],height:m.height+2*l[1],className:"react-flow__edge-textbg",style:a,rx:c,ry:c}),Y.createElement("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:p,style:i},o),u)};var V0=k.memo(U0);const nl=e=>({width:e.offsetWidth,height:e.offsetHeight}),fi=(e,n=0,o=1)=>Math.min(Math.max(e,n),o),rl=(e={x:0,y:0},n)=>({x:fi(e.x,n[0][0],n[1][0]),y:fi(e.y,n[0][1],n[1][1])}),Dc=(e,n,o)=>e<n?fi(Math.abs(e-n),1,50)/50:e>o?-fi(Math.abs(e-o),1,50)/50:0,qd=(e,n)=>{const o=Dc(e.x,35,n.width-35)*20,i=Dc(e.y,35,n.height-35)*20;return[o,i]},$d=e=>{var n;return((n=e.getRootNode)==null?void 0:n.call(e))||(window==null?void 0:window.document)},Wd=(e,n)=>({x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x2,n.x2),y2:Math.max(e.y2,n.y2)}),$i=({x:e,y:n,width:o,height:i})=>({x:e,y:n,x2:e+o,y2:n+i}),Gd=({x:e,y:n,x2:o,y2:i})=>({x:e,y:n,width:o-e,height:i-n}),Pc=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Z0=(e,n)=>Gd(Wd($i(e),$i(n))),xs=(e,n)=>{const o=Math.max(0,Math.min(e.x+e.width,n.x+n.width)-Math.max(e.x,n.x)),i=Math.max(0,Math.min(e.y+e.height,n.y+n.height)-Math.max(e.y,n.y));return Math.ceil(o*i)},F0=e=>dn(e.width)&&dn(e.height)&&dn(e.x)&&dn(e.y),dn=e=>!isNaN(e)&&isFinite(e),wt=Symbol.for("internals"),Yd=["Enter"," ","Escape"],K0=(e,n)=>{},q0=e=>"nativeEvent"in e;function ws(e){var r,a;const n=q0(e)?e.nativeEvent:e,o=((a=(r=n.composedPath)==null?void 0:r.call(n))==null?void 0:a[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(o==null?void 0:o.nodeName)||(o==null?void 0:o.hasAttribute("contenteditable"))||!!(o!=null&&o.closest(".nokey"))}const Xd=e=>"clientX"in e,Er=(e,n)=>{var a,l;const o=Xd(e),i=o?e.clientX:(a=e.touches)==null?void 0:a[0].clientX,r=o?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:i-((n==null?void 0:n.left)??0),y:r-((n==null?void 0:n.top)??0)}},$o=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},eo=({id:e,path:n,labelX:o,labelY:i,label:r,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:m,interactionWidth:v=20})=>Y.createElement(Y.Fragment,null,Y.createElement("path",{id:e,style:h,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:p,markerStart:m}),v&&Y.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:v,className:"react-flow__edge-interaction"}),r&&dn(o)&&dn(i)?Y.createElement(V0,{x:o,y:i,label:r,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f}):null);eo.displayName="BaseEdge";function ki(e,n,o){return o===void 0?o:i=>{const r=n().edges.find(a=>a.id===e);r&&o(i,{...r})}}function Jd({sourceX:e,sourceY:n,targetX:o,targetY:i}){const r=Math.abs(o-e)/2,a=o<e?o+r:o-r,l=Math.abs(i-n)/2,c=i<n?i+l:i-l;return[a,c,r,l]}function Qd({sourceX:e,sourceY:n,targetX:o,targetY:i,sourceControlX:r,sourceControlY:a,targetControlX:l,targetControlY:c}){const u=e*.125+r*.375+l*.375+o*.125,f=n*.125+a*.375+c*.375+i*.125,h=Math.abs(u-e),p=Math.abs(f-n);return[u,f,h,p]}var zr;(function(e){e.Strict="strict",e.Loose="loose"})(zr||(zr={}));var Ir;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Ir||(Ir={}));var Wi;(function(e){e.Partial="partial",e.Full="full"})(Wi||(Wi={}));var wr;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(wr||(wr={}));var Wo;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Wo||(Wo={}));var Le;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(Le||(Le={}));function Nc({pos:e,x1:n,y1:o,x2:i,y2:r}){return e===Le.Left||e===Le.Right?[.5*(n+i),o]:[n,.5*(o+r)]}function ef({sourceX:e,sourceY:n,sourcePosition:o=Le.Bottom,targetX:i,targetY:r,targetPosition:a=Le.Top}){const[l,c]=Nc({pos:o,x1:e,y1:n,x2:i,y2:r}),[u,f]=Nc({pos:a,x1:i,y1:r,x2:e,y2:n}),[h,p,m,v]=Qd({sourceX:e,sourceY:n,targetX:i,targetY:r,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:f});return[`M${e},${n} C${l},${c} ${u},${f} ${i},${r}`,h,p,m,v]}const il=k.memo(({sourceX:e,sourceY:n,targetX:o,targetY:i,sourcePosition:r=Le.Bottom,targetPosition:a=Le.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:v,markerStart:E,interactionWidth:S})=>{const[P,b,w]=ef({sourceX:e,sourceY:n,sourcePosition:r,targetX:o,targetY:i,targetPosition:a});return Y.createElement(eo,{path:P,labelX:b,labelY:w,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:v,markerStart:E,interactionWidth:S})});il.displayName="SimpleBezierEdge";const Ic={[Le.Left]:{x:-1,y:0},[Le.Right]:{x:1,y:0},[Le.Top]:{x:0,y:-1},[Le.Bottom]:{x:0,y:1}},$0=({source:e,sourcePosition:n=Le.Bottom,target:o})=>n===Le.Left||n===Le.Right?e.x<o.x?{x:1,y:0}:{x:-1,y:0}:e.y<o.y?{x:0,y:1}:{x:0,y:-1},Oc=(e,n)=>Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));function W0({source:e,sourcePosition:n=Le.Bottom,target:o,targetPosition:i=Le.Top,center:r,offset:a}){const l=Ic[n],c=Ic[i],u={x:e.x+l.x*a,y:e.y+l.y*a},f={x:o.x+c.x*a,y:o.y+c.y*a},h=$0({source:u,sourcePosition:n,target:f}),p=h.x!==0?"x":"y",m=h[p];let v=[],E,S;const P={x:0,y:0},b={x:0,y:0},[w,_,y,x]=Jd({sourceX:e.x,sourceY:e.y,targetX:o.x,targetY:o.y});if(l[p]*c[p]===-1){E=r.x||w,S=r.y||_;const H=[{x:E,y:u.y},{x:E,y:f.y}],D=[{x:u.x,y:S},{x:f.x,y:S}];l[p]===m?v=p==="x"?H:D:v=p==="x"?D:H}else{const H=[{x:u.x,y:f.y}],D=[{x:f.x,y:u.y}];if(p==="x"?v=l.x===m?D:H:v=l.y===m?H:D,n===i){const M=Math.abs(e[p]-o[p]);if(M<=a){const T=Math.min(a-1,a-M);l[p]===m?P[p]=(u[p]>e[p]?-1:1)*T:b[p]=(f[p]>o[p]?-1:1)*T}}if(n!==i){const M=p==="x"?"y":"x",T=l[p]===c[M],O=u[M]>f[M],j=u[M]<f[M];(l[p]===1&&(!T&&O||T&&j)||l[p]!==1&&(!T&&j||T&&O))&&(v=p==="x"?H:D)}const N={x:u.x+P.x,y:u.y+P.y},U={x:f.x+b.x,y:f.y+b.y},I=Math.max(Math.abs(N.x-v[0].x),Math.abs(U.x-v[0].x)),B=Math.max(Math.abs(N.y-v[0].y),Math.abs(U.y-v[0].y));I>=B?(E=(N.x+U.x)/2,S=v[0].y):(E=v[0].x,S=(N.y+U.y)/2)}return[[e,{x:u.x+P.x,y:u.y+P.y},...v,{x:f.x+b.x,y:f.y+b.y},o],E,S,y,x]}function G0(e,n,o,i){const r=Math.min(Oc(e,n)/2,Oc(n,o)/2,i),{x:a,y:l}=n;if(e.x===a&&a===o.x||e.y===l&&l===o.y)return`L${a} ${l}`;if(e.y===l){const f=e.x<o.x?-1:1,h=e.y<o.y?1:-1;return`L ${a+r*f},${l}Q ${a},${l} ${a},${l+r*h}`}const c=e.x<o.x?1:-1,u=e.y<o.y?-1:1;return`L ${a},${l+r*u}Q ${a},${l} ${a+r*c},${l}`}function Cs({sourceX:e,sourceY:n,sourcePosition:o=Le.Bottom,targetX:i,targetY:r,targetPosition:a=Le.Top,borderRadius:l=5,centerX:c,centerY:u,offset:f=20}){const[h,p,m,v,E]=W0({source:{x:e,y:n},sourcePosition:o,target:{x:i,y:r},targetPosition:a,center:{x:c,y:u},offset:f});return[h.reduce((P,b,w)=>{let _="";return w>0&&w<h.length-1?_=G0(h[w-1],b,h[w+1],l):_=`${w===0?"M":"L"}${b.x} ${b.y}`,P+=_,P},""),p,m,v,E]}const fa=k.memo(({sourceX:e,sourceY:n,targetX:o,targetY:i,label:r,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:h,sourcePosition:p=Le.Bottom,targetPosition:m=Le.Top,markerEnd:v,markerStart:E,pathOptions:S,interactionWidth:P})=>{const[b,w,_]=Cs({sourceX:e,sourceY:n,sourcePosition:p,targetX:o,targetY:i,targetPosition:m,borderRadius:S==null?void 0:S.borderRadius,offset:S==null?void 0:S.offset});return Y.createElement(eo,{path:b,labelX:w,labelY:_,label:r,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:h,markerEnd:v,markerStart:E,interactionWidth:P})});fa.displayName="SmoothStepEdge";const ol=k.memo(e=>{var n;return Y.createElement(fa,{...e,pathOptions:k.useMemo(()=>{var o;return{borderRadius:0,offset:(o=e.pathOptions)==null?void 0:o.offset}},[(n=e.pathOptions)==null?void 0:n.offset])})});ol.displayName="StepEdge";function Y0({sourceX:e,sourceY:n,targetX:o,targetY:i}){const[r,a,l,c]=Jd({sourceX:e,sourceY:n,targetX:o,targetY:i});return[`M ${e},${n}L ${o},${i}`,r,a,l,c]}const al=k.memo(({sourceX:e,sourceY:n,targetX:o,targetY:i,label:r,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:m,interactionWidth:v})=>{const[E,S,P]=Y0({sourceX:e,sourceY:n,targetX:o,targetY:i});return Y.createElement(eo,{path:E,labelX:S,labelY:P,label:r,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:m,interactionWidth:v})});al.displayName="StraightEdge";function So(e,n){return e>=0?.5*e:n*25*Math.sqrt(-e)}function Rc({pos:e,x1:n,y1:o,x2:i,y2:r,c:a}){switch(e){case Le.Left:return[n-So(n-i,a),o];case Le.Right:return[n+So(i-n,a),o];case Le.Top:return[n,o-So(o-r,a)];case Le.Bottom:return[n,o+So(r-o,a)]}}function tf({sourceX:e,sourceY:n,sourcePosition:o=Le.Bottom,targetX:i,targetY:r,targetPosition:a=Le.Top,curvature:l=.25}){const[c,u]=Rc({pos:o,x1:e,y1:n,x2:i,y2:r,c:l}),[f,h]=Rc({pos:a,x1:i,y1:r,x2:e,y2:n,c:l}),[p,m,v,E]=Qd({sourceX:e,sourceY:n,targetX:i,targetY:r,sourceControlX:c,sourceControlY:u,targetControlX:f,targetControlY:h});return[`M${e},${n} C${c},${u} ${f},${h} ${i},${r}`,p,m,v,E]}const Go=k.memo(({sourceX:e,sourceY:n,targetX:o,targetY:i,sourcePosition:r=Le.Bottom,targetPosition:a=Le.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:v,markerStart:E,pathOptions:S,interactionWidth:P})=>{const[b,w,_]=tf({sourceX:e,sourceY:n,sourcePosition:r,targetX:o,targetY:i,targetPosition:a,curvature:S==null?void 0:S.curvature});return Y.createElement(eo,{path:b,labelX:w,labelY:_,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:m,markerEnd:v,markerStart:E,interactionWidth:P})});Go.displayName="BezierEdge";const sl=k.createContext(null),X0=sl.Provider;sl.Consumer;const J0=()=>k.useContext(sl),Q0=e=>"id"in e&&"source"in e&&"target"in e,ey=({source:e,sourceHandle:n,target:o,targetHandle:i})=>`reactflow__edge-${e}${n||""}-${o}${i||""}`,Es=(e,n)=>typeof e>"u"?"":typeof e=="string"?e:`${n?`${n}__`:""}${Object.keys(e).sort().map(i=>`${i}=${e[i]}`).join("&")}`,ty=(e,n)=>n.some(o=>o.source===e.source&&o.target===e.target&&(o.sourceHandle===e.sourceHandle||!o.sourceHandle&&!e.sourceHandle)&&(o.targetHandle===e.targetHandle||!o.targetHandle&&!e.targetHandle)),ny=(e,n)=>{if(!e.source||!e.target)return n;let o;return Q0(e)?o={...e}:o={...e,id:ey(e)},ty(o,n)?n:n.concat(o)},Ls=({x:e,y:n},[o,i,r],a,[l,c])=>{const u={x:(e-o)/r,y:(n-i)/r};return a?{x:l*Math.round(u.x/l),y:c*Math.round(u.y/c)}:u},nf=({x:e,y:n},[o,i,r])=>({x:e*r+o,y:n*r+i}),Rr=(e,n=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const o=(e.width??0)*n[0],i=(e.height??0)*n[1],r={x:e.position.x-o,y:e.position.y-i};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-o,y:e.positionAbsolute.y-i}:r}},ha=(e,n=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const o=e.reduce((i,r)=>{const{x:a,y:l}=Rr(r,n).positionAbsolute;return Wd(i,$i({x:a,y:l,width:r.width||0,height:r.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Gd(o)},rf=(e,n,[o,i,r]=[0,0,1],a=!1,l=!1,c=[0,0])=>{const u={x:(n.x-o)/r,y:(n.y-i)/r,width:n.width/r,height:n.height/r},f=[];return e.forEach(h=>{const{width:p,height:m,selectable:v=!0,hidden:E=!1}=h;if(l&&!v||E)return!1;const{positionAbsolute:S}=Rr(h,c),P={x:S.x,y:S.y,width:p||0,height:m||0},b=xs(u,P),w=typeof p>"u"||typeof m>"u"||p===null||m===null,_=a&&b>0,y=(p||0)*(m||0);(w||_||b>=y||h.dragging)&&f.push(h)}),f},of=(e,n)=>{const o=e.map(i=>i.id);return n.filter(i=>o.includes(i.source)||o.includes(i.target))},af=(e,n,o,i,r,a=.1)=>{const l=n/(e.width*(1+a)),c=o/(e.height*(1+a)),u=Math.min(l,c),f=fi(u,i,r),h=e.x+e.width/2,p=e.y+e.height/2,m=n/2-h*f,v=o/2-p*f;return{x:m,y:v,zoom:f}},Dr=(e,n=0)=>e.transition().duration(n);function Hc(e,n,o,i){return(n[o]||[]).reduce((r,a)=>{var l,c;return`${e.id}-${a.id}-${o}`!==i&&r.push({id:a.id||null,type:o,nodeId:e.id,x:(((l=e.positionAbsolute)==null?void 0:l.x)??0)+a.x+a.width/2,y:(((c=e.positionAbsolute)==null?void 0:c.y)??0)+a.y+a.height/2}),r},[])}function ry(e,n,o,i,r,a){const{x:l,y:c}=Er(e),f=n.elementsFromPoint(l,c).find(E=>E.classList.contains("react-flow__handle"));if(f){const E=f.getAttribute("data-nodeid");if(E){const S=ll(void 0,f),P=f.getAttribute("data-handleid"),b=a({nodeId:E,id:P,type:S});if(b){const w=r.find(_=>_.nodeId===E&&_.type===S&&_.id===P);return{handle:{id:P,type:S,nodeId:E,x:(w==null?void 0:w.x)||o.x,y:(w==null?void 0:w.y)||o.y},validHandleResult:b}}}}let h=[],p=1/0;if(r.forEach(E=>{const S=Math.sqrt((E.x-o.x)**2+(E.y-o.y)**2);if(S<=i){const P=a(E);S<=p&&(S<p?h=[{handle:E,validHandleResult:P}]:S===p&&h.push({handle:E,validHandleResult:P}),p=S)}}),!h.length)return{handle:null,validHandleResult:sf()};if(h.length===1)return h[0];const m=h.some(({validHandleResult:E})=>E.isValid),v=h.some(({handle:E})=>E.type==="target");return h.find(({handle:E,validHandleResult:S})=>v?E.type==="target":m?S.isValid:!0)||h[0]}const iy={source:null,target:null,sourceHandle:null,targetHandle:null},sf=()=>({handleDomNode:null,isValid:!1,connection:iy,endHandle:null});function lf(e,n,o,i,r,a,l){const c=r==="target",u=l.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),f={...sf(),handleDomNode:u};if(u){const h=ll(void 0,u),p=u.getAttribute("data-nodeid"),m=u.getAttribute("data-handleid"),v=u.classList.contains("connectable"),E=u.classList.contains("connectableend"),S={source:c?p:o,sourceHandle:c?m:i,target:c?o:p,targetHandle:c?i:m};f.connection=S,v&&E&&(n===zr.Strict?c&&h==="source"||!c&&h==="target":p!==o||m!==i)&&(f.endHandle={nodeId:p,handleId:m,type:h},f.isValid=a(S))}return f}function oy({nodes:e,nodeId:n,handleId:o,handleType:i}){return e.reduce((r,a)=>{if(a[wt]){const{handleBounds:l}=a[wt];let c=[],u=[];l&&(c=Hc(a,l,"source",`${n}-${o}-${i}`),u=Hc(a,l,"target",`${n}-${o}-${i}`)),r.push(...c,...u)}return r},[])}function ll(e,n){return e||(n!=null&&n.classList.contains("target")?"target":n!=null&&n.classList.contains("source")?"source":null)}function Ya(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function ay(e,n){let o=null;return n?o="valid":e&&!n&&(o="invalid"),o}function cf({event:e,handleId:n,nodeId:o,onConnect:i,isTarget:r,getState:a,setState:l,isValidConnection:c,edgeUpdaterType:u,onEdgeUpdateEnd:f}){const h=$d(e.target),{connectionMode:p,domNode:m,autoPanOnConnect:v,connectionRadius:E,onConnectStart:S,panBy:P,getNodes:b,cancelConnection:w}=a();let _=0,y;const{x,y:A}=Er(e),H=h==null?void 0:h.elementFromPoint(x,A),D=ll(u,H),N=m==null?void 0:m.getBoundingClientRect();if(!N||!D)return;let U,I=Er(e,N),B=!1,M=null,T=!1,O=null;const j=oy({nodes:b(),nodeId:o,handleId:n,handleType:D}),K=()=>{if(!v)return;const[Z,q]=qd(I,N);P({x:Z,y:q}),_=requestAnimationFrame(K)};l({connectionPosition:I,connectionStatus:null,connectionNodeId:o,connectionHandleId:n,connectionHandleType:D,connectionStartHandle:{nodeId:o,handleId:n,type:D},connectionEndHandle:null}),S==null||S(e,{nodeId:o,handleId:n,handleType:D});function V(Z){const{transform:q}=a();I=Er(Z,N);const{handle:W,validHandleResult:J}=ry(Z,h,Ls(I,q,!1,[1,1]),E,j,X=>lf(X,p,o,n,r?"target":"source",c,h));if(y=W,B||(K(),B=!0),O=J.handleDomNode,M=J.connection,T=J.isValid,l({connectionPosition:y&&T?nf({x:y.x,y:y.y},q):I,connectionStatus:ay(!!y,T),connectionEndHandle:J.endHandle}),!y&&!T&&!O)return Ya(U);M.source!==M.target&&O&&(Ya(U),U=O,O.classList.add("connecting","react-flow__handle-connecting"),O.classList.toggle("valid",T),O.classList.toggle("react-flow__handle-valid",T))}function F(Z){var q,W;(y||O)&&M&&T&&(i==null||i(M)),(W=(q=a()).onConnectEnd)==null||W.call(q,Z),u&&(f==null||f(Z)),Ya(U),w(),cancelAnimationFrame(_),B=!1,T=!1,M=null,O=null,h.removeEventListener("mousemove",V),h.removeEventListener("mouseup",F),h.removeEventListener("touchmove",V),h.removeEventListener("touchend",F)}h.addEventListener("mousemove",V),h.addEventListener("mouseup",F),h.addEventListener("touchmove",V),h.addEventListener("touchend",F)}const zc=()=>!0,sy=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),ly=(e,n,o)=>i=>{const{connectionStartHandle:r,connectionEndHandle:a,connectionClickStartHandle:l}=i;return{connecting:(r==null?void 0:r.nodeId)===e&&(r==null?void 0:r.handleId)===n&&(r==null?void 0:r.type)===o||(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.handleId)===n&&(a==null?void 0:a.type)===o,clickConnecting:(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.handleId)===n&&(l==null?void 0:l.type)===o}},uf=k.forwardRef(({type:e="source",position:n=Le.Top,isValidConnection:o,isConnectable:i=!0,isConnectableStart:r=!0,isConnectableEnd:a=!0,id:l,onConnect:c,children:u,className:f,onMouseDown:h,onTouchStart:p,...m},v)=>{var N,U;const E=l||null,S=e==="target",P=_t(),b=J0(),{connectOnClick:w,noPanClassName:_}=Ye(sy,pt),{connecting:y,clickConnecting:x}=Ye(ly(b,E,e),pt);b||(U=(N=P.getState()).onError)==null||U.call(N,"010",or.error010());const A=I=>{const{defaultEdgeOptions:B,onConnect:M,hasDefaultEdges:T}=P.getState(),O={...B,...I};if(T){const{edges:j,setEdges:K}=P.getState();K(ny(O,j))}M==null||M(O),c==null||c(O)},H=I=>{if(!b)return;const B=Xd(I);r&&(B&&I.button===0||!B)&&cf({event:I,handleId:E,nodeId:b,onConnect:A,isTarget:S,getState:P.getState,setState:P.setState,isValidConnection:o||P.getState().isValidConnection||zc}),B?h==null||h(I):p==null||p(I)},D=I=>{const{onClickConnectStart:B,onClickConnectEnd:M,connectionClickStartHandle:T,connectionMode:O,isValidConnection:j}=P.getState();if(!b||!T&&!r)return;if(!T){B==null||B(I,{nodeId:b,handleId:E,handleType:e}),P.setState({connectionClickStartHandle:{nodeId:b,type:e,handleId:E}});return}const K=$d(I.target),V=o||j||zc,{connection:F,isValid:Z}=lf({nodeId:b,id:E,type:e},O,T.nodeId,T.handleId||null,T.type,V,K);Z&&A(F),M==null||M(I),P.setState({connectionClickStartHandle:null})};return Y.createElement("div",{"data-handleid":E,"data-nodeid":b,"data-handlepos":n,"data-id":`${b}-${E}-${e}`,className:Dt(["react-flow__handle",`react-flow__handle-${n}`,"nodrag",_,f,{source:!S,target:S,connectable:i,connectablestart:r,connectableend:a,connecting:x,connectionindicator:i&&(r&&!y||a&&y)}]),onMouseDown:H,onTouchStart:H,onClick:w?D:void 0,ref:v,...m},u)});uf.displayName="Handle";var Yo=k.memo(uf);const df=({data:e,isConnectable:n,targetPosition:o=Le.Top,sourcePosition:i=Le.Bottom})=>Y.createElement(Y.Fragment,null,Y.createElement(Yo,{type:"target",position:o,isConnectable:n}),e==null?void 0:e.label,Y.createElement(Yo,{type:"source",position:i,isConnectable:n}));df.displayName="DefaultNode";var Ss=k.memo(df);const ff=({data:e,isConnectable:n,sourcePosition:o=Le.Bottom})=>Y.createElement(Y.Fragment,null,e==null?void 0:e.label,Y.createElement(Yo,{type:"source",position:o,isConnectable:n}));ff.displayName="InputNode";var hf=k.memo(ff);const pf=({data:e,isConnectable:n,targetPosition:o=Le.Top})=>Y.createElement(Y.Fragment,null,Y.createElement(Yo,{type:"target",position:o,isConnectable:n}),e==null?void 0:e.label);pf.displayName="OutputNode";var mf=k.memo(pf);const cl=()=>null;cl.displayName="GroupNode";const cy=e=>({selectedNodes:e.getNodes().filter(n=>n.selected),selectedEdges:e.edges.filter(n=>n.selected)}),Mo=e=>e.id;function uy(e,n){return pt(e.selectedNodes.map(Mo),n.selectedNodes.map(Mo))&&pt(e.selectedEdges.map(Mo),n.selectedEdges.map(Mo))}const gf=k.memo(({onSelectionChange:e})=>{const n=_t(),{selectedNodes:o,selectedEdges:i}=Ye(cy,uy);return k.useEffect(()=>{const r={nodes:o,edges:i};e==null||e(r),n.getState().onSelectionChange.forEach(a=>a(r))},[o,i,e]),null});gf.displayName="SelectionListener";const dy=e=>!!e.onSelectionChange;function fy({onSelectionChange:e}){const n=Ye(dy);return e||n?Y.createElement(gf,{onSelectionChange:e}):null}const hy=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Gr(e,n){k.useEffect(()=>{typeof e<"u"&&n(e)},[e])}function Be(e,n,o){k.useEffect(()=>{typeof n<"u"&&o({[e]:n})},[n])}const py=({nodes:e,edges:n,defaultNodes:o,defaultEdges:i,onConnect:r,onConnectStart:a,onConnectEnd:l,onClickConnectStart:c,onClickConnectEnd:u,nodesDraggable:f,nodesConnectable:h,nodesFocusable:p,edgesFocusable:m,edgesUpdatable:v,elevateNodesOnSelect:E,minZoom:S,maxZoom:P,nodeExtent:b,onNodesChange:w,onEdgesChange:_,elementsSelectable:y,connectionMode:x,snapGrid:A,snapToGrid:H,translateExtent:D,connectOnClick:N,defaultEdgeOptions:U,fitView:I,fitViewOptions:B,onNodesDelete:M,onEdgesDelete:T,onNodeDrag:O,onNodeDragStart:j,onNodeDragStop:K,onSelectionDrag:V,onSelectionDragStart:F,onSelectionDragStop:Z,noPanClassName:q,nodeOrigin:W,rfId:J,autoPanOnConnect:X,autoPanOnNodeDrag:ee,onError:te,connectionRadius:re,isValidConnection:ie,nodeDragThreshold:se})=>{const{setNodes:ae,setEdges:le,setDefaultNodesAndEdges:ye,setMinZoom:oe,setMaxZoom:ce,setTranslateExtent:_e,setNodeExtent:Pe,reset:Se}=Ye(hy,pt),ue=_t();return k.useEffect(()=>{const ge=i==null?void 0:i.map(ve=>({...ve,...U}));return ye(o,ge),()=>{Se()}},[]),Be("defaultEdgeOptions",U,ue.setState),Be("connectionMode",x,ue.setState),Be("onConnect",r,ue.setState),Be("onConnectStart",a,ue.setState),Be("onConnectEnd",l,ue.setState),Be("onClickConnectStart",c,ue.setState),Be("onClickConnectEnd",u,ue.setState),Be("nodesDraggable",f,ue.setState),Be("nodesConnectable",h,ue.setState),Be("nodesFocusable",p,ue.setState),Be("edgesFocusable",m,ue.setState),Be("edgesUpdatable",v,ue.setState),Be("elementsSelectable",y,ue.setState),Be("elevateNodesOnSelect",E,ue.setState),Be("snapToGrid",H,ue.setState),Be("snapGrid",A,ue.setState),Be("onNodesChange",w,ue.setState),Be("onEdgesChange",_,ue.setState),Be("connectOnClick",N,ue.setState),Be("fitViewOnInit",I,ue.setState),Be("fitViewOnInitOptions",B,ue.setState),Be("onNodesDelete",M,ue.setState),Be("onEdgesDelete",T,ue.setState),Be("onNodeDrag",O,ue.setState),Be("onNodeDragStart",j,ue.setState),Be("onNodeDragStop",K,ue.setState),Be("onSelectionDrag",V,ue.setState),Be("onSelectionDragStart",F,ue.setState),Be("onSelectionDragStop",Z,ue.setState),Be("noPanClassName",q,ue.setState),Be("nodeOrigin",W,ue.setState),Be("rfId",J,ue.setState),Be("autoPanOnConnect",X,ue.setState),Be("autoPanOnNodeDrag",ee,ue.setState),Be("onError",te,ue.setState),Be("connectionRadius",re,ue.setState),Be("isValidConnection",ie,ue.setState),Be("nodeDragThreshold",se,ue.setState),Gr(e,ae),Gr(n,le),Gr(S,oe),Gr(P,ce),Gr(D,_e),Gr(b,Pe),null},Bc={display:"none"},my={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},vf="react-flow__node-desc",yf="react-flow__edge-desc",gy="react-flow__aria-live",vy=e=>e.ariaLiveMessage;function yy({rfId:e}){const n=Ye(vy);return Y.createElement("div",{id:`${gy}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:my},n)}function _y({rfId:e,disableKeyboardA11y:n}){return Y.createElement(Y.Fragment,null,Y.createElement("div",{id:`${vf}-${e}`,style:Bc},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),Y.createElement("div",{id:`${yf}-${e}`,style:Bc},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&Y.createElement(yy,{rfId:e}))}var Gi=(e=null,n={actInsideInputWithModifier:!0})=>{const[o,i]=k.useState(!1),r=k.useRef(!1),a=k.useRef(new Set([])),[l,c]=k.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(p=>typeof p=="string").map(p=>p.split("+")),h=f.reduce((p,m)=>p.concat(...m),[]);return[f,h]}return[[],[]]},[e]);return k.useEffect(()=>{const u=typeof document<"u"?document:null,f=(n==null?void 0:n.target)||u;if(e!==null){const h=v=>{if(r.current=v.ctrlKey||v.metaKey||v.shiftKey,(!r.current||r.current&&!n.actInsideInputWithModifier)&&ws(v))return!1;const S=Uc(v.code,c);a.current.add(v[S]),jc(l,a.current,!1)&&(v.preventDefault(),i(!0))},p=v=>{if((!r.current||r.current&&!n.actInsideInputWithModifier)&&ws(v))return!1;const S=Uc(v.code,c);jc(l,a.current,!0)?(i(!1),a.current.clear()):a.current.delete(v[S]),v.key==="Meta"&&a.current.clear(),r.current=!1},m=()=>{a.current.clear(),i(!1)};return f==null||f.addEventListener("keydown",h),f==null||f.addEventListener("keyup",p),window.addEventListener("blur",m),()=>{f==null||f.removeEventListener("keydown",h),f==null||f.removeEventListener("keyup",p),window.removeEventListener("blur",m)}}},[e,i]),o};function jc(e,n,o){return e.filter(i=>o||i.length===n.size).some(i=>i.every(r=>n.has(r)))}function Uc(e,n){return n.includes(e)?"code":"key"}function _f(e,n,o,i){var l,c;if(!e.parentNode)return o;const r=n.get(e.parentNode),a=Rr(r,i);return _f(r,n,{x:(o.x??0)+a.x,y:(o.y??0)+a.y,z:(((l=r[wt])==null?void 0:l.z)??0)>(o.z??0)?((c=r[wt])==null?void 0:c.z)??0:o.z??0},i)}function bf(e,n,o){e.forEach(i=>{var r;if(i.parentNode&&!e.has(i.parentNode))throw new Error(`Parent node ${i.parentNode} not found`);if(i.parentNode||o!=null&&o[i.id]){const{x:a,y:l,z:c}=_f(i,e,{...i.position,z:((r=i[wt])==null?void 0:r.z)??0},n);i.positionAbsolute={x:a,y:l},i[wt].z=c,o!=null&&o[i.id]&&(i[wt].isParent=!0)}})}function Xa(e,n,o,i){const r=new Map,a={},l=i?1e3:0;return e.forEach(c=>{var p;const u=(dn(c.zIndex)?c.zIndex:0)+(c.selected?l:0),f=n.get(c.id),h={width:f==null?void 0:f.width,height:f==null?void 0:f.height,...c,positionAbsolute:{x:c.position.x,y:c.position.y}};c.parentNode&&(h.parentNode=c.parentNode,a[c.parentNode]=!0),Object.defineProperty(h,wt,{enumerable:!1,value:{handleBounds:(p=f==null?void 0:f[wt])==null?void 0:p.handleBounds,z:u}}),r.set(c.id,h)}),bf(r,o,a),r}function xf(e,n={}){const{getNodes:o,width:i,height:r,minZoom:a,maxZoom:l,d3Zoom:c,d3Selection:u,fitViewOnInitDone:f,fitViewOnInit:h,nodeOrigin:p}=e(),m=n.initial&&!f&&h;if(c&&u&&(m||!n.initial)){const E=o().filter(P=>{var w;const b=n.includeHiddenNodes?P.width&&P.height:!P.hidden;return(w=n.nodes)!=null&&w.length?b&&n.nodes.some(_=>_.id===P.id):b}),S=E.every(P=>P.width&&P.height);if(E.length>0&&S){const P=ha(E,p),{x:b,y:w,zoom:_}=af(P,i,r,n.minZoom??a,n.maxZoom??l,n.padding??.1),y=rr.translate(b,w).scale(_);return typeof n.duration=="number"&&n.duration>0?c.transform(Dr(u,n.duration),y):c.transform(u,y),!0}}return!1}function by(e,n){return e.forEach(o=>{const i=n.get(o.id);i&&n.set(i.id,{...i,[wt]:i[wt],selected:o.selected})}),new Map(n)}function xy(e,n){return n.map(o=>{const i=e.find(r=>r.id===o.id);return i&&(o.selected=i.selected),o})}function To({changedNodes:e,changedEdges:n,get:o,set:i}){const{nodeInternals:r,edges:a,onNodesChange:l,onEdgesChange:c,hasDefaultNodes:u,hasDefaultEdges:f}=o();e!=null&&e.length&&(u&&i({nodeInternals:by(e,r)}),l==null||l(e)),n!=null&&n.length&&(f&&i({edges:xy(n,a)}),c==null||c(n))}const Yr=()=>{},wy={zoomIn:Yr,zoomOut:Yr,zoomTo:Yr,getZoom:()=>1,setViewport:Yr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Yr,fitBounds:Yr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Cy=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Ey=()=>{const e=_t(),{d3Zoom:n,d3Selection:o}=Ye(Cy,pt);return k.useMemo(()=>o&&n?{zoomIn:r=>n.scaleBy(Dr(o,r==null?void 0:r.duration),1.2),zoomOut:r=>n.scaleBy(Dr(o,r==null?void 0:r.duration),1/1.2),zoomTo:(r,a)=>n.scaleTo(Dr(o,a==null?void 0:a.duration),r),getZoom:()=>e.getState().transform[2],setViewport:(r,a)=>{const[l,c,u]=e.getState().transform,f=rr.translate(r.x??l,r.y??c).scale(r.zoom??u);n.transform(Dr(o,a==null?void 0:a.duration),f)},getViewport:()=>{const[r,a,l]=e.getState().transform;return{x:r,y:a,zoom:l}},fitView:r=>xf(e.getState,r),setCenter:(r,a,l)=>{const{width:c,height:u,maxZoom:f}=e.getState(),h=typeof(l==null?void 0:l.zoom)<"u"?l.zoom:f,p=c/2-r*h,m=u/2-a*h,v=rr.translate(p,m).scale(h);n.transform(Dr(o,l==null?void 0:l.duration),v)},fitBounds:(r,a)=>{const{width:l,height:c,minZoom:u,maxZoom:f}=e.getState(),{x:h,y:p,zoom:m}=af(r,l,c,u,f,(a==null?void 0:a.padding)??.1),v=rr.translate(h,p).scale(m);n.transform(Dr(o,a==null?void 0:a.duration),v)},project:r=>{const{transform:a,snapToGrid:l,snapGrid:c}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Ls(r,a,l,c)},screenToFlowPosition:r=>{const{transform:a,snapToGrid:l,snapGrid:c,domNode:u}=e.getState();if(!u)return r;const{x:f,y:h}=u.getBoundingClientRect(),p={x:r.x-f,y:r.y-h};return Ls(p,a,l,c)},flowToScreenPosition:r=>{const{transform:a,domNode:l}=e.getState();if(!l)return r;const{x:c,y:u}=l.getBoundingClientRect(),f=nf(r,a);return{x:f.x+c,y:f.y+u}},viewportInitialized:!0}:wy,[n,o])};function pa(){const e=Ey(),n=_t(),o=k.useCallback(()=>n.getState().getNodes().map(S=>({...S})),[]),i=k.useCallback(S=>n.getState().nodeInternals.get(S),[]),r=k.useCallback(()=>{const{edges:S=[]}=n.getState();return S.map(P=>({...P}))},[]),a=k.useCallback(S=>{const{edges:P=[]}=n.getState();return P.find(b=>b.id===S)},[]),l=k.useCallback(S=>{const{getNodes:P,setNodes:b,hasDefaultNodes:w,onNodesChange:_}=n.getState(),y=P(),x=typeof S=="function"?S(y):S;if(w)b(x);else if(_){const A=x.length===0?y.map(H=>({type:"remove",id:H.id})):x.map(H=>({item:H,type:"reset"}));_(A)}},[]),c=k.useCallback(S=>{const{edges:P=[],setEdges:b,hasDefaultEdges:w,onEdgesChange:_}=n.getState(),y=typeof S=="function"?S(P):S;if(w)b(y);else if(_){const x=y.length===0?P.map(A=>({type:"remove",id:A.id})):y.map(A=>({item:A,type:"reset"}));_(x)}},[]),u=k.useCallback(S=>{const P=Array.isArray(S)?S:[S],{getNodes:b,setNodes:w,hasDefaultNodes:_,onNodesChange:y}=n.getState();if(_){const A=[...b(),...P];w(A)}else if(y){const x=P.map(A=>({item:A,type:"add"}));y(x)}},[]),f=k.useCallback(S=>{const P=Array.isArray(S)?S:[S],{edges:b=[],setEdges:w,hasDefaultEdges:_,onEdgesChange:y}=n.getState();if(_)w([...b,...P]);else if(y){const x=P.map(A=>({item:A,type:"add"}));y(x)}},[]),h=k.useCallback(()=>{const{getNodes:S,edges:P=[],transform:b}=n.getState(),[w,_,y]=b;return{nodes:S().map(x=>({...x})),edges:P.map(x=>({...x})),viewport:{x:w,y:_,zoom:y}}},[]),p=k.useCallback(({nodes:S,edges:P})=>{const{nodeInternals:b,getNodes:w,edges:_,hasDefaultNodes:y,hasDefaultEdges:x,onNodesDelete:A,onEdgesDelete:H,onNodesChange:D,onEdgesChange:N}=n.getState(),U=(S||[]).map(O=>O.id),I=(P||[]).map(O=>O.id),B=w().reduce((O,j)=>{const K=!U.includes(j.id)&&j.parentNode&&O.find(F=>F.id===j.parentNode);return(typeof j.deletable=="boolean"?j.deletable:!0)&&(U.includes(j.id)||K)&&O.push(j),O},[]),M=_.filter(O=>typeof O.deletable=="boolean"?O.deletable:!0),T=M.filter(O=>I.includes(O.id));if(B||T){const O=of(B,M),j=[...T,...O],K=j.reduce((V,F)=>(V.includes(F.id)||V.push(F.id),V),[]);if((x||y)&&(x&&n.setState({edges:_.filter(V=>!K.includes(V.id))}),y&&(B.forEach(V=>{b.delete(V.id)}),n.setState({nodeInternals:new Map(b)}))),K.length>0&&(H==null||H(j),N&&N(K.map(V=>({id:V,type:"remove"})))),B.length>0&&(A==null||A(B),D)){const V=B.map(F=>({id:F.id,type:"remove"}));D(V)}}},[]),m=k.useCallback(S=>{const P=F0(S),b=P?null:n.getState().nodeInternals.get(S.id);return!P&&!b?[null,null,P]:[P?S:Pc(b),b,P]},[]),v=k.useCallback((S,P=!0,b)=>{const[w,_,y]=m(S);return w?(b||n.getState().getNodes()).filter(x=>{if(!y&&(x.id===_.id||!x.positionAbsolute))return!1;const A=Pc(x),H=xs(A,w);return P&&H>0||H>=w.width*w.height}):[]},[]),E=k.useCallback((S,P,b=!0)=>{const[w]=m(S);if(!w)return!1;const _=xs(w,P);return b&&_>0||_>=w.width*w.height},[]);return k.useMemo(()=>({...e,getNodes:o,getNode:i,getEdges:r,getEdge:a,setNodes:l,setEdges:c,addNodes:u,addEdges:f,toObject:h,deleteElements:p,getIntersectingNodes:v,isNodeIntersecting:E}),[e,o,i,r,a,l,c,u,f,h,p,v,E])}const Ly={actInsideInputWithModifier:!1};var Sy=({deleteKeyCode:e,multiSelectionKeyCode:n})=>{const o=_t(),{deleteElements:i}=pa(),r=Gi(e,Ly),a=Gi(n);k.useEffect(()=>{if(r){const{edges:l,getNodes:c}=o.getState(),u=c().filter(h=>h.selected),f=l.filter(h=>h.selected);i({nodes:u,edges:f}),o.setState({nodesSelectionActive:!1})}},[r]),k.useEffect(()=>{o.setState({multiSelectionActive:a})},[a])};function My(e){const n=_t();k.useEffect(()=>{let o;const i=()=>{var a,l;if(!e.current)return;const r=nl(e.current);(r.height===0||r.width===0)&&((l=(a=n.getState()).onError)==null||l.call(a,"004",or.error004())),n.setState({width:r.width||500,height:r.height||500})};return i(),window.addEventListener("resize",i),e.current&&(o=new ResizeObserver(()=>i()),o.observe(e.current)),()=>{window.removeEventListener("resize",i),o&&e.current&&o.unobserve(e.current)}},[])}const ul={position:"absolute",width:"100%",height:"100%",top:0,left:0},Ty=(e,n)=>e.x!==n.x||e.y!==n.y||e.zoom!==n.k,ko=e=>({x:e.x,y:e.y,zoom:e.k}),Xr=(e,n)=>e.target.closest(`.${n}`),Vc=(e,n)=>n===2&&Array.isArray(e)&&e.includes(2),Zc=e=>{const n=e.ctrlKey&&$o()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*n},ky=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Ay=({onMove:e,onMoveStart:n,onMoveEnd:o,onPaneContextMenu:i,zoomOnScroll:r=!0,zoomOnPinch:a=!0,panOnScroll:l=!1,panOnScrollSpeed:c=.5,panOnScrollMode:u=Ir.Free,zoomOnDoubleClick:f=!0,elementsSelectable:h,panOnDrag:p=!0,defaultViewport:m,translateExtent:v,minZoom:E,maxZoom:S,zoomActivationKeyCode:P,preventScrolling:b=!0,children:w,noWheelClassName:_,noPanClassName:y})=>{const x=k.useRef(),A=_t(),H=k.useRef(!1),D=k.useRef(!1),N=k.useRef(null),U=k.useRef({x:0,y:0,zoom:0}),{d3Zoom:I,d3Selection:B,d3ZoomHandler:M,userSelectionActive:T}=Ye(ky,pt),O=Gi(P),j=k.useRef(0),K=k.useRef(!1),V=k.useRef();return My(N),k.useEffect(()=>{if(N.current){const F=N.current.getBoundingClientRect(),Z=Fd().scaleExtent([E,S]).translateExtent(v),q=en(N.current).call(Z),W=rr.translate(m.x,m.y).scale(fi(m.zoom,E,S)),J=[[0,0],[F.width,F.height]],X=Z.constrain()(W,J,v);Z.transform(q,X),Z.wheelDelta(Zc),A.setState({d3Zoom:Z,d3Selection:q,d3ZoomHandler:q.on("wheel.zoom"),transform:[X.x,X.y,X.k],domNode:N.current.closest(".react-flow")})}},[]),k.useEffect(()=>{B&&I&&(l&&!O&&!T?B.on("wheel.zoom",F=>{if(Xr(F,_))return!1;F.preventDefault(),F.stopImmediatePropagation();const Z=B.property("__zoom").k||1,q=$o();if(F.ctrlKey&&a&&q){const se=Sn(F),ae=Zc(F),le=Z*Math.pow(2,ae);I.scaleTo(B,le,se,F);return}const W=F.deltaMode===1?20:1;let J=u===Ir.Vertical?0:F.deltaX*W,X=u===Ir.Horizontal?0:F.deltaY*W;!q&&F.shiftKey&&u!==Ir.Vertical&&(J=F.deltaY*W,X=0),I.translateBy(B,-(J/Z)*c,-(X/Z)*c,{internal:!0});const ee=ko(B.property("__zoom")),{onViewportChangeStart:te,onViewportChange:re,onViewportChangeEnd:ie}=A.getState();clearTimeout(V.current),K.current||(K.current=!0,n==null||n(F,ee),te==null||te(ee)),K.current&&(e==null||e(F,ee),re==null||re(ee),V.current=setTimeout(()=>{o==null||o(F,ee),ie==null||ie(ee),K.current=!1},150))},{passive:!1}):typeof M<"u"&&B.on("wheel.zoom",function(F,Z){if(!b||Xr(F,_))return null;F.preventDefault(),M.call(this,F,Z)},{passive:!1}))},[T,l,u,B,I,M,O,a,b,_,n,e,o]),k.useEffect(()=>{I&&I.on("start",F=>{var W,J;if(!F.sourceEvent||F.sourceEvent.internal)return null;j.current=(W=F.sourceEvent)==null?void 0:W.button;const{onViewportChangeStart:Z}=A.getState(),q=ko(F.transform);H.current=!0,U.current=q,((J=F.sourceEvent)==null?void 0:J.type)==="mousedown"&&A.setState({paneDragging:!0}),Z==null||Z(q),n==null||n(F.sourceEvent,q)})},[I,n]),k.useEffect(()=>{I&&(T&&!H.current?I.on("zoom",null):T||I.on("zoom",F=>{var q;const{onViewportChange:Z}=A.getState();if(A.setState({transform:[F.transform.x,F.transform.y,F.transform.k]}),D.current=!!(i&&Vc(p,j.current??0)),(e||Z)&&!((q=F.sourceEvent)!=null&&q.internal)){const W=ko(F.transform);Z==null||Z(W),e==null||e(F.sourceEvent,W)}}))},[T,I,e,p,i]),k.useEffect(()=>{I&&I.on("end",F=>{if(!F.sourceEvent||F.sourceEvent.internal)return null;const{onViewportChangeEnd:Z}=A.getState();if(H.current=!1,A.setState({paneDragging:!1}),i&&Vc(p,j.current??0)&&!D.current&&i(F.sourceEvent),D.current=!1,(o||Z)&&Ty(U.current,F.transform)){const q=ko(F.transform);U.current=q,clearTimeout(x.current),x.current=setTimeout(()=>{Z==null||Z(q),o==null||o(F.sourceEvent,q)},l?150:0)}})},[I,l,p,o,i]),k.useEffect(()=>{I&&I.filter(F=>{const Z=O||r,q=a&&F.ctrlKey;if((p===!0||Array.isArray(p)&&p.includes(1))&&F.button===1&&F.type==="mousedown"&&(Xr(F,"react-flow__node")||Xr(F,"react-flow__edge")))return!0;if(!p&&!Z&&!l&&!f&&!a||T||!f&&F.type==="dblclick"||Xr(F,_)&&F.type==="wheel"||Xr(F,y)&&(F.type!=="wheel"||l&&F.type==="wheel"&&!O)||!a&&F.ctrlKey&&F.type==="wheel"||!Z&&!l&&!q&&F.type==="wheel"||!p&&(F.type==="mousedown"||F.type==="touchstart")||Array.isArray(p)&&!p.includes(F.button)&&(F.type==="mousedown"||F.type==="touchstart"))return!1;const W=Array.isArray(p)&&p.includes(F.button)||!F.button||F.button<=1;return(!F.ctrlKey||F.type==="wheel")&&W})},[T,I,r,a,l,f,p,h,O]),Y.createElement("div",{className:"react-flow__renderer",ref:N,style:ul},w)},Dy=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Py(){const{userSelectionActive:e,userSelectionRect:n}=Ye(Dy,pt);return e&&n?Y.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:n.width,height:n.height,transform:`translate(${n.x}px, ${n.y}px)`}}):null}function Fc(e,n){const o=e.find(i=>i.id===n.parentNode);if(o){const i=n.position.x+n.width-o.width,r=n.position.y+n.height-o.height;if(i>0||r>0||n.position.x<0||n.position.y<0){if(o.style={...o.style},o.style.width=o.style.width??o.width,o.style.height=o.style.height??o.height,i>0&&(o.style.width+=i),r>0&&(o.style.height+=r),n.position.x<0){const a=Math.abs(n.position.x);o.position.x=o.position.x-a,o.style.width+=a,n.position.x=0}if(n.position.y<0){const a=Math.abs(n.position.y);o.position.y=o.position.y-a,o.style.height+=a,n.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function Ny(e,n){if(e.some(i=>i.type==="reset"))return e.filter(i=>i.type==="reset").map(i=>i.item);const o=e.filter(i=>i.type==="add").map(i=>i.item);return n.reduce((i,r)=>{const a=e.filter(c=>c.id===r.id);if(a.length===0)return i.push(r),i;const l={...r};for(const c of a)if(c)switch(c.type){case"select":{l.selected=c.selected;break}case"position":{typeof c.position<"u"&&(l.position=c.position),typeof c.positionAbsolute<"u"&&(l.positionAbsolute=c.positionAbsolute),typeof c.dragging<"u"&&(l.dragging=c.dragging),l.expandParent&&Fc(i,l);break}case"dimensions":{typeof c.dimensions<"u"&&(l.width=c.dimensions.width,l.height=c.dimensions.height),typeof c.updateStyle<"u"&&(l.style={...l.style||{},...c.dimensions}),typeof c.resizing=="boolean"&&(l.resizing=c.resizing),l.expandParent&&Fc(i,l);break}case"remove":return i}return i.push(l),i},o)}function Iy(e,n){return Ny(e,n)}const xr=(e,n)=>({id:e,type:"select",selected:n});function ni(e,n){return e.reduce((o,i)=>{const r=n.includes(i.id);return!i.selected&&r?(i.selected=!0,o.push(xr(i.id,!0))):i.selected&&!r&&(i.selected=!1,o.push(xr(i.id,!1))),o},[])}const Ja=(e,n)=>o=>{o.target===n.current&&(e==null||e(o))},Oy=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),wf=k.memo(({isSelecting:e,selectionMode:n=Wi.Full,panOnDrag:o,onSelectionStart:i,onSelectionEnd:r,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:f,onPaneMouseLeave:h,children:p})=>{const m=k.useRef(null),v=_t(),E=k.useRef(0),S=k.useRef(0),P=k.useRef(),{userSelectionActive:b,elementsSelectable:w,dragging:_}=Ye(Oy,pt),y=()=>{v.setState({userSelectionActive:!1,userSelectionRect:null}),E.current=0,S.current=0},x=M=>{a==null||a(M),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},A=M=>{if(Array.isArray(o)&&(o!=null&&o.includes(2))){M.preventDefault();return}l==null||l(M)},H=c?M=>c(M):void 0,D=M=>{const{resetSelectedElements:T,domNode:O}=v.getState();if(P.current=O==null?void 0:O.getBoundingClientRect(),!w||!e||M.button!==0||M.target!==m.current||!P.current)return;const{x:j,y:K}=Er(M,P.current);T(),v.setState({userSelectionRect:{width:0,height:0,startX:j,startY:K,x:j,y:K}}),i==null||i(M)},N=M=>{const{userSelectionRect:T,nodeInternals:O,edges:j,transform:K,onNodesChange:V,onEdgesChange:F,nodeOrigin:Z,getNodes:q}=v.getState();if(!e||!P.current||!T)return;v.setState({userSelectionActive:!0,nodesSelectionActive:!1});const W=Er(M,P.current),J=T.startX??0,X=T.startY??0,ee={...T,x:W.x<J?W.x:J,y:W.y<X?W.y:X,width:Math.abs(W.x-J),height:Math.abs(W.y-X)},te=q(),re=rf(O,ee,K,n===Wi.Partial,!0,Z),ie=of(re,j).map(ae=>ae.id),se=re.map(ae=>ae.id);if(E.current!==se.length){E.current=se.length;const ae=ni(te,se);ae.length&&(V==null||V(ae))}if(S.current!==ie.length){S.current=ie.length;const ae=ni(j,ie);ae.length&&(F==null||F(ae))}v.setState({userSelectionRect:ee})},U=M=>{if(M.button!==0)return;const{userSelectionRect:T}=v.getState();!b&&T&&M.target===m.current&&(x==null||x(M)),v.setState({nodesSelectionActive:E.current>0}),y(),r==null||r(M)},I=M=>{b&&(v.setState({nodesSelectionActive:E.current>0}),r==null||r(M)),y()},B=w&&(e||b);return Y.createElement("div",{className:Dt(["react-flow__pane",{dragging:_,selection:e}]),onClick:B?void 0:Ja(x,m),onContextMenu:Ja(A,m),onWheel:Ja(H,m),onMouseEnter:B?void 0:u,onMouseDown:B?D:void 0,onMouseMove:B?N:f,onMouseUp:B?U:void 0,onMouseLeave:B?I:h,ref:m,style:ul},p,Y.createElement(Py,null))});wf.displayName="Pane";function Cf(e,n){if(!e.parentNode)return!1;const o=n.get(e.parentNode);return o?o.selected?!0:Cf(o,n):!1}function Kc(e,n,o){let i=e;do{if(i!=null&&i.matches(n))return!0;if(i===o.current)return!1;i=i.parentElement}while(i);return!1}function Ry(e,n,o,i){return Array.from(e.values()).filter(r=>(r.selected||r.id===i)&&(!r.parentNode||!Cf(r,e))&&(r.draggable||n&&typeof r.draggable>"u")).map(r=>{var a,l;return{id:r.id,position:r.position||{x:0,y:0},positionAbsolute:r.positionAbsolute||{x:0,y:0},distance:{x:o.x-(((a=r.positionAbsolute)==null?void 0:a.x)??0),y:o.y-(((l=r.positionAbsolute)==null?void 0:l.y)??0)},delta:{x:0,y:0},extent:r.extent,parentNode:r.parentNode,width:r.width,height:r.height,expandParent:r.expandParent}})}function Hy(e,n){return!n||n==="parent"?n:[n[0],[n[1][0]-(e.width||0),n[1][1]-(e.height||0)]]}function Ef(e,n,o,i,r=[0,0],a){const l=Hy(e,e.extent||i);let c=l;if(e.extent==="parent"&&!e.expandParent)if(e.parentNode&&e.width&&e.height){const h=o.get(e.parentNode),{x:p,y:m}=Rr(h,r).positionAbsolute;c=h&&dn(p)&&dn(m)&&dn(h.width)&&dn(h.height)?[[p+e.width*r[0],m+e.height*r[1]],[p+h.width-e.width+e.width*r[0],m+h.height-e.height+e.height*r[1]]]:c}else a==null||a("005",or.error005()),c=l;else if(e.extent&&e.parentNode&&e.extent!=="parent"){const h=o.get(e.parentNode),{x:p,y:m}=Rr(h,r).positionAbsolute;c=[[e.extent[0][0]+p,e.extent[0][1]+m],[e.extent[1][0]+p,e.extent[1][1]+m]]}let u={x:0,y:0};if(e.parentNode){const h=o.get(e.parentNode);u=Rr(h,r).positionAbsolute}const f=c&&c!=="parent"?rl(n,c):n;return{position:{x:f.x-u.x,y:f.y-u.y},positionAbsolute:f}}function Qa({nodeId:e,dragItems:n,nodeInternals:o}){const i=n.map(r=>({...o.get(r.id),position:r.position,positionAbsolute:r.positionAbsolute}));return[e?i.find(r=>r.id===e):i[0],i]}const qc=(e,n,o,i)=>{const r=n.querySelectorAll(e);if(!r||!r.length)return null;const a=Array.from(r),l=n.getBoundingClientRect(),c={x:l.width*i[0],y:l.height*i[1]};return a.map(u=>{const f=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),position:u.getAttribute("data-handlepos"),x:(f.left-l.left-c.x)/o,y:(f.top-l.top-c.y)/o,...nl(u)}})};function Ai(e,n,o){return o===void 0?o:i=>{const r=n().nodeInternals.get(e);r&&o(i,{...r})}}function Ms({id:e,store:n,unselect:o=!1,nodeRef:i}){const{addSelectedNodes:r,unselectNodesAndEdges:a,multiSelectionActive:l,nodeInternals:c,onError:u}=n.getState(),f=c.get(e);if(!f){u==null||u("012",or.error012(e));return}n.setState({nodesSelectionActive:!1}),f.selected?(o||f.selected&&l)&&(a({nodes:[f],edges:[]}),requestAnimationFrame(()=>{var h;return(h=i==null?void 0:i.current)==null?void 0:h.blur()})):r([e])}function zy(){const e=_t();return k.useCallback(({sourceEvent:o})=>{const{transform:i,snapGrid:r,snapToGrid:a}=e.getState(),l=o.touches?o.touches[0].clientX:o.clientX,c=o.touches?o.touches[0].clientY:o.clientY,u={x:(l-i[0])/i[2],y:(c-i[1])/i[2]};return{xSnapped:a?r[0]*Math.round(u.x/r[0]):u.x,ySnapped:a?r[1]*Math.round(u.y/r[1]):u.y,...u}},[])}function es(e){return(n,o,i)=>e==null?void 0:e(n,i)}function Lf({nodeRef:e,disabled:n=!1,noDragClassName:o,handleSelector:i,nodeId:r,isSelectable:a,selectNodesOnDrag:l}){const c=_t(),[u,f]=k.useState(!1),h=k.useRef([]),p=k.useRef({x:null,y:null}),m=k.useRef(0),v=k.useRef(null),E=k.useRef({x:0,y:0}),S=k.useRef(null),P=k.useRef(!1),b=k.useRef(!1),w=zy();return k.useEffect(()=>{if(e!=null&&e.current){const _=en(e.current),y=({x:H,y:D})=>{const{nodeInternals:N,onNodeDrag:U,onSelectionDrag:I,updateNodePositions:B,nodeExtent:M,snapGrid:T,snapToGrid:O,nodeOrigin:j,onError:K}=c.getState();p.current={x:H,y:D};let V=!1,F={x:0,y:0,x2:0,y2:0};if(h.current.length>1&&M){const q=ha(h.current,j);F=$i(q)}if(h.current=h.current.map(q=>{const W={x:H-q.distance.x,y:D-q.distance.y};O&&(W.x=T[0]*Math.round(W.x/T[0]),W.y=T[1]*Math.round(W.y/T[1]));const J=[[M[0][0],M[0][1]],[M[1][0],M[1][1]]];h.current.length>1&&M&&!q.extent&&(J[0][0]=q.positionAbsolute.x-F.x+M[0][0],J[1][0]=q.positionAbsolute.x+(q.width??0)-F.x2+M[1][0],J[0][1]=q.positionAbsolute.y-F.y+M[0][1],J[1][1]=q.positionAbsolute.y+(q.height??0)-F.y2+M[1][1]);const X=Ef(q,W,N,J,j,K);return V=V||q.position.x!==X.position.x||q.position.y!==X.position.y,q.position=X.position,q.positionAbsolute=X.positionAbsolute,q}),!V)return;B(h.current,!0,!0),f(!0);const Z=r?U:es(I);if(Z&&S.current){const[q,W]=Qa({nodeId:r,dragItems:h.current,nodeInternals:N});Z(S.current,q,W)}},x=()=>{if(!v.current)return;const[H,D]=qd(E.current,v.current);if(H!==0||D!==0){const{transform:N,panBy:U}=c.getState();p.current.x=(p.current.x??0)-H/N[2],p.current.y=(p.current.y??0)-D/N[2],U({x:H,y:D})&&y(p.current)}m.current=requestAnimationFrame(x)},A=H=>{var j;const{nodeInternals:D,multiSelectionActive:N,nodesDraggable:U,unselectNodesAndEdges:I,onNodeDragStart:B,onSelectionDragStart:M}=c.getState();b.current=!0;const T=r?B:es(M);(!l||!a)&&!N&&r&&((j=D.get(r))!=null&&j.selected||I()),r&&a&&l&&Ms({id:r,store:c,nodeRef:e});const O=w(H);if(p.current=O,h.current=Ry(D,U,O,r),T&&h.current){const[K,V]=Qa({nodeId:r,dragItems:h.current,nodeInternals:D});T(H.sourceEvent,K,V)}};if(n)_.on(".drag",null);else{const H=Ad().on("start",D=>{const{domNode:N,nodeDragThreshold:U}=c.getState();U===0&&A(D);const I=w(D);p.current=I,v.current=(N==null?void 0:N.getBoundingClientRect())||null,E.current=Er(D.sourceEvent,v.current)}).on("drag",D=>{var B,M;const N=w(D),{autoPanOnNodeDrag:U,nodeDragThreshold:I}=c.getState();if(!P.current&&b.current&&U&&(P.current=!0,x()),!b.current){const T=N.xSnapped-(((B=p==null?void 0:p.current)==null?void 0:B.x)??0),O=N.ySnapped-(((M=p==null?void 0:p.current)==null?void 0:M.y)??0);Math.sqrt(T*T+O*O)>I&&A(D)}(p.current.x!==N.xSnapped||p.current.y!==N.ySnapped)&&h.current&&b.current&&(S.current=D.sourceEvent,E.current=Er(D.sourceEvent,v.current),y(N))}).on("end",D=>{if(b.current&&(f(!1),P.current=!1,b.current=!1,cancelAnimationFrame(m.current),h.current)){const{updateNodePositions:N,nodeInternals:U,onNodeDragStop:I,onSelectionDragStop:B}=c.getState(),M=r?I:es(B);if(N(h.current,!1,!1),M){const[T,O]=Qa({nodeId:r,dragItems:h.current,nodeInternals:U});M(D.sourceEvent,T,O)}}}).filter(D=>{const N=D.target;return!D.button&&(!o||!Kc(N,`.${o}`,e))&&(!i||Kc(N,i,e))});return _.call(H),()=>{_.on(".drag",null)}}}},[e,n,o,i,a,c,r,l,w]),u}function Sf(){const e=_t();return k.useCallback(o=>{const{nodeInternals:i,nodeExtent:r,updateNodePositions:a,getNodes:l,snapToGrid:c,snapGrid:u,onError:f,nodesDraggable:h}=e.getState(),p=l().filter(w=>w.selected&&(w.draggable||h&&typeof w.draggable>"u")),m=c?u[0]:5,v=c?u[1]:5,E=o.isShiftPressed?4:1,S=o.x*m*E,P=o.y*v*E,b=p.map(w=>{if(w.positionAbsolute){const _={x:w.positionAbsolute.x+S,y:w.positionAbsolute.y+P};c&&(_.x=u[0]*Math.round(_.x/u[0]),_.y=u[1]*Math.round(_.y/u[1]));const{positionAbsolute:y,position:x}=Ef(w,_,i,r,void 0,f);w.position=x,w.positionAbsolute=y}return w});a(b,!0,!1)},[])}const li={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Di=e=>{const n=({id:o,type:i,data:r,xPos:a,yPos:l,xPosOrigin:c,yPosOrigin:u,selected:f,onClick:h,onMouseEnter:p,onMouseMove:m,onMouseLeave:v,onContextMenu:E,onDoubleClick:S,style:P,className:b,isDraggable:w,isSelectable:_,isConnectable:y,isFocusable:x,selectNodesOnDrag:A,sourcePosition:H,targetPosition:D,hidden:N,resizeObserver:U,dragHandle:I,zIndex:B,isParent:M,noDragClassName:T,noPanClassName:O,initialized:j,disableKeyboardA11y:K,ariaLabel:V,rfId:F})=>{const Z=_t(),q=k.useRef(null),W=k.useRef(H),J=k.useRef(D),X=k.useRef(i),ee=_||w||h||p||m||v,te=Sf(),re=Ai(o,Z.getState,p),ie=Ai(o,Z.getState,m),se=Ai(o,Z.getState,v),ae=Ai(o,Z.getState,E),le=Ai(o,Z.getState,S),ye=_e=>{const{nodeDragThreshold:Pe}=Z.getState();if(_&&(!A||!w||Pe>0)&&Ms({id:o,store:Z,nodeRef:q}),h){const Se=Z.getState().nodeInternals.get(o);Se&&h(_e,{...Se})}},oe=_e=>{if(!ws(_e))if(Yd.includes(_e.key)&&_){const Pe=_e.key==="Escape";Ms({id:o,store:Z,unselect:Pe,nodeRef:q})}else!K&&w&&f&&Object.prototype.hasOwnProperty.call(li,_e.key)&&(Z.setState({ariaLiveMessage:`Moved selected node ${_e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~a}, y: ${~~l}`}),te({x:li[_e.key].x,y:li[_e.key].y,isShiftPressed:_e.shiftKey}))};k.useEffect(()=>{if(q.current&&!N){const _e=q.current;return U==null||U.observe(_e),()=>U==null?void 0:U.unobserve(_e)}},[N]),k.useEffect(()=>{const _e=X.current!==i,Pe=W.current!==H,Se=J.current!==D;q.current&&(_e||Pe||Se)&&(_e&&(X.current=i),Pe&&(W.current=H),Se&&(J.current=D),Z.getState().updateNodeDimensions([{id:o,nodeElement:q.current,forceUpdate:!0}]))},[o,i,H,D]);const ce=Lf({nodeRef:q,disabled:N||!w,noDragClassName:T,handleSelector:I,nodeId:o,isSelectable:_,selectNodesOnDrag:A});return N?null:Y.createElement("div",{className:Dt(["react-flow__node",`react-flow__node-${i}`,{[O]:w},b,{selected:f,selectable:_,parent:M,dragging:ce}]),ref:q,style:{zIndex:B,transform:`translate(${c}px,${u}px)`,pointerEvents:ee?"all":"none",visibility:j?"visible":"hidden",...P},"data-id":o,"data-testid":`rf__node-${o}`,onMouseEnter:re,onMouseMove:ie,onMouseLeave:se,onContextMenu:ae,onClick:ye,onDoubleClick:le,onKeyDown:x?oe:void 0,tabIndex:x?0:void 0,role:x?"button":void 0,"aria-describedby":K?void 0:`${vf}-${F}`,"aria-label":V},Y.createElement(X0,{value:o},Y.createElement(e,{id:o,data:r,type:i,xPos:a,yPos:l,selected:f,isConnectable:y,sourcePosition:H,targetPosition:D,dragging:ce,dragHandle:I,zIndex:B})))};return n.displayName="NodeWrapper",k.memo(n)};const By=e=>{const n=e.getNodes().filter(o=>o.selected);return{...ha(n,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function jy({onSelectionContextMenu:e,noPanClassName:n,disableKeyboardA11y:o}){const i=_t(),{width:r,height:a,x:l,y:c,transformString:u,userSelectionActive:f}=Ye(By,pt),h=Sf(),p=k.useRef(null);if(k.useEffect(()=>{var E;o||(E=p.current)==null||E.focus({preventScroll:!0})},[o]),Lf({nodeRef:p}),f||!r||!a)return null;const m=e?E=>{const S=i.getState().getNodes().filter(P=>P.selected);e(E,S)}:void 0,v=E=>{Object.prototype.hasOwnProperty.call(li,E.key)&&h({x:li[E.key].x,y:li[E.key].y,isShiftPressed:E.shiftKey})};return Y.createElement("div",{className:Dt(["react-flow__nodesselection","react-flow__container",n]),style:{transform:u}},Y.createElement("div",{ref:p,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:o?void 0:-1,onKeyDown:o?void 0:v,style:{width:r,height:a,top:c,left:l}}))}var Uy=k.memo(jy);const Vy=e=>e.nodesSelectionActive,Mf=({children:e,onPaneClick:n,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:r,onPaneContextMenu:a,onPaneScroll:l,deleteKeyCode:c,onMove:u,onMoveStart:f,onMoveEnd:h,selectionKeyCode:p,selectionOnDrag:m,selectionMode:v,onSelectionStart:E,onSelectionEnd:S,multiSelectionKeyCode:P,panActivationKeyCode:b,zoomActivationKeyCode:w,elementsSelectable:_,zoomOnScroll:y,zoomOnPinch:x,panOnScroll:A,panOnScrollSpeed:H,panOnScrollMode:D,zoomOnDoubleClick:N,panOnDrag:U,defaultViewport:I,translateExtent:B,minZoom:M,maxZoom:T,preventScrolling:O,onSelectionContextMenu:j,noWheelClassName:K,noPanClassName:V,disableKeyboardA11y:F})=>{const Z=Ye(Vy),q=Gi(p),W=Gi(b),J=W||U,X=W||A,ee=q||m&&J!==!0;return Sy({deleteKeyCode:c,multiSelectionKeyCode:P}),Y.createElement(Ay,{onMove:u,onMoveStart:f,onMoveEnd:h,onPaneContextMenu:a,elementsSelectable:_,zoomOnScroll:y,zoomOnPinch:x,panOnScroll:X,panOnScrollSpeed:H,panOnScrollMode:D,zoomOnDoubleClick:N,panOnDrag:!q&&J,defaultViewport:I,translateExtent:B,minZoom:M,maxZoom:T,zoomActivationKeyCode:w,preventScrolling:O,noWheelClassName:K,noPanClassName:V},Y.createElement(wf,{onSelectionStart:E,onSelectionEnd:S,onPaneClick:n,onPaneMouseEnter:o,onPaneMouseMove:i,onPaneMouseLeave:r,onPaneContextMenu:a,onPaneScroll:l,panOnDrag:J,isSelecting:!!ee,selectionMode:v},e,Z&&Y.createElement(Uy,{onSelectionContextMenu:j,noPanClassName:V,disableKeyboardA11y:F})))};Mf.displayName="FlowRenderer";var Zy=k.memo(Mf);function Fy(e){return Ye(k.useCallback(o=>e?rf(o.nodeInternals,{x:0,y:0,width:o.width,height:o.height},o.transform,!0):o.getNodes(),[e]))}function Ky(e){const n={input:Di(e.input||hf),default:Di(e.default||Ss),output:Di(e.output||mf),group:Di(e.group||cl)},o={},i=Object.keys(e).filter(r=>!["input","default","output","group"].includes(r)).reduce((r,a)=>(r[a]=Di(e[a]||Ss),r),o);return{...n,...i}}const qy=({x:e,y:n,width:o,height:i,origin:r})=>!o||!i?{x:e,y:n}:r[0]<0||r[1]<0||r[0]>1||r[1]>1?{x:e,y:n}:{x:e-o*r[0],y:n-i*r[1]},$y=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Tf=e=>{const{nodesDraggable:n,nodesConnectable:o,nodesFocusable:i,elementsSelectable:r,updateNodeDimensions:a,onError:l}=Ye($y,pt),c=Fy(e.onlyRenderVisibleElements),u=k.useRef(),f=k.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const h=new ResizeObserver(p=>{const m=p.map(v=>({id:v.target.getAttribute("data-id"),nodeElement:v.target,forceUpdate:!0}));a(m)});return u.current=h,h},[]);return k.useEffect(()=>()=>{var h;(h=u==null?void 0:u.current)==null||h.disconnect()},[]),Y.createElement("div",{className:"react-flow__nodes",style:ul},c.map(h=>{var x,A;let p=h.type||"default";e.nodeTypes[p]||(l==null||l("003",or.error003(p)),p="default");const m=e.nodeTypes[p]||e.nodeTypes.default,v=!!(h.draggable||n&&typeof h.draggable>"u"),E=!!(h.selectable||r&&typeof h.selectable>"u"),S=!!(h.connectable||o&&typeof h.connectable>"u"),P=!!(h.focusable||i&&typeof h.focusable>"u"),b=e.nodeExtent?rl(h.positionAbsolute,e.nodeExtent):h.positionAbsolute,w=(b==null?void 0:b.x)??0,_=(b==null?void 0:b.y)??0,y=qy({x:w,y:_,width:h.width??0,height:h.height??0,origin:e.nodeOrigin});return Y.createElement(m,{key:h.id,id:h.id,className:h.className,style:h.style,type:p,data:h.data,sourcePosition:h.sourcePosition||Le.Bottom,targetPosition:h.targetPosition||Le.Top,hidden:h.hidden,xPos:w,yPos:_,xPosOrigin:y.x,yPosOrigin:y.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!h.selected,isDraggable:v,isSelectable:E,isConnectable:S,isFocusable:P,resizeObserver:f,dragHandle:h.dragHandle,zIndex:((x=h[wt])==null?void 0:x.z)??0,isParent:!!((A=h[wt])!=null&&A.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!h.width&&!!h.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:h.ariaLabel})}))};Tf.displayName="NodeRenderer";var Wy=k.memo(Tf);const Gy=(e,n,o)=>o===Le.Left?e-n:o===Le.Right?e+n:e,Yy=(e,n,o)=>o===Le.Top?e-n:o===Le.Bottom?e+n:e,$c="react-flow__edgeupdater",Wc=({position:e,centerX:n,centerY:o,radius:i=10,onMouseDown:r,onMouseEnter:a,onMouseOut:l,type:c})=>Y.createElement("circle",{onMouseDown:r,onMouseEnter:a,onMouseOut:l,className:Dt([$c,`${$c}-${c}`]),cx:Gy(n,i,e),cy:Yy(o,i,e),r:i,stroke:"transparent",fill:"transparent"}),Xy=()=>!0;var Jr=e=>{const n=({id:o,className:i,type:r,data:a,onClick:l,onEdgeDoubleClick:c,selected:u,animated:f,label:h,labelStyle:p,labelShowBg:m,labelBgStyle:v,labelBgPadding:E,labelBgBorderRadius:S,style:P,source:b,target:w,sourceX:_,sourceY:y,targetX:x,targetY:A,sourcePosition:H,targetPosition:D,elementsSelectable:N,hidden:U,sourceHandleId:I,targetHandleId:B,onContextMenu:M,onMouseEnter:T,onMouseMove:O,onMouseLeave:j,edgeUpdaterRadius:K,onEdgeUpdate:V,onEdgeUpdateStart:F,onEdgeUpdateEnd:Z,markerEnd:q,markerStart:W,rfId:J,ariaLabel:X,isFocusable:ee,isUpdatable:te,pathOptions:re,interactionWidth:ie})=>{const se=k.useRef(null),[ae,le]=k.useState(!1),[ye,oe]=k.useState(!1),ce=_t(),_e=k.useMemo(()=>`url(#${Es(W,J)})`,[W,J]),Pe=k.useMemo(()=>`url(#${Es(q,J)})`,[q,J]);if(U)return null;const Se=Ve=>{var Ge;const{edges:Ue,addSelectedEdges:Pt,unselectNodesAndEdges:Mt,multiSelectionActive:Ct}=ce.getState(),st=Ue.find(lt=>lt.id===o);st&&(N&&(ce.setState({nodesSelectionActive:!1}),st.selected&&Ct?(Mt({nodes:[],edges:[st]}),(Ge=se.current)==null||Ge.blur()):Pt([o])),l&&l(Ve,st))},ue=ki(o,ce.getState,c),ge=ki(o,ce.getState,M),ve=ki(o,ce.getState,T),we=ki(o,ce.getState,O),Te=ki(o,ce.getState,j),He=(Ve,Ue)=>{if(Ve.button!==0)return;const{edges:Pt,isValidConnection:Mt}=ce.getState(),Ct=Ue?w:b,st=(Ue?B:I)||null,Ge=Ue?"target":"source",lt=Mt||Xy,Yt=Ue,ft=Pt.find(bt=>bt.id===o);oe(!0),F==null||F(Ve,ft,Ge);const ct=bt=>{oe(!1),Z==null||Z(bt,ft,Ge)};cf({event:Ve,handleId:st,nodeId:Ct,onConnect:bt=>V==null?void 0:V(ft,bt),isTarget:Yt,getState:ce.getState,setState:ce.setState,isValidConnection:lt,edgeUpdaterType:Ge,onEdgeUpdateEnd:ct})},je=Ve=>He(Ve,!0),Ke=Ve=>He(Ve,!1),Ae=()=>le(!0),Xe=()=>le(!1),at=!N&&!l,nt=Ve=>{var Ue;if(Yd.includes(Ve.key)&&N){const{unselectNodesAndEdges:Pt,addSelectedEdges:Mt,edges:Ct}=ce.getState();Ve.key==="Escape"?((Ue=se.current)==null||Ue.blur(),Pt({edges:[Ct.find(Ge=>Ge.id===o)]})):Mt([o])}};return Y.createElement("g",{className:Dt(["react-flow__edge",`react-flow__edge-${r}`,i,{selected:u,animated:f,inactive:at,updating:ae}]),onClick:Se,onDoubleClick:ue,onContextMenu:ge,onMouseEnter:ve,onMouseMove:we,onMouseLeave:Te,onKeyDown:ee?nt:void 0,tabIndex:ee?0:void 0,role:ee?"button":"img","data-testid":`rf__edge-${o}`,"aria-label":X===null?void 0:X||`Edge from ${b} to ${w}`,"aria-describedby":ee?`${yf}-${J}`:void 0,ref:se},!ye&&Y.createElement(e,{id:o,source:b,target:w,selected:u,animated:f,label:h,labelStyle:p,labelShowBg:m,labelBgStyle:v,labelBgPadding:E,labelBgBorderRadius:S,data:a,style:P,sourceX:_,sourceY:y,targetX:x,targetY:A,sourcePosition:H,targetPosition:D,sourceHandleId:I,targetHandleId:B,markerStart:_e,markerEnd:Pe,pathOptions:re,interactionWidth:ie}),te&&Y.createElement(Y.Fragment,null,(te==="source"||te===!0)&&Y.createElement(Wc,{position:H,centerX:_,centerY:y,radius:K,onMouseDown:je,onMouseEnter:Ae,onMouseOut:Xe,type:"source"}),(te==="target"||te===!0)&&Y.createElement(Wc,{position:D,centerX:x,centerY:A,radius:K,onMouseDown:Ke,onMouseEnter:Ae,onMouseOut:Xe,type:"target"})))};return n.displayName="EdgeWrapper",k.memo(n)};function Jy(e){const n={default:Jr(e.default||Go),straight:Jr(e.bezier||al),step:Jr(e.step||ol),smoothstep:Jr(e.step||fa),simplebezier:Jr(e.simplebezier||il)},o={},i=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,a)=>(r[a]=Jr(e[a]||Go),r),o);return{...n,...i}}function Gc(e,n,o=null){const i=((o==null?void 0:o.x)||0)+n.x,r=((o==null?void 0:o.y)||0)+n.y,a=(o==null?void 0:o.width)||n.width,l=(o==null?void 0:o.height)||n.height;switch(e){case Le.Top:return{x:i+a/2,y:r};case Le.Right:return{x:i+a,y:r+l/2};case Le.Bottom:return{x:i+a/2,y:r+l};case Le.Left:return{x:i,y:r+l/2}}}function Yc(e,n){return e?e.length===1||!n?e[0]:n&&e.find(o=>o.id===n)||null:null}const Qy=(e,n,o,i,r,a)=>{const l=Gc(o,e,n),c=Gc(a,i,r);return{sourceX:l.x,sourceY:l.y,targetX:c.x,targetY:c.y}};function e_({sourcePos:e,targetPos:n,sourceWidth:o,sourceHeight:i,targetWidth:r,targetHeight:a,width:l,height:c,transform:u}){const f={x:Math.min(e.x,n.x),y:Math.min(e.y,n.y),x2:Math.max(e.x+o,n.x+r),y2:Math.max(e.y+i,n.y+a)};f.x===f.x2&&(f.x2+=1),f.y===f.y2&&(f.y2+=1);const h=$i({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:l/u[2],height:c/u[2]}),p=Math.max(0,Math.min(h.x2,f.x2)-Math.max(h.x,f.x)),m=Math.max(0,Math.min(h.y2,f.y2)-Math.max(h.y,f.y));return Math.ceil(p*m)>0}function Xc(e){var i,r,a,l,c;const n=((i=e==null?void 0:e[wt])==null?void 0:i.handleBounds)||null,o=n&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((r=e==null?void 0:e.positionAbsolute)==null?void 0:r.x)<"u"&&typeof((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)<"u";return[{x:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.x)||0,y:((c=e==null?void 0:e.positionAbsolute)==null?void 0:c.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},n,!!o]}const t_=[{level:0,isMaxLevel:!0,edges:[]}];function n_(e,n,o=!1){let i=-1;const r=e.reduce((l,c)=>{var h,p;const u=dn(c.zIndex);let f=u?c.zIndex:0;if(o){const m=n.get(c.target),v=n.get(c.source),E=c.selected||(m==null?void 0:m.selected)||(v==null?void 0:v.selected),S=Math.max(((h=v==null?void 0:v[wt])==null?void 0:h.z)||0,((p=m==null?void 0:m[wt])==null?void 0:p.z)||0,1e3);f=(u?c.zIndex:0)+(E?S:0)}return l[f]?l[f].push(c):l[f]=[c],i=f>i?f:i,l},{}),a=Object.entries(r).map(([l,c])=>{const u=+l;return{edges:c,level:u,isMaxLevel:u===i}});return a.length===0?t_:a}function r_(e,n,o){const i=Ye(k.useCallback(r=>e?r.edges.filter(a=>{const l=n.get(a.source),c=n.get(a.target);return(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&(c==null?void 0:c.width)&&(c==null?void 0:c.height)&&e_({sourcePos:l.positionAbsolute||{x:0,y:0},targetPos:c.positionAbsolute||{x:0,y:0},sourceWidth:l.width,sourceHeight:l.height,targetWidth:c.width,targetHeight:c.height,width:r.width,height:r.height,transform:r.transform})}):r.edges,[e,n]));return n_(i,n,o)}const i_=({color:e="none",strokeWidth:n=1})=>Y.createElement("polyline",{style:{stroke:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),o_=({color:e="none",strokeWidth:n=1})=>Y.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Jc={[Wo.Arrow]:i_,[Wo.ArrowClosed]:o_};function a_(e){const n=_t();return k.useMemo(()=>{var r,a;return Object.prototype.hasOwnProperty.call(Jc,e)?Jc[e]:((a=(r=n.getState()).onError)==null||a.call(r,"009",or.error009(e)),null)},[e])}const s_=({id:e,type:n,color:o,width:i=12.5,height:r=12.5,markerUnits:a="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"})=>{const u=a_(n);return u?Y.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${i}`,markerHeight:`${r}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:c,refX:"0",refY:"0"},Y.createElement(u,{color:o,strokeWidth:l})):null},l_=({defaultColor:e,rfId:n})=>o=>{const i=[];return o.edges.reduce((r,a)=>([a.markerStart,a.markerEnd].forEach(l=>{if(l&&typeof l=="object"){const c=Es(l,n);i.includes(c)||(r.push({id:c,color:l.color||e,...l}),i.push(c))}}),r),[]).sort((r,a)=>r.id.localeCompare(a.id))},kf=({defaultColor:e,rfId:n})=>{const o=Ye(k.useCallback(l_({defaultColor:e,rfId:n}),[e,n]),(i,r)=>!(i.length!==r.length||i.some((a,l)=>a.id!==r[l].id)));return Y.createElement("defs",null,o.map(i=>Y.createElement(s_,{id:i.id,key:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient})))};kf.displayName="MarkerDefinitions";var c_=k.memo(kf);const u_=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Af=({defaultMarkerColor:e,onlyRenderVisibleElements:n,elevateEdgesOnSelect:o,rfId:i,edgeTypes:r,noPanClassName:a,onEdgeUpdate:l,onEdgeContextMenu:c,onEdgeMouseEnter:u,onEdgeMouseMove:f,onEdgeMouseLeave:h,onEdgeClick:p,edgeUpdaterRadius:m,onEdgeDoubleClick:v,onEdgeUpdateStart:E,onEdgeUpdateEnd:S,children:P})=>{const{edgesFocusable:b,edgesUpdatable:w,elementsSelectable:_,width:y,height:x,connectionMode:A,nodeInternals:H,onError:D}=Ye(u_,pt),N=r_(n,H,o);return y?Y.createElement(Y.Fragment,null,N.map(({level:U,edges:I,isMaxLevel:B})=>Y.createElement("svg",{key:U,style:{zIndex:U},width:y,height:x,className:"react-flow__edges react-flow__container"},B&&Y.createElement(c_,{defaultColor:e,rfId:i}),Y.createElement("g",null,I.map(M=>{const[T,O,j]=Xc(H.get(M.source)),[K,V,F]=Xc(H.get(M.target));if(!j||!F)return null;let Z=M.type||"default";r[Z]||(D==null||D("011",or.error011(Z)),Z="default");const q=r[Z]||r.default,W=A===zr.Strict?V.target:(V.target??[]).concat(V.source??[]),J=Yc(O.source,M.sourceHandle),X=Yc(W,M.targetHandle),ee=(J==null?void 0:J.position)||Le.Bottom,te=(X==null?void 0:X.position)||Le.Top,re=!!(M.focusable||b&&typeof M.focusable>"u"),ie=typeof l<"u"&&(M.updatable||w&&typeof M.updatable>"u");if(!J||!X)return D==null||D("008",or.error008(J,M)),null;const{sourceX:se,sourceY:ae,targetX:le,targetY:ye}=Qy(T,J,ee,K,X,te);return Y.createElement(q,{key:M.id,id:M.id,className:Dt([M.className,a]),type:Z,data:M.data,selected:!!M.selected,animated:!!M.animated,hidden:!!M.hidden,label:M.label,labelStyle:M.labelStyle,labelShowBg:M.labelShowBg,labelBgStyle:M.labelBgStyle,labelBgPadding:M.labelBgPadding,labelBgBorderRadius:M.labelBgBorderRadius,style:M.style,source:M.source,target:M.target,sourceHandleId:M.sourceHandle,targetHandleId:M.targetHandle,markerEnd:M.markerEnd,markerStart:M.markerStart,sourceX:se,sourceY:ae,targetX:le,targetY:ye,sourcePosition:ee,targetPosition:te,elementsSelectable:_,onEdgeUpdate:l,onContextMenu:c,onMouseEnter:u,onMouseMove:f,onMouseLeave:h,onClick:p,edgeUpdaterRadius:m,onEdgeDoubleClick:v,onEdgeUpdateStart:E,onEdgeUpdateEnd:S,rfId:i,ariaLabel:M.ariaLabel,isFocusable:re,isUpdatable:ie,pathOptions:"pathOptions"in M?M.pathOptions:void 0,interactionWidth:M.interactionWidth})})))),P):null};Af.displayName="EdgeRenderer";var d_=k.memo(Af);const f_=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function h_({children:e}){const n=Ye(f_);return Y.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},e)}function p_(e){const n=pa(),o=k.useRef(!1);k.useEffect(()=>{!o.current&&n.viewportInitialized&&e&&(setTimeout(()=>e(n),1),o.current=!0)},[e,n.viewportInitialized])}const m_={[Le.Left]:Le.Right,[Le.Right]:Le.Left,[Le.Top]:Le.Bottom,[Le.Bottom]:Le.Top},Df=({nodeId:e,handleType:n,style:o,type:i=wr.Bezier,CustomComponent:r,connectionStatus:a})=>{var A,H,D;const{fromNode:l,handleId:c,toX:u,toY:f,connectionMode:h}=Ye(k.useCallback(N=>({fromNode:N.nodeInternals.get(e),handleId:N.connectionHandleId,toX:(N.connectionPosition.x-N.transform[0])/N.transform[2],toY:(N.connectionPosition.y-N.transform[1])/N.transform[2],connectionMode:N.connectionMode}),[e]),pt),p=(A=l==null?void 0:l[wt])==null?void 0:A.handleBounds;let m=p==null?void 0:p[n];if(h===zr.Loose&&(m=m||(p==null?void 0:p[n==="source"?"target":"source"])),!l||!m)return null;const v=c?m.find(N=>N.id===c):m[0],E=v?v.x+v.width/2:(l.width??0)/2,S=v?v.y+v.height/2:l.height??0,P=(((H=l.positionAbsolute)==null?void 0:H.x)??0)+E,b=(((D=l.positionAbsolute)==null?void 0:D.y)??0)+S,w=v==null?void 0:v.position,_=w?m_[w]:null;if(!w||!_)return null;if(r)return Y.createElement(r,{connectionLineType:i,connectionLineStyle:o,fromNode:l,fromHandle:v,fromX:P,fromY:b,toX:u,toY:f,fromPosition:w,toPosition:_,connectionStatus:a});let y="";const x={sourceX:P,sourceY:b,sourcePosition:w,targetX:u,targetY:f,targetPosition:_};return i===wr.Bezier?[y]=tf(x):i===wr.Step?[y]=Cs({...x,borderRadius:0}):i===wr.SmoothStep?[y]=Cs(x):i===wr.SimpleBezier?[y]=ef(x):y=`M${P},${b} ${u},${f}`,Y.createElement("path",{d:y,fill:"none",className:"react-flow__connection-path",style:o})};Df.displayName="ConnectionLine";const g_=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function v_({containerStyle:e,style:n,type:o,component:i}){const{nodeId:r,handleType:a,nodesConnectable:l,width:c,height:u,connectionStatus:f}=Ye(g_,pt);return!(r&&a&&c&&l)?null:Y.createElement("svg",{style:e,width:c,height:u,className:"react-flow__edges react-flow__connectionline react-flow__container"},Y.createElement("g",{className:Dt(["react-flow__connection",f])},Y.createElement(Df,{nodeId:r,handleType:a,style:n,type:o,CustomComponent:i,connectionStatus:f})))}function Qc(e,n){return k.useRef(null),_t(),k.useMemo(()=>n(e),[e])}const Pf=({nodeTypes:e,edgeTypes:n,onMove:o,onMoveStart:i,onMoveEnd:r,onInit:a,onNodeClick:l,onEdgeClick:c,onNodeDoubleClick:u,onEdgeDoubleClick:f,onNodeMouseEnter:h,onNodeMouseMove:p,onNodeMouseLeave:m,onNodeContextMenu:v,onSelectionContextMenu:E,onSelectionStart:S,onSelectionEnd:P,connectionLineType:b,connectionLineStyle:w,connectionLineComponent:_,connectionLineContainerStyle:y,selectionKeyCode:x,selectionOnDrag:A,selectionMode:H,multiSelectionKeyCode:D,panActivationKeyCode:N,zoomActivationKeyCode:U,deleteKeyCode:I,onlyRenderVisibleElements:B,elementsSelectable:M,selectNodesOnDrag:T,defaultViewport:O,translateExtent:j,minZoom:K,maxZoom:V,preventScrolling:F,defaultMarkerColor:Z,zoomOnScroll:q,zoomOnPinch:W,panOnScroll:J,panOnScrollSpeed:X,panOnScrollMode:ee,zoomOnDoubleClick:te,panOnDrag:re,onPaneClick:ie,onPaneMouseEnter:se,onPaneMouseMove:ae,onPaneMouseLeave:le,onPaneScroll:ye,onPaneContextMenu:oe,onEdgeUpdate:ce,onEdgeContextMenu:_e,onEdgeMouseEnter:Pe,onEdgeMouseMove:Se,onEdgeMouseLeave:ue,edgeUpdaterRadius:ge,onEdgeUpdateStart:ve,onEdgeUpdateEnd:we,noDragClassName:Te,noWheelClassName:He,noPanClassName:je,elevateEdgesOnSelect:Ke,disableKeyboardA11y:Ae,nodeOrigin:Xe,nodeExtent:at,rfId:nt})=>{const Ve=Qc(e,Ky),Ue=Qc(n,Jy);return p_(a),Y.createElement(Zy,{onPaneClick:ie,onPaneMouseEnter:se,onPaneMouseMove:ae,onPaneMouseLeave:le,onPaneContextMenu:oe,onPaneScroll:ye,deleteKeyCode:I,selectionKeyCode:x,selectionOnDrag:A,selectionMode:H,onSelectionStart:S,onSelectionEnd:P,multiSelectionKeyCode:D,panActivationKeyCode:N,zoomActivationKeyCode:U,elementsSelectable:M,onMove:o,onMoveStart:i,onMoveEnd:r,zoomOnScroll:q,zoomOnPinch:W,zoomOnDoubleClick:te,panOnScroll:J,panOnScrollSpeed:X,panOnScrollMode:ee,panOnDrag:re,defaultViewport:O,translateExtent:j,minZoom:K,maxZoom:V,onSelectionContextMenu:E,preventScrolling:F,noDragClassName:Te,noWheelClassName:He,noPanClassName:je,disableKeyboardA11y:Ae},Y.createElement(h_,null,Y.createElement(d_,{edgeTypes:Ue,onEdgeClick:c,onEdgeDoubleClick:f,onEdgeUpdate:ce,onlyRenderVisibleElements:B,onEdgeContextMenu:_e,onEdgeMouseEnter:Pe,onEdgeMouseMove:Se,onEdgeMouseLeave:ue,onEdgeUpdateStart:ve,onEdgeUpdateEnd:we,edgeUpdaterRadius:ge,defaultMarkerColor:Z,noPanClassName:je,elevateEdgesOnSelect:!!Ke,disableKeyboardA11y:Ae,rfId:nt},Y.createElement(v_,{style:w,type:b,component:_,containerStyle:y})),Y.createElement("div",{className:"react-flow__edgelabel-renderer"}),Y.createElement(Wy,{nodeTypes:Ve,onNodeClick:l,onNodeDoubleClick:u,onNodeMouseEnter:h,onNodeMouseMove:p,onNodeMouseLeave:m,onNodeContextMenu:v,selectNodesOnDrag:T,onlyRenderVisibleElements:B,noPanClassName:je,noDragClassName:Te,disableKeyboardA11y:Ae,nodeOrigin:Xe,nodeExtent:at,rfId:nt})))};Pf.displayName="GraphView";var y_=k.memo(Pf);const Ts=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],vr={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ts,nodeExtent:Ts,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:zr.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:K0,isValidConnection:void 0},__=()=>ld((e,n)=>({...vr,setNodes:o=>{const{nodeInternals:i,nodeOrigin:r,elevateNodesOnSelect:a}=n();e({nodeInternals:Xa(o,i,r,a)})},getNodes:()=>Array.from(n().nodeInternals.values()),setEdges:o=>{const{defaultEdgeOptions:i={}}=n();e({edges:o.map(r=>({...i,...r}))})},setDefaultNodesAndEdges:(o,i)=>{const r=typeof o<"u",a=typeof i<"u",l=r?Xa(o,new Map,n().nodeOrigin,n().elevateNodesOnSelect):new Map;e({nodeInternals:l,edges:a?i:[],hasDefaultNodes:r,hasDefaultEdges:a})},updateNodeDimensions:o=>{const{onNodesChange:i,nodeInternals:r,fitViewOnInit:a,fitViewOnInitDone:l,fitViewOnInitOptions:c,domNode:u,nodeOrigin:f}=n(),h=u==null?void 0:u.querySelector(".react-flow__viewport");if(!h)return;const p=window.getComputedStyle(h),{m22:m}=new window.DOMMatrixReadOnly(p.transform),v=o.reduce((S,P)=>{const b=r.get(P.id);if(b){const w=nl(P.nodeElement);!!(w.width&&w.height&&(b.width!==w.width||b.height!==w.height||P.forceUpdate))&&(r.set(b.id,{...b,[wt]:{...b[wt],handleBounds:{source:qc(".source",P.nodeElement,m,f),target:qc(".target",P.nodeElement,m,f)}},...w}),S.push({id:b.id,type:"dimensions",dimensions:w}))}return S},[]);bf(r,f);const E=l||a&&!l&&xf(n,{initial:!0,...c});e({nodeInternals:new Map(r),fitViewOnInitDone:E}),(v==null?void 0:v.length)>0&&(i==null||i(v))},updateNodePositions:(o,i=!0,r=!1)=>{const{triggerNodeChanges:a}=n(),l=o.map(c=>{const u={id:c.id,type:"position",dragging:r};return i&&(u.positionAbsolute=c.positionAbsolute,u.position=c.position),u});a(l)},triggerNodeChanges:o=>{const{onNodesChange:i,nodeInternals:r,hasDefaultNodes:a,nodeOrigin:l,getNodes:c,elevateNodesOnSelect:u}=n();if(o!=null&&o.length){if(a){const f=Iy(o,c()),h=Xa(f,r,l,u);e({nodeInternals:h})}i==null||i(o)}},addSelectedNodes:o=>{const{multiSelectionActive:i,edges:r,getNodes:a}=n();let l,c=null;i?l=o.map(u=>xr(u,!0)):(l=ni(a(),o),c=ni(r,[])),To({changedNodes:l,changedEdges:c,get:n,set:e})},addSelectedEdges:o=>{const{multiSelectionActive:i,edges:r,getNodes:a}=n();let l,c=null;i?l=o.map(u=>xr(u,!0)):(l=ni(r,o),c=ni(a(),[])),To({changedNodes:c,changedEdges:l,get:n,set:e})},unselectNodesAndEdges:({nodes:o,edges:i}={})=>{const{edges:r,getNodes:a}=n(),l=o||a(),c=i||r,u=l.map(h=>(h.selected=!1,xr(h.id,!1))),f=c.map(h=>xr(h.id,!1));To({changedNodes:u,changedEdges:f,get:n,set:e})},setMinZoom:o=>{const{d3Zoom:i,maxZoom:r}=n();i==null||i.scaleExtent([o,r]),e({minZoom:o})},setMaxZoom:o=>{const{d3Zoom:i,minZoom:r}=n();i==null||i.scaleExtent([r,o]),e({maxZoom:o})},setTranslateExtent:o=>{var i;(i=n().d3Zoom)==null||i.translateExtent(o),e({translateExtent:o})},resetSelectedElements:()=>{const{edges:o,getNodes:i}=n(),a=i().filter(c=>c.selected).map(c=>xr(c.id,!1)),l=o.filter(c=>c.selected).map(c=>xr(c.id,!1));To({changedNodes:a,changedEdges:l,get:n,set:e})},setNodeExtent:o=>{const{nodeInternals:i}=n();i.forEach(r=>{r.positionAbsolute=rl(r.position,o)}),e({nodeExtent:o,nodeInternals:new Map(i)})},panBy:o=>{const{transform:i,width:r,height:a,d3Zoom:l,d3Selection:c,translateExtent:u}=n();if(!l||!c||!o.x&&!o.y)return!1;const f=rr.translate(i[0]+o.x,i[1]+o.y).scale(i[2]),h=[[0,0],[r,a]],p=l==null?void 0:l.constrain()(f,h,u);return l.transform(c,p),i[0]!==p.x||i[1]!==p.y||i[2]!==p.k},cancelConnection:()=>e({connectionNodeId:vr.connectionNodeId,connectionHandleId:vr.connectionHandleId,connectionHandleType:vr.connectionHandleType,connectionStatus:vr.connectionStatus,connectionStartHandle:vr.connectionStartHandle,connectionEndHandle:vr.connectionEndHandle}),reset:()=>e({...vr})}),Object.is),dl=({children:e})=>{const n=k.useRef(null);return n.current||(n.current=__()),Y.createElement(z0,{value:n.current},e)};dl.displayName="ReactFlowProvider";const Nf=({children:e})=>k.useContext(da)?Y.createElement(Y.Fragment,null,e):Y.createElement(dl,null,e);Nf.displayName="ReactFlowWrapper";const b_={input:hf,default:Ss,output:mf,group:cl},x_={default:Go,straight:al,step:ol,smoothstep:fa,simplebezier:il},w_=[0,0],C_=[15,15],E_={x:0,y:0,zoom:1},L_={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},If=k.forwardRef(({nodes:e,edges:n,defaultNodes:o,defaultEdges:i,className:r,nodeTypes:a=b_,edgeTypes:l=x_,onNodeClick:c,onEdgeClick:u,onInit:f,onMove:h,onMoveStart:p,onMoveEnd:m,onConnect:v,onConnectStart:E,onConnectEnd:S,onClickConnectStart:P,onClickConnectEnd:b,onNodeMouseEnter:w,onNodeMouseMove:_,onNodeMouseLeave:y,onNodeContextMenu:x,onNodeDoubleClick:A,onNodeDragStart:H,onNodeDrag:D,onNodeDragStop:N,onNodesDelete:U,onEdgesDelete:I,onSelectionChange:B,onSelectionDragStart:M,onSelectionDrag:T,onSelectionDragStop:O,onSelectionContextMenu:j,onSelectionStart:K,onSelectionEnd:V,connectionMode:F=zr.Strict,connectionLineType:Z=wr.Bezier,connectionLineStyle:q,connectionLineComponent:W,connectionLineContainerStyle:J,deleteKeyCode:X="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:te=!1,selectionMode:re=Wi.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:se=$o()?"Meta":"Control",zoomActivationKeyCode:ae=$o()?"Meta":"Control",snapToGrid:le=!1,snapGrid:ye=C_,onlyRenderVisibleElements:oe=!1,selectNodesOnDrag:ce=!0,nodesDraggable:_e,nodesConnectable:Pe,nodesFocusable:Se,nodeOrigin:ue=w_,edgesFocusable:ge,edgesUpdatable:ve,elementsSelectable:we,defaultViewport:Te=E_,minZoom:He=.5,maxZoom:je=2,translateExtent:Ke=Ts,preventScrolling:Ae=!0,nodeExtent:Xe,defaultMarkerColor:at="#b1b1b7",zoomOnScroll:nt=!0,zoomOnPinch:Ve=!0,panOnScroll:Ue=!1,panOnScrollSpeed:Pt=.5,panOnScrollMode:Mt=Ir.Free,zoomOnDoubleClick:Ct=!0,panOnDrag:st=!0,onPaneClick:Ge,onPaneMouseEnter:lt,onPaneMouseMove:Yt,onPaneMouseLeave:ft,onPaneScroll:ct,onPaneContextMenu:Xt,children:bt,onEdgeUpdate:Ft,onEdgeContextMenu:$e,onEdgeDoubleClick:Oe,onEdgeMouseEnter:Et,onEdgeMouseMove:Tt,onEdgeMouseLeave:Jt,onEdgeUpdateStart:Ht,onEdgeUpdateEnd:pn,edgeUpdaterRadius:mn=10,onNodesChange:ht,onEdgesChange:gn,noDragClassName:mt="nodrag",noWheelClassName:me="nowheel",noPanClassName:Kt="nopan",fitView:vn=!1,fitViewOptions:zt,connectOnClick:Bt=!0,attributionPosition:gt,proOptions:qt,defaultEdgeOptions:be,elevateNodesOnSelect:Ce=!0,elevateEdgesOnSelect:Ie=!1,disableKeyboardA11y:qe=!1,autoPanOnConnect:Nt=!0,autoPanOnNodeDrag:rt=!0,connectionRadius:jt=20,isValidConnection:Vn,onError:Qt,style:yn,id:It,nodeDragThreshold:cr,...Sr},_n)=>{const rn=It||"1";return Y.createElement("div",{...Sr,style:{...yn,...L_},ref:_n,className:Dt(["react-flow",r]),"data-testid":"rf__wrapper",id:It},Y.createElement(Nf,null,Y.createElement(y_,{onInit:f,onMove:h,onMoveStart:p,onMoveEnd:m,onNodeClick:c,onEdgeClick:u,onNodeMouseEnter:w,onNodeMouseMove:_,onNodeMouseLeave:y,onNodeContextMenu:x,onNodeDoubleClick:A,nodeTypes:a,edgeTypes:l,connectionLineType:Z,connectionLineStyle:q,connectionLineComponent:W,connectionLineContainerStyle:J,selectionKeyCode:ee,selectionOnDrag:te,selectionMode:re,deleteKeyCode:X,multiSelectionKeyCode:se,panActivationKeyCode:ie,zoomActivationKeyCode:ae,onlyRenderVisibleElements:oe,selectNodesOnDrag:ce,defaultViewport:Te,translateExtent:Ke,minZoom:He,maxZoom:je,preventScrolling:Ae,zoomOnScroll:nt,zoomOnPinch:Ve,zoomOnDoubleClick:Ct,panOnScroll:Ue,panOnScrollSpeed:Pt,panOnScrollMode:Mt,panOnDrag:st,onPaneClick:Ge,onPaneMouseEnter:lt,onPaneMouseMove:Yt,onPaneMouseLeave:ft,onPaneScroll:ct,onPaneContextMenu:Xt,onSelectionContextMenu:j,onSelectionStart:K,onSelectionEnd:V,onEdgeUpdate:Ft,onEdgeContextMenu:$e,onEdgeDoubleClick:Oe,onEdgeMouseEnter:Et,onEdgeMouseMove:Tt,onEdgeMouseLeave:Jt,onEdgeUpdateStart:Ht,onEdgeUpdateEnd:pn,edgeUpdaterRadius:mn,defaultMarkerColor:at,noDragClassName:mt,noWheelClassName:me,noPanClassName:Kt,elevateEdgesOnSelect:Ie,rfId:rn,disableKeyboardA11y:qe,nodeOrigin:ue,nodeExtent:Xe}),Y.createElement(py,{nodes:e,edges:n,defaultNodes:o,defaultEdges:i,onConnect:v,onConnectStart:E,onConnectEnd:S,onClickConnectStart:P,onClickConnectEnd:b,nodesDraggable:_e,nodesConnectable:Pe,nodesFocusable:Se,edgesFocusable:ge,edgesUpdatable:ve,elementsSelectable:we,elevateNodesOnSelect:Ce,minZoom:He,maxZoom:je,nodeExtent:Xe,onNodesChange:ht,onEdgesChange:gn,snapToGrid:le,snapGrid:ye,connectionMode:F,translateExtent:Ke,connectOnClick:Bt,defaultEdgeOptions:be,fitView:vn,fitViewOptions:zt,onNodesDelete:U,onEdgesDelete:I,onNodeDragStart:H,onNodeDrag:D,onNodeDragStop:N,onSelectionDrag:T,onSelectionDragStart:M,onSelectionDragStop:O,noPanClassName:Kt,nodeOrigin:ue,rfId:rn,autoPanOnConnect:Nt,autoPanOnNodeDrag:rt,onError:Qt,connectionRadius:jt,isValidConnection:Vn,nodeDragThreshold:cr}),Y.createElement(fy,{onSelectionChange:B}),bt,Y.createElement(j0,{proOptions:qt,position:gt}),Y.createElement(_y,{rfId:rn,disableKeyboardA11y:qe})))});If.displayName="ReactFlow";const Of=({id:e,x:n,y:o,width:i,height:r,style:a,color:l,strokeColor:c,strokeWidth:u,className:f,borderRadius:h,shapeRendering:p,onClick:m,selected:v})=>{const{background:E,backgroundColor:S}=a||{},P=l||E||S;return Y.createElement("rect",{className:Dt(["react-flow__minimap-node",{selected:v},f]),x:n,y:o,rx:h,ry:h,width:i,height:r,fill:P,stroke:c,strokeWidth:u,shapeRendering:p,onClick:m?b=>m(b,e):void 0})};Of.displayName="MiniMapNode";var S_=k.memo(Of);const M_=e=>e.nodeOrigin,T_=e=>e.getNodes().filter(n=>!n.hidden&&n.width&&n.height),ts=e=>e instanceof Function?e:()=>e;function k_({nodeStrokeColor:e="transparent",nodeColor:n="#e2e2e2",nodeClassName:o="",nodeBorderRadius:i=5,nodeStrokeWidth:r=2,nodeComponent:a=S_,onClick:l}){const c=Ye(T_,pt),u=Ye(M_),f=ts(n),h=ts(e),p=ts(o),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return Y.createElement(Y.Fragment,null,c.map(v=>{const{x:E,y:S}=Rr(v,u).positionAbsolute;return Y.createElement(a,{key:v.id,x:E,y:S,width:v.width,height:v.height,style:v.style,selected:v.selected,className:p(v),color:f(v),borderRadius:i,strokeColor:h(v),strokeWidth:r,shapeRendering:m,onClick:l,id:v.id})}))}var A_=k.memo(k_);const D_=200,P_=150,N_=e=>{const n=e.getNodes(),o={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:o,boundingRect:n.length>0?Z0(ha(n,e.nodeOrigin),o):o,rfId:e.rfId}},I_="react-flow__minimap-desc";function Rf({style:e,className:n,nodeStrokeColor:o="transparent",nodeColor:i="#e2e2e2",nodeClassName:r="",nodeBorderRadius:a=5,nodeStrokeWidth:l=2,nodeComponent:c,maskColor:u="rgb(240, 240, 240, 0.6)",maskStrokeColor:f="none",maskStrokeWidth:h=1,position:p="bottom-right",onClick:m,onNodeClick:v,pannable:E=!1,zoomable:S=!1,ariaLabel:P="React Flow mini map",inversePan:b=!1,zoomStep:w=10,offsetScale:_=5}){const y=_t(),x=k.useRef(null),{boundingRect:A,viewBB:H,rfId:D}=Ye(N_,pt),N=(e==null?void 0:e.width)??D_,U=(e==null?void 0:e.height)??P_,I=A.width/N,B=A.height/U,M=Math.max(I,B),T=M*N,O=M*U,j=_*M,K=A.x-(T-A.width)/2-j,V=A.y-(O-A.height)/2-j,F=T+j*2,Z=O+j*2,q=`${I_}-${D}`,W=k.useRef(0);W.current=M,k.useEffect(()=>{if(x.current){const ee=en(x.current),te=se=>{const{transform:ae,d3Selection:le,d3Zoom:ye}=y.getState();if(se.sourceEvent.type!=="wheel"||!le||!ye)return;const oe=-se.sourceEvent.deltaY*(se.sourceEvent.deltaMode===1?.05:se.sourceEvent.deltaMode?1:.002)*w,ce=ae[2]*Math.pow(2,oe);ye.scaleTo(le,ce)},re=se=>{const{transform:ae,d3Selection:le,d3Zoom:ye,translateExtent:oe,width:ce,height:_e}=y.getState();if(se.sourceEvent.type!=="mousemove"||!le||!ye)return;const Pe=W.current*Math.max(1,ae[2])*(b?-1:1),Se={x:ae[0]-se.sourceEvent.movementX*Pe,y:ae[1]-se.sourceEvent.movementY*Pe},ue=[[0,0],[ce,_e]],ge=rr.translate(Se.x,Se.y).scale(ae[2]),ve=ye.constrain()(ge,ue,oe);ye.transform(le,ve)},ie=Fd().on("zoom",E?re:null).on("zoom.wheel",S?te:null);return ee.call(ie),()=>{ee.on("zoom",null)}}},[E,S,b,w]);const J=m?ee=>{const te=Sn(ee);m(ee,{x:te[0],y:te[1]})}:void 0,X=v?(ee,te)=>{const re=y.getState().nodeInternals.get(te);v(ee,re)}:void 0;return Y.createElement(tl,{position:p,style:e,className:Dt(["react-flow__minimap",n]),"data-testid":"rf__minimap"},Y.createElement("svg",{width:N,height:U,viewBox:`${K} ${V} ${F} ${Z}`,role:"img","aria-labelledby":q,ref:x,onClick:J},P&&Y.createElement("title",{id:q},P),Y.createElement(A_,{onClick:X,nodeColor:i,nodeStrokeColor:o,nodeBorderRadius:a,nodeClassName:r,nodeStrokeWidth:l,nodeComponent:c}),Y.createElement("path",{className:"react-flow__minimap-mask",d:`M${K-j},${V-j}h${F+j*2}v${Z+j*2}h${-F-j*2}z
        M${H.x},${H.y}h${H.width}v${H.height}h${-H.width}z`,fill:u,fillRule:"evenodd",stroke:f,strokeWidth:h,pointerEvents:"none"})))}Rf.displayName="MiniMap";var O_=k.memo(Rf);function R_(){return Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},Y.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function H_(){return Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},Y.createElement("path",{d:"M0 0h32v4.2H0z"}))}function z_(){return Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},Y.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function B_(){return Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Y.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function j_(){return Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},Y.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Ri=({children:e,className:n,...o})=>Y.createElement("button",{type:"button",className:Dt(["react-flow__controls-button",n]),...o},e);Ri.displayName="ControlButton";const U_=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Hf=({style:e,showZoom:n=!0,showFitView:o=!0,showInteractive:i=!0,fitViewOptions:r,onZoomIn:a,onZoomOut:l,onFitView:c,onInteractiveChange:u,className:f,children:h,position:p="bottom-left"})=>{const m=_t(),[v,E]=k.useState(!1),{isInteractive:S,minZoomReached:P,maxZoomReached:b}=Ye(U_,pt),{zoomIn:w,zoomOut:_,fitView:y}=pa();if(k.useEffect(()=>{E(!0)},[]),!v)return null;const x=()=>{w(),a==null||a()},A=()=>{_(),l==null||l()},H=()=>{y(r),c==null||c()},D=()=>{m.setState({nodesDraggable:!S,nodesConnectable:!S,elementsSelectable:!S}),u==null||u(!S)};return Y.createElement(tl,{className:Dt(["react-flow__controls",f]),position:p,style:e,"data-testid":"rf__controls"},n&&Y.createElement(Y.Fragment,null,Y.createElement(Ri,{onClick:x,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b},Y.createElement(R_,null)),Y.createElement(Ri,{onClick:A,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:P},Y.createElement(H_,null))),o&&Y.createElement(Ri,{className:"react-flow__controls-fitview",onClick:H,title:"fit view","aria-label":"fit view"},Y.createElement(z_,null)),i&&Y.createElement(Ri,{className:"react-flow__controls-interactive",onClick:D,title:"toggle interactivity","aria-label":"toggle interactivity"},S?Y.createElement(j_,null):Y.createElement(B_,null)),h)};Hf.displayName="Controls";var V_=k.memo(Hf),fn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(fn||(fn={}));function Z_({color:e,dimensions:n,lineWidth:o}){return Y.createElement("path",{stroke:e,strokeWidth:o,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`})}function F_({color:e,radius:n}){return Y.createElement("circle",{cx:n,cy:n,r:n,fill:e})}const K_={[fn.Dots]:"#91919a",[fn.Lines]:"#eee",[fn.Cross]:"#e2e2e2"},q_={[fn.Dots]:1,[fn.Lines]:1,[fn.Cross]:6},$_=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function zf({id:e,variant:n=fn.Dots,gap:o=20,size:i,lineWidth:r=1,offset:a=2,color:l,style:c,className:u}){const f=k.useRef(null),{transform:h,patternId:p}=Ye($_,pt),m=l||K_[n],v=i||q_[n],E=n===fn.Dots,S=n===fn.Cross,P=Array.isArray(o)?o:[o,o],b=[P[0]*h[2]||1,P[1]*h[2]||1],w=v*h[2],_=S?[w,w]:b,y=E?[w/a,w/a]:[_[0]/a,_[1]/a];return Y.createElement("svg",{className:Dt(["react-flow__background",u]),style:{...c,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:f,"data-testid":"rf__background"},Y.createElement("pattern",{id:p+e,x:h[0]%b[0],y:h[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${y[0]},-${y[1]})`},E?Y.createElement(F_,{color:m,radius:w/a}):Y.createElement(Z_,{dimensions:_,color:m,lineWidth:r})),Y.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${p+e})`}))}zf.displayName="Background";var W_=k.memo(zf);function G_({data:e}){const{image:n,matrixString:o,w:i,h:r}=(e==null?void 0:e.bg)||{},a=k.useMemo(()=>({position:"relative",left:0,top:0,pointerEvents:"none",width:i,height:r}),[i,r]);return console.log("NodeBg",n,a),z.jsx("img",{src:n,style:a,alt:""})}var Y_=kp;function X_(e,n,o){for(var i=-1,r=e.length;++i<r;){var a=e[i],l=n(a);if(l!=null&&(c===void 0?l===l&&!Y_(l):o(l,c)))var c=l,u=a}return u}var Bf=X_;function J_(e,n){return e>n}var Q_=J_,e2=Bf,t2=Q_,n2=Zs;function r2(e){return e&&e.length?e2(e,n2,t2):void 0}var i2=r2;const eu=pi(i2);function o2(e,n){return e<n}var a2=o2,s2=Bf,l2=a2,c2=Zs;function u2(e){return e&&e.length?s2(e,c2,l2):void 0}var d2=u2;const tu=pi(d2);function Pi({domNode:e,onDragStart:n,onDrag:o,onDragStop:i}){let r=!1,a=0,l=0,c=0;const u=en(e),f=Ad().on("start",p=>{a=0,l=0,n==null||n({...p,tdx:a,tdy:l}),r=!0}).on("drag",p=>{a+=p.dx,l+=p.dy;const m=new Date().getTime();m-c>80&&(o==null||o({...p,tdx:a,tdy:l}),c=m)}).on("end",p=>{r&&(r=!1,a+=p.dx,l+=p.dy,i==null||i({...p,tdx:a,tdy:l}))}).filter(p=>!0);u.call(f);function h(){u.on(".drag",null)}return h}var f2={exports:{}};(function(e,n){(function(o){e.exports=o()})(function(o){var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(b,w){var _=b[0],y=b[1],x=b[2],A=b[3];_+=(y&x|~y&A)+w[0]-680876936|0,_=(_<<7|_>>>25)+y|0,A+=(_&y|~_&x)+w[1]-389564586|0,A=(A<<12|A>>>20)+_|0,x+=(A&_|~A&y)+w[2]+606105819|0,x=(x<<17|x>>>15)+A|0,y+=(x&A|~x&_)+w[3]-1044525330|0,y=(y<<22|y>>>10)+x|0,_+=(y&x|~y&A)+w[4]-176418897|0,_=(_<<7|_>>>25)+y|0,A+=(_&y|~_&x)+w[5]+1200080426|0,A=(A<<12|A>>>20)+_|0,x+=(A&_|~A&y)+w[6]-1473231341|0,x=(x<<17|x>>>15)+A|0,y+=(x&A|~x&_)+w[7]-45705983|0,y=(y<<22|y>>>10)+x|0,_+=(y&x|~y&A)+w[8]+1770035416|0,_=(_<<7|_>>>25)+y|0,A+=(_&y|~_&x)+w[9]-1958414417|0,A=(A<<12|A>>>20)+_|0,x+=(A&_|~A&y)+w[10]-42063|0,x=(x<<17|x>>>15)+A|0,y+=(x&A|~x&_)+w[11]-1990404162|0,y=(y<<22|y>>>10)+x|0,_+=(y&x|~y&A)+w[12]+1804603682|0,_=(_<<7|_>>>25)+y|0,A+=(_&y|~_&x)+w[13]-40341101|0,A=(A<<12|A>>>20)+_|0,x+=(A&_|~A&y)+w[14]-1502002290|0,x=(x<<17|x>>>15)+A|0,y+=(x&A|~x&_)+w[15]+1236535329|0,y=(y<<22|y>>>10)+x|0,_+=(y&A|x&~A)+w[1]-165796510|0,_=(_<<5|_>>>27)+y|0,A+=(_&x|y&~x)+w[6]-1069501632|0,A=(A<<9|A>>>23)+_|0,x+=(A&y|_&~y)+w[11]+643717713|0,x=(x<<14|x>>>18)+A|0,y+=(x&_|A&~_)+w[0]-373897302|0,y=(y<<20|y>>>12)+x|0,_+=(y&A|x&~A)+w[5]-701558691|0,_=(_<<5|_>>>27)+y|0,A+=(_&x|y&~x)+w[10]+38016083|0,A=(A<<9|A>>>23)+_|0,x+=(A&y|_&~y)+w[15]-660478335|0,x=(x<<14|x>>>18)+A|0,y+=(x&_|A&~_)+w[4]-405537848|0,y=(y<<20|y>>>12)+x|0,_+=(y&A|x&~A)+w[9]+568446438|0,_=(_<<5|_>>>27)+y|0,A+=(_&x|y&~x)+w[14]-1019803690|0,A=(A<<9|A>>>23)+_|0,x+=(A&y|_&~y)+w[3]-187363961|0,x=(x<<14|x>>>18)+A|0,y+=(x&_|A&~_)+w[8]+1163531501|0,y=(y<<20|y>>>12)+x|0,_+=(y&A|x&~A)+w[13]-1444681467|0,_=(_<<5|_>>>27)+y|0,A+=(_&x|y&~x)+w[2]-51403784|0,A=(A<<9|A>>>23)+_|0,x+=(A&y|_&~y)+w[7]+1735328473|0,x=(x<<14|x>>>18)+A|0,y+=(x&_|A&~_)+w[12]-1926607734|0,y=(y<<20|y>>>12)+x|0,_+=(y^x^A)+w[5]-378558|0,_=(_<<4|_>>>28)+y|0,A+=(_^y^x)+w[8]-2022574463|0,A=(A<<11|A>>>21)+_|0,x+=(A^_^y)+w[11]+1839030562|0,x=(x<<16|x>>>16)+A|0,y+=(x^A^_)+w[14]-35309556|0,y=(y<<23|y>>>9)+x|0,_+=(y^x^A)+w[1]-1530992060|0,_=(_<<4|_>>>28)+y|0,A+=(_^y^x)+w[4]+1272893353|0,A=(A<<11|A>>>21)+_|0,x+=(A^_^y)+w[7]-155497632|0,x=(x<<16|x>>>16)+A|0,y+=(x^A^_)+w[10]-1094730640|0,y=(y<<23|y>>>9)+x|0,_+=(y^x^A)+w[13]+681279174|0,_=(_<<4|_>>>28)+y|0,A+=(_^y^x)+w[0]-358537222|0,A=(A<<11|A>>>21)+_|0,x+=(A^_^y)+w[3]-722521979|0,x=(x<<16|x>>>16)+A|0,y+=(x^A^_)+w[6]+76029189|0,y=(y<<23|y>>>9)+x|0,_+=(y^x^A)+w[9]-640364487|0,_=(_<<4|_>>>28)+y|0,A+=(_^y^x)+w[12]-421815835|0,A=(A<<11|A>>>21)+_|0,x+=(A^_^y)+w[15]+530742520|0,x=(x<<16|x>>>16)+A|0,y+=(x^A^_)+w[2]-995338651|0,y=(y<<23|y>>>9)+x|0,_+=(x^(y|~A))+w[0]-198630844|0,_=(_<<6|_>>>26)+y|0,A+=(y^(_|~x))+w[7]+1126891415|0,A=(A<<10|A>>>22)+_|0,x+=(_^(A|~y))+w[14]-1416354905|0,x=(x<<15|x>>>17)+A|0,y+=(A^(x|~_))+w[5]-57434055|0,y=(y<<21|y>>>11)+x|0,_+=(x^(y|~A))+w[12]+1700485571|0,_=(_<<6|_>>>26)+y|0,A+=(y^(_|~x))+w[3]-1894986606|0,A=(A<<10|A>>>22)+_|0,x+=(_^(A|~y))+w[10]-1051523|0,x=(x<<15|x>>>17)+A|0,y+=(A^(x|~_))+w[1]-2054922799|0,y=(y<<21|y>>>11)+x|0,_+=(x^(y|~A))+w[8]+1873313359|0,_=(_<<6|_>>>26)+y|0,A+=(y^(_|~x))+w[15]-30611744|0,A=(A<<10|A>>>22)+_|0,x+=(_^(A|~y))+w[6]-1560198380|0,x=(x<<15|x>>>17)+A|0,y+=(A^(x|~_))+w[13]+1309151649|0,y=(y<<21|y>>>11)+x|0,_+=(x^(y|~A))+w[4]-145523070|0,_=(_<<6|_>>>26)+y|0,A+=(y^(_|~x))+w[11]-1120210379|0,A=(A<<10|A>>>22)+_|0,x+=(_^(A|~y))+w[2]+718787259|0,x=(x<<15|x>>>17)+A|0,y+=(A^(x|~_))+w[9]-343485551|0,y=(y<<21|y>>>11)+x|0,b[0]=_+b[0]|0,b[1]=y+b[1]|0,b[2]=x+b[2]|0,b[3]=A+b[3]|0}function a(b){var w=[],_;for(_=0;_<64;_+=4)w[_>>2]=b.charCodeAt(_)+(b.charCodeAt(_+1)<<8)+(b.charCodeAt(_+2)<<16)+(b.charCodeAt(_+3)<<24);return w}function l(b){var w=[],_;for(_=0;_<64;_+=4)w[_>>2]=b[_]+(b[_+1]<<8)+(b[_+2]<<16)+(b[_+3]<<24);return w}function c(b){var w=b.length,_=[1732584193,-271733879,-1732584194,271733878],y,x,A,H,D,N;for(y=64;y<=w;y+=64)r(_,a(b.substring(y-64,y)));for(b=b.substring(y-64),x=b.length,A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=0;y<x;y+=1)A[y>>2]|=b.charCodeAt(y)<<(y%4<<3);if(A[y>>2]|=128<<(y%4<<3),y>55)for(r(_,A),y=0;y<16;y+=1)A[y]=0;return H=w*8,H=H.toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(H[2],16),N=parseInt(H[1],16)||0,A[14]=D,A[15]=N,r(_,A),_}function u(b){var w=b.length,_=[1732584193,-271733879,-1732584194,271733878],y,x,A,H,D,N;for(y=64;y<=w;y+=64)r(_,l(b.subarray(y-64,y)));for(b=y-64<w?b.subarray(y-64):new Uint8Array(0),x=b.length,A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],y=0;y<x;y+=1)A[y>>2]|=b[y]<<(y%4<<3);if(A[y>>2]|=128<<(y%4<<3),y>55)for(r(_,A),y=0;y<16;y+=1)A[y]=0;return H=w*8,H=H.toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(H[2],16),N=parseInt(H[1],16)||0,A[14]=D,A[15]=N,r(_,A),_}function f(b){var w="",_;for(_=0;_<4;_+=1)w+=i[b>>_*8+4&15]+i[b>>_*8&15];return w}function h(b){var w;for(w=0;w<b.length;w+=1)b[w]=f(b[w]);return b.join("")}h(c("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function b(w,_){return w=w|0||0,w<0?Math.max(w+_,0):Math.min(w,_)}ArrayBuffer.prototype.slice=function(w,_){var y=this.byteLength,x=b(w,y),A=y,H,D,N,U;return _!==o&&(A=b(_,y)),x>A?new ArrayBuffer(0):(H=A-x,D=new ArrayBuffer(H),N=new Uint8Array(D),U=new Uint8Array(this,x,H),N.set(U),D)}}();function p(b){return/[\u0080-\uFFFF]/.test(b)&&(b=unescape(encodeURIComponent(b))),b}function m(b,w){var _=b.length,y=new ArrayBuffer(_),x=new Uint8Array(y),A;for(A=0;A<_;A+=1)x[A]=b.charCodeAt(A);return w?x:y}function v(b){return String.fromCharCode.apply(null,new Uint8Array(b))}function E(b,w,_){var y=new Uint8Array(b.byteLength+w.byteLength);return y.set(new Uint8Array(b)),y.set(new Uint8Array(w),b.byteLength),_?y:y.buffer}function S(b){var w=[],_=b.length,y;for(y=0;y<_-1;y+=2)w.push(parseInt(b.substr(y,2),16));return String.fromCharCode.apply(String,w)}function P(){this.reset()}return P.prototype.append=function(b){return this.appendBinary(p(b)),this},P.prototype.appendBinary=function(b){this._buff+=b,this._length+=b.length;var w=this._buff.length,_;for(_=64;_<=w;_+=64)r(this._hash,a(this._buff.substring(_-64,_)));return this._buff=this._buff.substring(_-64),this},P.prototype.end=function(b){var w=this._buff,_=w.length,y,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],A;for(y=0;y<_;y+=1)x[y>>2]|=w.charCodeAt(y)<<(y%4<<3);return this._finish(x,_),A=h(this._hash),b&&(A=S(A)),this.reset(),A},P.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},P.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},P.prototype.setState=function(b){return this._buff=b.buff,this._length=b.length,this._hash=b.hash,this},P.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},P.prototype._finish=function(b,w){var _=w,y,x,A;if(b[_>>2]|=128<<(_%4<<3),_>55)for(r(this._hash,b),_=0;_<16;_+=1)b[_]=0;y=this._length*8,y=y.toString(16).match(/(.*?)(.{0,8})$/),x=parseInt(y[2],16),A=parseInt(y[1],16)||0,b[14]=x,b[15]=A,r(this._hash,b)},P.hash=function(b,w){return P.hashBinary(p(b),w)},P.hashBinary=function(b,w){var _=c(b),y=h(_);return w?S(y):y},P.ArrayBuffer=function(){this.reset()},P.ArrayBuffer.prototype.append=function(b){var w=E(this._buff.buffer,b,!0),_=w.length,y;for(this._length+=b.byteLength,y=64;y<=_;y+=64)r(this._hash,l(w.subarray(y-64,y)));return this._buff=y-64<_?new Uint8Array(w.buffer.slice(y-64)):new Uint8Array(0),this},P.ArrayBuffer.prototype.end=function(b){var w=this._buff,_=w.length,y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x,A;for(x=0;x<_;x+=1)y[x>>2]|=w[x]<<(x%4<<3);return this._finish(y,_),A=h(this._hash),b&&(A=S(A)),this.reset(),A},P.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},P.ArrayBuffer.prototype.getState=function(){var b=P.prototype.getState.call(this);return b.buff=v(b.buff),b},P.ArrayBuffer.prototype.setState=function(b){return b.buff=m(b.buff,!0),P.prototype.setState.call(this,b)},P.ArrayBuffer.prototype.destroy=P.prototype.destroy,P.ArrayBuffer.prototype._finish=P.prototype._finish,P.ArrayBuffer.hash=function(b,w){var _=u(new Uint8Array(b)),y=h(_);return w?S(y):y},P})})(f2);const h2=Object.prototype.toString;function p2(e){switch(h2.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return e===null?"null":e===void 0?"undefined":e!==e?"nan":e&&e.nodeType===1?"element":m2(e)?"buffer":(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),typeof e)}function m2(e){return!!(e!=null&&(e._isBuffer||e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)))}const ut=({name:e,color:n="#333",size:o=24,style:i,...r})=>{const l=p2(n)==="array"?n:[n];return z.jsxs("svg",{viewBox:"0 0 24 24",fill:l[0],style:i,...r,width:o,children:[z.jsx("symbol",{id:"icon-point",children:z.jsx("path",{d:"M15.1935 19.9282C15.1176 19.9916 15.0299 20.0393 14.9355 20.0686C14.8411 20.0979 14.7418 20.1082 14.6433 20.0991C14.5449 20.0899 14.4493 20.0613 14.3619 20.015C14.2746 19.9687 14.1972 19.9056 14.1343 19.8293C14.0715 19.753 14.0243 19.6651 13.9955 19.5705C13.9668 19.4759 13.957 19.3765 13.9668 19.2782C13.9765 19.1798 14.0057 19.0843 14.0525 18.9972C14.0993 18.9101 14.1628 18.8332 14.2395 18.7708C17.7727 15.86 19.5 13.2665 19.5 11.0407C19.5 6.87525 16.1412 3.5 12 3.5C7.85875 3.5 4.5 6.87525 4.5 11.0407C4.5 13.7415 7.041 16.9715 12.215 20.6383C12.3773 20.7533 12.4872 20.9281 12.5206 21.1242C12.554 21.3203 12.5082 21.5216 12.3931 21.6839C12.2781 21.8462 12.1033 21.9561 11.9072 21.9895C11.7111 22.0229 11.5098 21.977 11.3475 21.862C5.813 17.9398 3 14.3637 3 11.0407C3 6.0485 7.0285 2 12 2C16.9715 2 21 6.0485 21 11.0407C21 13.8152 19.0382 16.7607 15.1935 19.9282ZM12 14.5C10.067 14.5 8.5 12.933 8.5 11C8.5 9.067 10.067 7.5 12 7.5C13.933 7.5 15.5 9.067 15.5 11C15.5 12.933 13.933 14.5 12 14.5ZM12 13C12.5304 13 13.0391 12.7893 13.4142 12.4142C13.7893 12.0391 14 11.5304 14 11C14 10.4696 13.7893 9.96086 13.4142 9.58579C13.0391 9.21071 12.5304 9 12 9C11.4696 9 10.9609 9.21071 10.5858 9.58579C10.2107 9.96086 10 10.4696 10 11C10 11.5304 10.2107 12.0391 10.5858 12.4142C10.9609 12.7893 11.4696 13 12 13Z"})}),z.jsx("symbol",{id:"icon-circle",children:z.jsx("path",{d:"M11.9998 19.9996C7.58869 19.9996 4 16.4109 4 11.9998C4 7.58869 7.58869 4 11.9998 4C16.411 4 20 7.58869 20 11.9998C20 16.4109 16.411 19.9996 11.9998 19.9996ZM11.9998 5.2963C8.30333 5.2963 5.2963 8.30333 5.2963 11.9998C5.2963 15.6963 8.30333 18.7033 11.9998 18.7033C15.6967 18.7033 18.7037 15.6963 18.7037 11.9998C18.7037 8.30333 15.6967 5.2963 11.9998 5.2963Z"})}),z.jsx("symbol",{id:"icon-rectangle",children:z.jsx("path",{d:"M17.8899 20.0009H6.11012C4.94659 20.0009 4 19.0541 4 17.8902V6.11101C4 4.94713 4.94677 4 6.11012 4H17.8899C19.0534 4 20 4.94713 20 6.11101V17.8902C20 19.0541 19.0534 20.0009 17.8899 20.0009ZM6.11012 5.38636C5.71113 5.38636 5.38564 5.71149 5.38564 6.11084V17.8901C5.38564 18.2896 5.71113 18.6142 6.11012 18.6142H17.8899C18.2889 18.6142 18.6144 18.2896 18.6144 17.8901V6.11101C18.6144 5.71149 18.2889 5.38654 17.8899 5.38654H6.11012V5.38636Z"})}),z.jsx("symbol",{id:"icon-polygon",children:z.jsx("path",{d:"M15.0103 19.3894H8.98969C8.28435 19.3894 7.62701 19.0099 7.27461 18.3987L4.2643 13.1848C3.9119 12.5742 3.9119 11.815 4.2643 11.2044L7.27461 5.99065C7.62701 5.3797 8.28453 5 8.98969 5H15.0103C15.7156 5 16.373 5.37952 16.7254 5.99065L19.7357 11.2044C20.0881 11.815 20.0881 12.5742 19.7357 13.1848L16.7254 18.3987C16.373 19.0097 15.7156 19.3894 15.0103 19.3894ZM8.98969 6.19388C8.70955 6.19388 8.44815 6.3443 8.30791 6.58714L5.2976 11.8009C5.15771 12.0437 5.15771 12.3455 5.2976 12.5883L8.30791 17.8021C8.44815 18.0449 8.70955 18.1953 8.98969 18.1953H15.0103C15.2904 18.1953 15.5518 18.0449 15.6921 17.8021L18.7024 12.5883C18.8423 12.3455 18.8423 12.0437 18.7024 11.8009L15.6921 6.58714C15.5518 6.3443 15.2904 6.19388 15.0103 6.19388H8.98969Z"})}),z.jsxs("symbol",{id:"icon-list",children:[z.jsx("path",{d:"M9.40376 6.28529H19.2382C19.6589 6.28529 20 5.94424 20 5.52353C20 5.10282 19.6589 4.76176 19.2382 4.76176H9.40376C8.98306 4.76176 8.642 5.10282 8.642 5.52353C8.642 5.94424 8.98306 6.28529 9.40376 6.28529ZM9.40355 12.3608H19.2019C19.6226 12.3608 19.9637 12.0197 19.9637 11.599C19.9637 11.1783 19.6226 10.8372 19.2019 10.8372H9.40355C8.98284 10.8372 8.64179 11.1783 8.64179 11.599C8.64179 12.0197 8.98284 12.3608 9.40355 12.3608ZM19.2382 16.9464H9.40376C8.98306 16.9464 8.642 17.2875 8.642 17.7082C8.642 18.1289 8.98306 18.4699 9.40376 18.4699H19.2382C19.6589 18.4699 20 18.1289 20 17.7082C20 17.2875 19.6589 16.9464 19.2382 16.9464Z"}),z.jsx("path",{d:"M4 5.52353C4 5.92759 4.16051 6.31511 4.44623 6.60083C4.73195 6.88654 5.11946 7.04706 5.52353 7.04706C5.92759 7.04706 6.31511 6.88654 6.60083 6.60083C6.88654 6.31511 7.04706 5.92759 7.04706 5.52353C7.04706 5.11946 6.88654 4.73195 6.60083 4.44623C6.31511 4.16051 5.92759 4 5.52353 4C5.11946 4 4.73195 4.16051 4.44623 4.44623C4.16051 4.73195 4 5.11946 4 5.52353Z"}),z.jsx("path",{d:"M4 11.5899C4 11.9939 4.16051 12.3815 4.44623 12.6672C4.73195 12.9529 5.11946 13.1134 5.52353 13.1134C5.92759 13.1134 6.31511 12.9529 6.60083 12.6672C6.88654 12.3815 7.04706 11.9939 7.04706 11.5899C7.04706 11.1858 6.88654 10.7983 6.60083 10.5126C6.31511 10.2269 5.92759 10.0664 5.52353 10.0664C5.11946 10.0664 4.73195 10.2269 4.44623 10.5126C4.16051 10.7983 4 11.1858 4 11.5899Z"}),z.jsx("path",{d:"M4 17.7038C4 18.1079 4.16051 18.4954 4.44623 18.7811C4.73195 19.0669 5.11946 19.2274 5.52353 19.2274C5.92759 19.2274 6.31511 19.0669 6.60083 18.7811C6.88654 18.4954 7.04706 18.1079 7.04706 17.7038C7.04706 17.2998 6.88654 16.9123 6.60083 16.6266C6.31511 16.3408 5.92759 16.1803 5.52353 16.1803C5.11946 16.1803 4.73195 16.3408 4.44623 16.6266C4.16051 16.9123 4 17.2998 4 17.7038Z"})]}),z.jsxs("symbol",{id:"icon-add-sibling",children:[z.jsx("path",{d:"M14.4462 16.735H14.0898V7.26505H17.2156V8.28032C17.2156 8.62713 17.4913 8.90925 17.8302 8.90925C18.1692 8.90925 18.4449 8.62713 18.4449 8.28032V6.63612C18.4449 6.28931 18.1692 6.00719 17.8302 6.00719H13.4751C13.1362 6.00719 12.8605 6.28931 12.8605 6.63612V11.3711H8.98478V7.04223C8.98478 6.46721 8.52819 6 7.96624 6H4.01854C3.45659 6 3 6.46721 3 7.04223V16.9578C3 17.5328 3.45659 18 4.01854 18H7.96624C8.52819 18 8.98478 17.5328 8.98478 16.9578V12.6289H12.8605V17.3639C12.8605 17.7107 13.1362 17.9928 13.4751 17.9928H14.4462C14.7852 17.9928 15.0609 17.7107 15.0609 17.3639C15.0609 17.0171 14.7852 16.735 14.4462 16.735ZM7.75551 16.7421H4.22927V7.25786H7.75551V16.7421Z"}),z.jsx("path",{d:"M20.3854 14.5067H18.8224V12.9075C18.8224 12.5606 18.5467 12.2785 18.2078 12.2785C17.8689 12.2785 17.5932 12.5606 17.5932 12.9075V14.5067H16.0302C15.6913 14.5067 15.4156 14.7889 15.4156 15.1357C15.4156 15.4825 15.6913 15.7646 16.0302 15.7646H17.5932V17.3639C17.5932 17.7107 17.8689 17.9928 18.2078 17.9928C18.5467 17.9928 18.8224 17.7107 18.8224 17.3639V15.7646H20.3854C20.7243 15.7646 21 15.4825 21 15.1357C21 14.7889 20.7243 14.5067 20.3854 14.5067Z"})]}),z.jsxs("symbol",{id:"icon-add-child",children:[z.jsx("path",{d:"M20.3871 11.7908H9.21656C8.87859 11.7908 8.60366 12.0668 8.60366 12.4061V14.6016H6.18708V8.99063H13.6785C14.2388 8.99063 14.6941 8.53359 14.6941 7.97109V4.01953C14.6941 3.45703 14.2406 3 13.6785 3H4.01566C3.4553 3 3 3.45703 3 4.01953V7.97109C3 8.53359 3.4553 8.99063 4.01566 8.99063H4.96128V15.1113C4.96128 15.3451 5.09086 15.5473 5.27999 15.651C5.39031 15.7617 5.54441 15.832 5.71427 15.832H8.60366V18.3967C8.60366 18.7359 8.87859 19.0119 9.21656 19.0119H13.1741C13.5121 19.0119 13.787 18.7359 13.787 18.3967C13.787 18.0574 13.5121 17.7814 13.1741 17.7814H9.82946V13.0213H19.7742V13.7402C19.7742 14.0795 20.0491 14.3555 20.3871 14.3555C20.7251 14.3555 21 14.0795 21 13.7402V12.4061C21 12.0668 20.7251 11.7908 20.3871 11.7908ZM4.2258 4.23047H13.4683V7.76016H4.2258V4.23047Z"}),z.jsx("path",{d:"M20.3188 17.5898H18.7603V16.0254C18.7603 15.6861 18.4854 15.4102 18.1474 15.4102C17.8094 15.4102 17.5345 15.6861 17.5345 16.0254V17.5898H15.976C15.638 17.5898 15.3631 17.8658 15.3631 18.2051C15.3631 18.5443 15.638 18.8203 15.976 18.8203H17.5345V20.3848C17.5345 20.724 17.8094 21 18.1474 21C18.4854 21 18.7603 20.724 18.7603 20.3848V18.8203H20.3188C20.6568 18.8203 20.9317 18.5443 20.9317 18.2051C20.9317 17.8658 20.6568 17.5898 20.3188 17.5898Z"})]}),z.jsx("symbol",{id:"icon-satellite",children:z.jsx("path",{fillOpacity:"0.65",d:"M6.93317 16.5849C6.85331 16.5036 6.80855 16.3943 6.80855 16.2803C6.80855 16.1664 6.85331 16.057 6.93317 15.9758L7.65439 15.2455L5.95626 13.527C5.87639 13.4458 5.83164 13.3364 5.83164 13.2225C5.83164 13.1085 5.87639 12.9992 5.95626 12.9179L8.31266 10.5327L5.2085 7.3907C5.12864 7.30945 5.08388 7.20008 5.08388 7.08614C5.08388 6.97221 5.12864 6.86284 5.2085 6.78159L8.82077 3.12613C8.86005 3.08618 8.90689 3.05446 8.95856 3.03281C9.01023 3.01115 9.06569 3 9.12172 3C9.17774 3 9.23321 3.01115 9.28488 3.03281C9.33655 3.05446 9.38339 3.08618 9.42267 3.12613L12.5279 6.26752L14.0849 4.6924C14.1242 4.65246 14.171 4.62074 14.2227 4.59908C14.2743 4.57743 14.3298 4.56627 14.3858 4.56627C14.4419 4.56627 14.4973 4.57743 14.549 4.59908C14.6007 4.62074 14.6475 4.65246 14.6868 4.6924L19.2021 9.26225C19.282 9.34351 19.3268 9.45292 19.3268 9.5669C19.3268 9.68088 19.282 9.7903 19.2021 9.87156L17.858 11.2313L20.8747 14.284C20.955 14.3652 21 14.4748 21 14.5889C21 14.703 20.955 14.8126 20.8747 14.8938L17.2625 18.5492C17.2231 18.5892 17.1763 18.6209 17.1246 18.6426C17.0729 18.6643 17.0174 18.6755 16.9613 18.6755C16.8482 18.6755 16.74 18.6303 16.66 18.5492L13.6438 15.4965L11.0741 18.0969C11.0348 18.1368 10.988 18.1686 10.9363 18.1903C10.8846 18.2119 10.8291 18.2231 10.7731 18.2231C10.717 18.2231 10.6615 18.2119 10.6098 18.1903C10.5581 18.1686 10.5113 18.1368 10.472 18.0969L8.68603 16.2893L7.96419 17.0194C7.92491 17.0593 7.87806 17.091 7.82639 17.1127C7.77472 17.1343 7.71926 17.1455 7.66324 17.1455C7.60721 17.1455 7.55175 17.1343 7.50008 17.1127C7.44841 17.091 7.40157 17.0593 7.36228 17.0194L6.93297 16.5849H6.93317ZM7.71508 13.2277L10.768 16.3171L17.4437 9.56135L14.3904 6.4722L7.71508 13.2277ZM14.6767 14.464L16.9564 16.7709L19.1178 14.5833L16.8381 12.2765L14.6767 14.464ZM6.96567 7.09139L9.24556 9.39863L11.4074 7.2107L9.12748 4.90367L6.96567 7.09139ZM3.00165 15.9604L3 15.8295L4.52842 16.0104C4.52842 17.8749 5.99514 19.3984 7.8239 19.4511L7.93004 19.4523L8.1088 20.9994C5.33563 20.9994 3.07076 18.7504 3.00165 15.9604Z"})}),z.jsx("symbol",{id:"icon-resizer",children:z.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:n[1]||n[0],strokeWidth:"3",strokeDasharray:"3,3"})}),z.jsxs("symbol",{id:"icon-parent",children:[z.jsx("path",{d:"M3 3H17C17.6667 3 18 3.33439 18 4.00317V8.01587C18 8.68466 17.6667 9.01905 17 9.01905H3C2.33333 9.01905 2 8.68466 2 8.01587V4.00317C2 3.33439 2.33333 3 3 3Z"}),z.jsx("path",{d:"M11.5 16.5429V19.5524H20.5V16.5429H11.5ZM11 15.0381H21C21.2652 15.0381 21.5196 15.1438 21.7071 15.3319C21.8946 15.5201 22 15.7752 22 16.0413V20.054C22 20.32 21.8946 20.5752 21.7071 20.7633C21.5196 20.9515 21.2652 21.0571 21 21.0571H11C10.7348 21.0571 10.4804 20.9515 10.2929 20.7633C10.1054 20.5752 10 20.32 10 20.054V16.0413C10 15.7752 10.1054 15.5201 10.2929 15.3319C10.4804 15.1438 10.7348 15.0381 11 15.0381Z"}),z.jsx("path",{d:"M5.314 19.0568C5.23521 19.0568 5.15719 19.0412 5.08439 19.011C5.01159 18.9807 4.94545 18.9364 4.88974 18.8805C4.83402 18.8246 4.78982 18.7583 4.75967 18.6852C4.72952 18.6122 4.714 18.534 4.714 18.4549V11.0314C4.714 10.8718 4.77721 10.7187 4.88974 10.6058C5.00226 10.4929 5.15487 10.4295 5.314 10.4295C5.47313 10.4295 5.62574 10.4929 5.73826 10.6058C5.85079 10.7187 5.914 10.8718 5.914 11.0314V17.853H10.114C10.2731 17.853 10.4257 17.9164 10.5383 18.0293C10.6508 18.1422 10.714 18.2953 10.714 18.4549C10.714 18.6145 10.6508 18.7676 10.5383 18.8805C10.4257 18.9934 10.2731 19.0568 10.114 19.0568H5.314Z"}),z.jsx("path",{d:"M7.617 12.7107L5.486 10.5258C5.46208 10.5006 5.43319 10.4806 5.40118 10.4671C5.36916 10.4537 5.33471 10.447 5.3 10.4476C5.26586 10.4469 5.23197 10.4535 5.20058 10.467C5.1692 10.4805 5.14104 10.5005 5.118 10.5258L2.987 12.7107C2.89931 12.7945 2.78243 12.8406 2.66134 12.8391C2.54025 12.8376 2.42453 12.7887 2.3389 12.7028C2.25327 12.6169 2.20451 12.5008 2.20303 12.3793C2.20156 12.2579 2.24748 12.1406 2.331 12.0526L4.974 9.34408C5.06018 9.25643 5.17729 9.20634 5.3 9.20463C5.36062 9.20457 5.42061 9.2169 5.47632 9.24088C5.53202 9.26485 5.58227 9.29997 5.624 9.34408L5.882 9.60289L8.273 12.0516C8.31781 12.0945 8.35364 12.1458 8.37836 12.2027C8.40308 12.2597 8.41621 12.321 8.41697 12.383C8.41772 12.4451 8.40609 12.5067 8.38275 12.5642C8.35942 12.6217 8.32486 12.674 8.2811 12.7178C8.23734 12.7617 8.18527 12.7964 8.12795 12.8198C8.07063 12.8432 8.00922 12.8549 7.94734 12.8541C7.88546 12.8534 7.82436 12.8402 7.76762 12.8154C7.71089 12.7906 7.65968 12.7547 7.617 12.7097V12.7107Z"})]}),z.jsxs("symbol",{id:"icon-addimg",children:[z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",fillOpacity:"0.38",d:"M1.44871 23.9657L1.50693 23.6714C1.60147 23.6901 1.69944 23.7 1.8 23.7H2.1V24H1.8C1.67979 24 1.56232 23.9882 1.44871 23.9657ZM21.9 24V23.7H22.2C22.3006 23.7 22.3985 23.6901 22.4931 23.6714L22.5513 23.9657C22.4377 23.9882 22.3202 24 22.2 24H21.9ZM23.2001 23.6968L23.0332 23.4475C23.1969 23.3379 23.3379 23.1969 23.4475 23.0332L23.6968 23.2001C23.5654 23.3964 23.3964 23.5654 23.2001 23.6968ZM24 2.1H23.7V1.8C23.7 1.69944 23.6901 1.60147 23.6714 1.50693L23.9657 1.44871C23.9882 1.56233 24 1.67979 24 1.8V2.1ZM23.6968 0.799892L23.4475 0.966788C23.3379 0.803081 23.1969 0.662072 23.0332 0.552473L23.2001 0.303182C23.3964 0.434597 23.5654 0.603599 23.6968 0.799892ZM2.1 0H1.8C1.67979 0 1.56233 0.0117845 1.44871 0.0342612L1.50693 0.328558C1.60147 0.309854 1.69944 0.3 1.8 0.3H2.1V0ZM0.799892 0.303182L0.966788 0.552473C0.803081 0.662071 0.662072 0.803081 0.552473 0.966787L0.303182 0.799891C0.434597 0.603599 0.603599 0.434597 0.799892 0.303182ZM0 21.9H0.3V22.2C0.3 22.3006 0.309854 22.3985 0.328558 22.4931L0.0342613 22.5513C0.0117845 22.4377 0 22.3202 0 22.2V21.9ZM0.303182 23.2001L0.552473 23.0332C0.662071 23.1969 0.803081 23.3379 0.966787 23.4475L0.799891 23.6968C0.603599 23.5654 0.434597 23.3964 0.303182 23.2001ZM0 21.3H0.3V20.7H0V21.3ZM0 20.1H0.3V19.5H0V20.1ZM0 18.9H0.3V18.3H0V18.9ZM0 17.7H0.3V17.1H0V17.7ZM0 16.5H0.3V15.9H0V16.5ZM0 15.3H0.3V14.7H0V15.3ZM0 14.1H0.3V13.5H0V14.1ZM0 12.9H0.3V12.3H0V12.9ZM0 11.7H0.3V11.1H0V11.7ZM0 10.5H0.3V9.9H0V10.5ZM0 9.3H0.3V8.7H0V9.3ZM0 8.1H0.3V7.5H0V8.1ZM0 6.9H0.3V6.3H0V6.9ZM0 5.7H0.3V5.1H0V5.7ZM0 4.5H0.3V3.9H0V4.5ZM0 3.3H0.3V2.7H0V3.3ZM0 2.1H0.3V1.8C0.3 1.69944 0.309854 1.60147 0.328558 1.50693L0.0342613 1.44871C0.0117845 1.56232 0 1.67979 0 1.8V2.1ZM2.7 0V0.3H3.3V0H2.7ZM3.9 0V0.3H4.5V0H3.9ZM5.1 0V0.3H5.7V0H5.1ZM6.3 0V0.3H6.9V0H6.3ZM7.5 0V0.3H8.1V0H7.5ZM8.7 0V0.3H9.3V0H8.7ZM9.9 0V0.3H10.5V0H9.9ZM11.1 0V0.3H11.7V0H11.1ZM12.3 0V0.3H12.9V0H12.3ZM13.5 0V0.3H14.1V0H13.5ZM14.7 0V0.3H15.3V0H14.7ZM15.9 0V0.3H16.5V0H15.9ZM17.1 0V0.3H17.7V0H17.1ZM18.3 0V0.3H18.9V0H18.3ZM19.5 0V0.3H20.1V0H19.5ZM20.7 0V0.3H21.3V0H20.7ZM21.9 0V0.3H22.2C22.3006 0.3 22.3985 0.309854 22.4931 0.328558L22.5513 0.0342612C22.4377 0.0117845 22.3202 0 22.2 0H21.9ZM24 2.7H23.7V3.3H24V2.7ZM24 3.9H23.7V4.5H24V3.9ZM24 5.1H23.7V5.7H24V5.1ZM24 6.3H23.7V6.9H24V6.3ZM24 7.5H23.7V8.1H24V7.5ZM24 8.7H23.7V9.3H24V8.7ZM24 9.9H23.7V10.5H24V9.9ZM24 11.1H23.7V11.7H24V11.1ZM24 12.3H23.7V12.9H24V12.3ZM24 13.5H23.7V14.1H24V13.5ZM24 14.7H23.7V15.3H24V14.7ZM24 15.9H23.7V16.5H24V15.9ZM24 17.1H23.7V17.7H24V17.1ZM24 18.3H23.7V18.9H24V18.3ZM24 19.5H23.7V20.1H24V19.5ZM24 20.7H23.7V21.3H24V20.7ZM24 21.9H23.7V22.2C23.7 22.3006 23.6901 22.3985 23.6714 22.4931L23.9657 22.5513C23.9882 22.4377 24 22.3202 24 22.2V21.9ZM21.3 24V23.7H20.7V24H21.3ZM20.1 24V23.7H19.5V24H20.1ZM18.9 24V23.7H18.3V24H18.9ZM17.7 24V23.7H17.1V24H17.7ZM16.5 24V23.7H15.9V24H16.5ZM15.3 24V23.7H14.7V24H15.3ZM14.1 24V23.7H13.5V24H14.1ZM12.9 24V23.7H12.3V24H12.9ZM11.7 24V23.7H11.1V24H11.7ZM10.5 24V23.7H9.9V24H10.5ZM9.3 24V23.7H8.7V24H9.3ZM8.1 24V23.7H7.5V24H8.1ZM6.9 24V23.7H6.3V24H6.9ZM5.7 24V23.7H5.1V24H5.7ZM4.5 24V23.7H3.9V24H4.5ZM3.3 24V23.7H2.7V24H3.3Z"}),z.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",fillOpacity:"0.38",d:"M12.24 9.35997C12.24 9.22742 12.1326 9.11997 12 9.11997C11.8675 9.11997 11.76 9.22742 11.76 9.35997V11.76H9.36001C9.22746 11.76 9.12001 11.8674 9.12001 12C9.12001 12.1325 9.22746 12.24 9.36001 12.24H11.76V14.64C11.76 14.7725 11.8675 14.88 12 14.88C12.1326 14.88 12.24 14.7725 12.24 14.64V12.24H14.64C14.7726 12.24 14.88 12.1325 14.88 12C14.88 11.8674 14.7726 11.76 14.64 11.76H12.24V9.35997Z"})]}),z.jsxs("symbol",{id:"icon-selected",children:[z.jsx("path",{d:"M14.012 13.6256L20.1941 14.8491C20.4839 14.9135 20.5483 15.2677 20.3229 15.4287L19.0672 16.2659C18.9062 16.3947 18.874 16.6201 19.0028 16.7489L20.7093 18.4554C20.8381 18.5842 20.8381 18.7774 20.7093 18.9062L18.9384 20.7093C18.8096 20.8381 18.6164 20.8381 18.4876 20.7093L16.7811 19.0028C16.6523 18.874 16.3947 18.874 16.2981 19.0672L15.4609 20.3229C15.2999 20.5483 14.9457 20.4839 14.8813 20.1941L13.6256 14.012C13.5934 13.7866 13.7866 13.5934 14.012 13.6256Z"}),z.jsx("path",{d:"M19.1638 3H4.86753C3.83717 3 3 3.83717 3 4.86753V19.1638C3 20.1941 3.83717 21.0313 4.86753 21.0313H10.6311C10.9853 21.0313 11.2429 20.7415 11.2429 20.4195C11.2429 20.0975 10.9531 19.8078 10.6311 19.8078H4.86753C4.51334 19.8078 4.25575 19.518 4.25575 19.196V4.86753C4.25575 4.51334 4.54554 4.25575 4.86753 4.25575H19.1638C19.518 4.25575 19.7756 4.54554 19.7756 4.86753V11.0819C19.7756 11.4361 20.0653 11.6937 20.3873 11.6937C20.7093 11.6937 20.9991 11.4039 20.9991 11.0819V4.86753C21.0313 3.83717 20.1941 3 19.1638 3Z"})]}),z.jsx("symbol",{id:"icon-info",children:z.jsx("path",{fillOpacity:"0.54",d:"M11 15H13V17H11V15ZM11 7H13V13H11V7ZM11.99 2C6.47 2 2 6.48 2 12C2 17.52 6.47 22 11.99 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 11.99 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z"})}),z.jsx("symbol",{id:"icon-arrowdown",children:z.jsx("path",{fillOpacity:"0.54",d:"M6 9.79323C6 9.56759 6.07521 9.41716 6.22564 9.26674C6.52649 8.96588 6.97777 9.0411 7.27863 9.34195L11.641 14.1556C11.7914 14.306 11.9418 14.3812 12.0923 14.3812C12.2427 14.3812 12.3931 14.306 12.5436 14.1556L16.6803 9.26674C16.9811 8.96588 17.4324 8.89067 17.7333 9.19152C18.0341 9.49238 18.1093 9.94366 17.8085 10.2445L13.6717 15.0582C13.2957 15.5094 12.694 15.8103 12.0923 15.8103C11.4906 15.8103 10.9641 15.5846 10.5128 15.1334L6.15043 10.3197C6.07521 10.1693 6 9.94366 6 9.79323Z"})}),z.jsx("symbol",{id:"icon-look",children:z.jsx("path",{d:"M12 6C7.90909 6 4.41545 8.54455 3 12.1364C4.41545 15.7282 7.90909 18.2727 12 18.2727C16.0909 18.2727 19.5845 15.7282 21 12.1364C19.5845 8.54455 16.0909 6 12 6ZM12 16.2273C9.74182 16.2273 7.90909 14.3945 7.90909 12.1364C7.90909 9.87818 9.74182 8.04545 12 8.04545C14.2582 8.04545 16.0909 9.87818 16.0909 12.1364C16.0909 14.3945 14.2582 16.2273 12 16.2273ZM12 9.68182C10.6418 9.68182 9.54545 10.7782 9.54545 12.1364C9.54545 13.4945 10.6418 14.5909 12 14.5909C13.3582 14.5909 14.4545 13.4945 14.4545 12.1364C14.4545 10.7782 13.3582 9.68182 12 9.68182Z"})}),z.jsxs("symbol",{id:"icon-setting",children:[z.jsx("path",{fillOpacity:"0.54",d:"M11.962 7.91724C9.66488 7.91724 7.79602 9.76511 7.79602 12.0364C7.79602 14.3079 9.66488 16.1559 11.962 16.1559C12.1855 16.1559 12.4219 16.133 12.7072 16.0835C13.1337 16.0066 13.4172 15.6021 13.3392 15.1818C13.2706 14.8131 12.9479 14.5455 12.5717 14.5455C12.5231 14.5455 12.4742 14.5501 12.4281 14.5587C12.2421 14.5916 12.0946 14.6069 11.9639 14.6069C10.5305 14.6069 9.36434 13.4537 9.36434 12.0364C9.36434 10.6192 10.5287 9.46625 11.96 9.46625C13.3924 9.46625 14.5576 10.6192 14.5576 12.0364C14.5576 12.1745 14.5422 12.3196 14.5087 12.4942C14.4307 12.9144 14.7142 13.319 15.1405 13.3957C15.1875 13.4042 15.2353 13.4085 15.2828 13.4085C15.6626 13.4085 15.9864 13.1406 16.0523 12.773C16.1024 12.5046 16.1259 12.2706 16.1259 12.0366C16.1269 10.938 15.6938 9.90403 14.9063 9.12513C14.1189 8.34621 13.0732 7.91724 11.962 7.91724Z"}),z.jsx("path",{fillOpacity:"0.54",d:"M21.9955 10.1437C21.9443 9.87592 21.7369 9.66325 21.4667 9.60183C20.4845 9.37897 19.6671 8.78317 19.1655 7.92487C18.6655 7.06797 18.5516 6.07097 18.8446 5.11918C18.9273 4.85847 18.8448 4.5746 18.6348 4.39635C17.6537 3.55913 16.5363 2.92123 15.3138 2.50061C15.24 2.47509 15.163 2.46219 15.0847 2.46219C14.8912 2.46219 14.7054 2.5426 14.5755 2.68195C13.8903 3.40954 12.9621 3.81024 11.962 3.81024C10.9618 3.81024 10.033 3.40887 9.34619 2.67984C9.16156 2.48451 8.86548 2.41002 8.60603 2.49874C7.37595 2.92464 6.25919 3.56318 5.28632 4.39691C5.0797 4.57484 4.99751 4.85677 5.07692 5.11579C5.37192 6.06843 5.25879 7.06534 4.75822 7.92316C4.25886 8.78089 3.44221 9.37643 2.45727 9.60039C2.18678 9.6639 1.97922 9.87724 1.92852 10.1434C1.80599 10.7802 1.7439 11.4171 1.7439 12.0364C1.7439 12.6558 1.80599 13.2928 1.92843 13.9293C1.97939 14.1968 2.18678 14.4095 2.45701 14.4712C3.43935 14.6942 4.25667 15.2897 4.75839 16.1481C5.25876 17.0058 5.37192 18.0027 5.07675 18.9558C4.99791 19.2129 5.0796 19.4952 5.28706 19.6767C6.2679 20.5136 7.38458 21.1514 8.60728 21.5729C8.87601 21.6639 9.16365 21.5857 9.34449 21.3928C10.0312 20.6641 10.9599 20.2628 11.96 20.2628C12.96 20.2628 13.8889 20.6641 14.5747 21.3921C14.7049 21.5317 14.8909 21.6119 15.0852 21.6119C15.162 21.6119 15.2384 21.5997 15.3156 21.5744C16.5373 21.1533 17.654 20.5154 18.6355 19.678C18.8416 19.5005 18.924 19.218 18.8451 18.9571C18.5499 18.0037 18.6636 17.007 19.1656 16.1499C19.6654 15.2915 20.4826 14.6961 21.4669 14.4731C21.7339 14.4123 21.9412 14.2004 21.9955 13.9315C22.1179 13.2944 22.1799 12.6575 22.1799 12.0384C22.1799 11.4181 22.1179 10.7804 21.9955 10.1437ZM17.0759 18.5128C16.4659 18.9852 15.793 19.3695 15.0723 19.657C14.2126 18.9036 13.1129 18.4903 11.96 18.4903C10.8133 18.4903 9.71379 18.9036 8.84826 19.6571C8.1277 19.3697 7.45474 18.9855 6.84457 18.5131C7.07647 17.4012 6.88884 16.2525 6.31105 15.264C5.73803 14.2804 4.82446 13.5451 3.72855 13.1818C3.67274 12.7988 3.64454 12.414 3.64454 12.0364C3.64454 11.6604 3.67274 11.2759 3.72855 10.8915C4.82103 10.5308 5.73443 9.79557 6.31105 8.80905C6.88582 7.82411 7.07337 6.67546 6.84423 5.56014C7.45416 5.08788 8.1271 4.70366 8.848 4.41602C9.71101 5.17074 10.8106 5.58465 11.96 5.58465C13.113 5.58465 14.2126 5.17132 15.0723 4.41794C15.793 4.7055 16.4658 5.08972 17.0758 5.56199C16.8459 6.67841 17.0327 7.82687 17.607 8.8109C18.18 9.79449 19.0933 10.5299 20.1894 10.8933C20.2452 11.2774 20.2734 11.6621 20.2734 12.0404C20.2768 12.4023 20.2493 12.7856 20.1914 13.1818C19.0954 13.5452 18.1819 14.2804 17.6089 15.2639C17.0354 16.2466 16.848 17.3951 17.0759 18.5128Z"})]}),z.jsxs("symbol",{id:"icon-palette",children:[z.jsx("path",{d:"M4.63889 13.0278C4.63889 13.1751 4.69742 13.3164 4.80161 13.4206C4.90579 13.5248 5.0471 13.5833 5.19444 13.5833C5.34179 13.5833 5.48309 13.5248 5.58728 13.4206C5.69147 13.3164 5.75 13.1751 5.75 13.0278C5.75 12.8804 5.69147 12.7391 5.58728 12.6349C5.48309 12.5308 5.34179 12.4722 5.19444 12.4722C5.0471 12.4722 4.90579 12.5308 4.80161 12.6349C4.69742 12.7391 4.63889 12.8804 4.63889 13.0278Z"}),z.jsx("path",{d:"M5.47222 10.1806C5.47222 10.42 5.56734 10.6496 5.73664 10.8189C5.90594 10.9882 6.13557 11.0833 6.375 11.0833C6.61443 11.0833 6.84406 10.9882 7.01336 10.8189C7.18266 10.6496 7.27778 10.42 7.27778 10.1806C7.27778 9.94112 7.18266 9.7115 7.01336 9.5422C6.84406 9.37289 6.61443 9.27778 6.375 9.27778C6.13557 9.27778 5.90594 9.37289 5.73664 9.5422C5.56734 9.7115 5.47222 9.94112 5.47222 10.1806Z"}),z.jsx("path",{d:"M8.80556 7.81944C8.80556 8.13255 8.92262 8.43283 9.13099 8.65422C9.33937 8.87562 9.62198 9 9.91667 9C10.2114 9 10.494 8.87562 10.7023 8.65422C10.9107 8.43283 11.0278 8.13255 11.0278 7.81944C11.0278 7.50634 10.9107 7.20606 10.7023 6.98467C10.494 6.76327 10.2114 6.63889 9.91667 6.63889C9.62198 6.63889 9.33937 6.76327 9.13099 6.98467C8.92262 7.20606 8.80556 7.50634 8.80556 7.81944Z"}),z.jsx("path",{d:"M13.1111 7.81944C13.1111 8.20622 13.2648 8.57715 13.5382 8.85064C13.8117 9.12413 14.1827 9.27778 14.5694 9.27778C14.9562 9.27778 15.3272 9.12413 15.6006 8.85064C15.8741 8.57715 16.0278 8.20622 16.0278 7.81944C16.0278 7.43267 15.8741 7.06174 15.6006 6.78825C15.3272 6.51476 14.9562 6.36111 14.5694 6.36111C14.1827 6.36111 13.8117 6.51476 13.5382 6.78825C13.2648 7.06174 13.1111 7.43267 13.1111 7.81944Z"}),z.jsx("path",{d:"M21.8268 6.35914L21.8116 6.3459C21.6019 6.1631 21.2842 6.18553 21.102 6.39601L13.5147 15.163L12.5556 17.0556L14.2763 15.8535L21.8768 7.07125C22.0589 6.86077 22.0366 6.54192 21.8268 6.35914Z"}),z.jsx("path",{d:"M20.5132 11.2692C20.2426 11.2692 20.0209 11.4784 20.0004 11.7442L19.9987 11.744C19.9987 11.744 19.2857 15.5292 16.1781 17.5498C12.8254 19.7297 8.98762 18.7487 8.27463 17.4892C7.88283 16.7971 7.28585 15.6303 6.94618 15.3474C6.034 14.5877 3.72761 15.6404 3.24331 14.4887C2.3432 12.3481 4.46752 6.80038 9.73427 5.4264C13.4191 4.4484 16.5566 5.62655 18.1304 6.9393V6.9391C18.2177 7.01365 18.3309 7.05877 18.4546 7.05877C18.7306 7.05877 18.9544 6.83471 18.9544 6.5583C18.9544 6.39237 18.8737 6.24537 18.7495 6.15431C18.0868 5.59645 13.9057 2.39469 8.0661 5.02228C1.6895 7.89149 1.28591 13.8724 2.61774 15.3676C3.94956 16.8628 5.89882 15.6801 6.3307 16.1758C6.60648 16.4924 6.96579 17.3327 7.43718 18.0954C8.1199 19.2 11.5345 21.5195 16.7431 18.4254C19.8687 16.5687 20.9874 12.293 21.0278 11.8249L21.0261 11.8247C21.0271 11.8114 21.0278 11.798 21.0278 11.7845C21.0278 11.4999 20.7974 11.2692 20.5132 11.2692Z"})]}),z.jsxs("symbol",{id:"icon-warning",children:[z.jsx("path",{d:"M16.9477 18.4709H7.05233C6.95732 18.4706 6.86404 18.4455 6.78175 18.398C6.69945 18.3506 6.631 18.2824 6.58318 18.2003C6.53532 18.1181 6.5101 18.0247 6.5101 17.9296C6.5101 17.8345 6.53532 17.7411 6.58318 17.659L11.5309 9.10971C11.579 9.02816 11.6477 8.96058 11.7299 8.91363C11.8122 8.86669 11.9053 8.842 12 8.842C12.0947 8.842 12.1878 8.86669 12.2701 8.91363C12.3523 8.96058 12.421 9.02816 12.4691 9.10971L17.4132 17.659C17.4611 17.7411 17.4863 17.8345 17.4863 17.9296C17.4863 18.0247 17.4611 18.1181 17.4132 18.2003C17.3657 18.2819 17.2978 18.3497 17.2162 18.3971C17.1346 18.4446 17.0421 18.47 16.9477 18.4709ZM7.99062 17.3883H16.0094L12 10.463L7.99062 17.3883Z"}),z.jsx("path",{d:"M12 16.8975C11.9286 16.8975 11.8579 16.8834 11.792 16.856C11.7261 16.8285 11.6663 16.7883 11.6159 16.7377C11.5656 16.687 11.5258 16.6269 11.4988 16.5608C11.4719 16.4947 11.4582 16.424 11.4587 16.3526V16.1252C11.4587 15.9817 11.5157 15.844 11.6172 15.7425C11.7187 15.6409 11.8564 15.5839 12 15.5839C12.1436 15.5839 12.2813 15.6409 12.3828 15.7425C12.4843 15.844 12.5413 15.9817 12.5413 16.1252V16.3526C12.5418 16.424 12.5281 16.4947 12.5012 16.5608C12.4742 16.6269 12.4344 16.687 12.3841 16.7377C12.3337 16.7883 12.2739 16.8285 12.208 16.856C12.1421 16.8834 12.0714 16.8975 12 16.8975Z"}),z.jsx("path",{d:"M12 11.9895C12.3609 11.9895 12.5413 12.17 12.5413 12.5309V14.7791C12.5413 15.14 12.3609 15.3205 12 15.3205C11.6391 15.3205 11.4587 15.14 11.4587 14.7791V12.5309C11.4587 12.17 11.6391 11.9895 12 11.9895Z"}),z.jsx("path",{d:"M20.376 20.3403H3.62396C3.19355 20.3394 2.78105 20.168 2.4767 19.8636C2.17235 19.5593 2.00095 19.1468 2 18.7163V4.60592C2.00568 4.17865 2.17917 3.77075 2.48301 3.47029C2.78684 3.16983 3.19665 3.00091 3.62396 3H20.376C20.8064 3.00095 21.219 3.17235 21.5233 3.4767C21.8276 3.78105 21.999 4.19355 22 4.62396V18.7344C21.9943 19.1617 21.8208 19.5696 21.517 19.87C21.2132 20.1705 20.8033 20.3394 20.376 20.3403ZM3.62396 4.08264C3.4804 4.08264 3.34271 4.13967 3.24119 4.24119C3.13967 4.34271 3.08264 4.4804 3.08264 4.62396V18.7344C3.08264 18.878 3.13967 19.0156 3.24119 19.1172C3.34271 19.2187 3.4804 19.2757 3.62396 19.2757H20.376C20.5196 19.2757 20.6573 19.2187 20.7588 19.1172C20.8603 19.0156 20.9174 18.878 20.9174 18.7344V4.60592C20.9127 4.4655 20.8536 4.33241 20.7526 4.23476C20.6516 4.13711 20.5165 4.08256 20.376 4.08264H3.62396Z"}),z.jsx("path",{d:"M21.437 8.35908H2.56297C2.41941 8.35908 2.28172 8.30204 2.1802 8.20053C2.07868 8.09901 2.02165 7.96132 2.02165 7.81776V4.5987C2.02165 3.69289 2.88055 3 3.97763 3H20.0224C21.105 3 21.9783 3.72176 21.9783 4.61674V7.8358C21.9737 7.97622 21.9146 8.10931 21.8136 8.20696C21.7125 8.30461 21.5775 8.35915 21.437 8.35908ZM3.10429 7.27644H20.8957V4.5987C20.8957 4.34608 20.5348 4.0646 20.0224 4.0646H3.97763C3.47961 4.0646 3.10429 4.34608 3.10429 4.5987V7.27644Z"}),z.jsx("path",{d:"M4.59834 5.67052C4.59834 5.75724 4.61542 5.84312 4.64861 5.92324C4.6818 6.00337 4.73044 6.07617 4.79177 6.1375C4.85309 6.19882 4.9259 6.24747 5.00602 6.28066C5.08615 6.31385 5.17202 6.33093 5.25875 6.33093C5.34548 6.33093 5.43135 6.31385 5.51148 6.28066C5.5916 6.24747 5.66441 6.19882 5.72573 6.1375C5.78706 6.07617 5.8357 6.00337 5.86889 5.92324C5.90208 5.84312 5.91916 5.75724 5.91916 5.67052C5.91916 5.58379 5.90208 5.49791 5.86889 5.41779C5.8357 5.33766 5.78706 5.26486 5.72573 5.20353C5.66441 5.14221 5.5916 5.09356 5.51148 5.06038C5.43135 5.02719 5.34548 5.0101 5.25875 5.0101C5.17202 5.0101 5.08615 5.02719 5.00602 5.06038C4.9259 5.09356 4.85309 5.14221 4.79177 5.20353C4.73044 5.26486 4.6818 5.33766 4.64861 5.41779C4.61542 5.49791 4.59834 5.58379 4.59834 5.67052Z"}),z.jsx("path",{d:"M12.8012 6.21184H7.74883C7.60526 6.21184 7.46757 6.15481 7.36605 6.05329C7.26454 5.95177 7.20751 5.81408 7.20751 5.67052C7.20751 5.52695 7.26454 5.38926 7.36605 5.28774C7.46757 5.18623 7.60526 5.1292 7.74883 5.1292H12.8012C12.9447 5.1292 13.0824 5.18623 13.1839 5.28774C13.2854 5.38926 13.3425 5.52695 13.3425 5.67052C13.3425 5.81408 13.2854 5.95177 13.1839 6.05329C13.0824 6.15481 12.9447 6.21184 12.8012 6.21184Z"})]}),z.jsxs("symbol",{id:"icon-list",children:[z.jsx("path",{d:"M9.40376 6.28529H19.2382C19.6589 6.28529 20 5.94424 20 5.52353C20 5.10282 19.6589 4.76176 19.2382 4.76176H9.40376C8.98306 4.76176 8.642 5.10282 8.642 5.52353C8.642 5.94424 8.98306 6.28529 9.40376 6.28529ZM9.40355 12.3608H19.2019C19.6226 12.3608 19.9637 12.0197 19.9637 11.599C19.9637 11.1783 19.6226 10.8372 19.2019 10.8372H9.40355C8.98284 10.8372 8.64179 11.1783 8.64179 11.599C8.64179 12.0197 8.98284 12.3608 9.40355 12.3608ZM19.2382 16.9464H9.40376C8.98306 16.9464 8.642 17.2875 8.642 17.7082C8.642 18.1289 8.98306 18.4699 9.40376 18.4699H19.2382C19.6589 18.4699 20 18.1289 20 17.7082C20 17.2875 19.6589 16.9464 19.2382 16.9464Z"}),z.jsx("path",{d:"M4 5.52353C4 5.92759 4.16051 6.31511 4.44623 6.60083C4.73195 6.88654 5.11946 7.04706 5.52353 7.04706C5.92759 7.04706 6.31511 6.88654 6.60083 6.60083C6.88654 6.31511 7.04706 5.92759 7.04706 5.52353C7.04706 5.11946 6.88654 4.73195 6.60083 4.44623C6.31511 4.16051 5.92759 4 5.52353 4C5.11946 4 4.73195 4.16051 4.44623 4.44623C4.16051 4.73195 4 5.11946 4 5.52353Z"}),z.jsx("path",{d:"M4 11.5899C4 11.9939 4.16051 12.3815 4.44623 12.6672C4.73195 12.9529 5.11946 13.1134 5.52353 13.1134C5.92759 13.1134 6.31511 12.9529 6.60083 12.6672C6.88654 12.3815 7.04706 11.9939 7.04706 11.5899C7.04706 11.1858 6.88654 10.7983 6.60083 10.5126C6.31511 10.2269 5.92759 10.0664 5.52353 10.0664C5.11946 10.0664 4.73195 10.2269 4.44623 10.5126C4.16051 10.7983 4 11.1858 4 11.5899Z"}),z.jsx("path",{d:"M4 17.7038C4 18.1079 4.16051 18.4954 4.44623 18.7811C4.73195 19.0669 5.11946 19.2274 5.52353 19.2274C5.92759 19.2274 6.31511 19.0669 6.60083 18.7811C6.88654 18.4954 7.04706 18.1079 7.04706 17.7038C7.04706 17.2998 6.88654 16.9123 6.60083 16.6266C6.31511 16.3408 5.92759 16.1803 5.52353 16.1803C5.11946 16.1803 4.73195 16.3408 4.44623 16.6266C4.16051 16.9123 4 17.2998 4 17.7038Z"})]}),z.jsx("symbol",{id:"icon-locate1",children:z.jsx("path",{d:"M12.1875 21.75C10.9717 21.7564 4.875 12.6199 4.875 9.5625C4.875 7.6231 5.64542 5.76314 7.01678 4.39178C8.38814 3.02042 10.2481 2.25 12.1875 2.25C14.1269 2.25 15.9869 3.02042 17.3582 4.39178C18.7296 5.76314 19.5 7.6231 19.5 9.5625C19.5 12.579 13.3841 21.7564 12.1875 21.75ZM12.1875 3.46875C10.5713 3.46875 9.02137 4.11077 7.87857 5.25357C6.73577 6.39637 6.09375 7.94634 6.09375 9.5625C6.09375 12.1103 11.1743 19.9271 12.1875 19.9219C13.185 19.9271 18.2812 12.075 18.2812 9.5625C18.2812 7.94634 17.6392 6.39637 16.4964 5.25357C15.3536 4.11077 13.8037 3.46875 12.1875 3.46875ZM12.1875 12.6094C11.5849 12.6094 10.9958 12.4307 10.4947 12.0959C9.99369 11.7611 9.60317 11.2852 9.37255 10.7285C9.14194 10.1717 9.08161 9.55912 9.19917 8.96808C9.31673 8.37705 9.60692 7.83415 10.033 7.40803C10.4591 6.98192 11.002 6.69173 11.5931 6.57417C12.1841 6.45661 12.7967 6.51694 13.3535 6.74755C13.9102 6.97817 14.3861 7.36869 14.7209 7.86975C15.0557 8.3708 15.2344 8.95989 15.2344 9.5625C15.2344 10.3706 14.9134 11.1456 14.342 11.717C13.7706 12.2884 12.9956 12.6094 12.1875 12.6094ZM12.1875 7.73438C11.8259 7.73438 11.4725 7.84159 11.1718 8.04247C10.8712 8.24335 10.6369 8.52886 10.4985 8.86291C10.3602 9.19695 10.324 9.56453 10.3945 9.91915C10.465 10.2738 10.6392 10.5995 10.8948 10.8552C11.1505 11.1108 11.4762 11.285 11.8309 11.3555C12.1855 11.426 12.553 11.3898 12.8871 11.2515C13.2211 11.1131 13.5067 10.8788 13.7075 10.5782C13.9084 10.2775 14.0156 9.92407 14.0156 9.5625C14.0156 9.07765 13.823 8.61266 13.4802 8.26982C13.1373 7.92698 12.6723 7.73438 12.1875 7.73438Z"})}),z.jsx("use",{href:`#${e}`})]})},nu={name:"icon-resizer",stroke:"yellow",strokeWidth:3,strokeDasharray:"2,4",fill:"none"},Hi=k.forwardRef(({value:e,icon:n=nu},o)=>{const i=Lr(u=>u.indicatorColor),r={...nu,...n,stroke:i},a=Ye(u=>u.transform[2]),[l,c]=k.useState({base:{position:"absolute",left:-12/a,top:-12/a,width:24/a,height:24/a}});return k.useEffect(()=>{c(u=>({...u,base:{position:"absolute",left:-12/a,top:-12/a,width:24/a,height:24/a}}))},[a]),z.jsx("div",{ref:o,style:{...l.base,transform:`translate(${e[0]}px, ${e[1]}px)`},children:z.jsx(ut,{...r,size:24/a,style:{position:"absolute"}})})});Hi.displayName="Indicator";const Hn={adj(e){return[e[4]*e[8]-e[5]*e[7],e[2]*e[7]-e[1]*e[8],e[1]*e[5]-e[2]*e[4],e[5]*e[6]-e[3]*e[8],e[0]*e[8]-e[2]*e[6],e[2]*e[3]-e[0]*e[5],e[3]*e[7]-e[4]*e[6],e[1]*e[6]-e[0]*e[7],e[0]*e[4]-e[1]*e[3]]},multmm(e,n){const o=[];let i;for(i=0;i<3;i++)for(let r=0;r<3;r++){let a=0;for(let l=0;l<3;l++)a+=e[3*i+l]*n[3*l+r];o[3*i+r]=a}return o},multmv(e,n){return[e[0]*n[0]+e[1]*n[1]+e[2]*n[2],e[3]*n[0]+e[4]*n[1]+e[5]*n[2],e[6]*n[0]+e[7]*n[1]+e[8]*n[2]]},multsm(e,n){const o=[];for(let i=0,r=n.length;i<r;i++)o.push(e*n[i]);return o},basisToPoints(e,n,o,i,r,a,l,c){const u=[e,o,r,n,i,a,1,1,1],f=Hn.multmv(Hn.adj(u),[l,c,1]);return Hn.multmm(u,[f[0],0,0,0,f[1],0,0,0,f[2]])},project(e,n,o){const i=Hn.multmv(e,[n,o,1]);return[i[0]/i[2],i[1]/i[2]]},general2DProjection(e,n,o,i,r,a,l,c,u,f,h,p,m,v,E,S){const P=Hn.basisToPoints(e,n,r,a,u,f,m,v),b=Hn.basisToPoints(o,i,l,c,h,p,E,S),w=Hn.multmm(b,Hn.adj(P));return Hn.multsm(1/w[8],w)}};function g2(e,n){return[e[0]-n[0],e[1]-n[1]]}function v2(e,n=500,o=375){if(console.log("calculateTransform",JSON.stringify(e),{w:n,h:o}),!e||e.length<4)return;const i=e[0],r=[];for(let a=0;a<4;a++)r.push(g2(e[a],i));return Hn.general2DProjection(0,0,r[0][0],r[0][1],n,0,r[1][0],r[1][1],0,o,r[2][0],r[2][1],n,o,r[3][0],r[3][1])}function y2(e){return"matrix3d("+[e[0],e[3],0,e[6],e[1],e[4],0,e[7],0,0,1,0,e[2],e[5],0,e[8]].join(",")+")"}function _2({location:e,areaType:n,area:o,_tmpArea:i}){if(e)switch(n){case"point":return{x1:e[0]-5,y1:e[1]-5,x2:e[0]+5,y2:e[1]+5};case"circle":{let r=i||o||0;return r<5&&(r=5),{x1:e[0]-r,y1:e[1]-r,x2:e[0]+r,y2:e[1]+r}}case"rectangle":{const r=i||o;if(!r)return{x1:e[0],y1:e[1],x2:e[0],y2:e[1]};const a=e[0]>r[0]?[r[0],e[0]]:[e[0],r[0]],l=e[1]>r[1]?[r[1],e[1]]:[e[1],r[1]];return{x1:a[0],y1:l[0],x2:a[1],y2:l[1]}}case"polygon":{const r=i?[...o||[],i]:o;if(!r||r.length===0)return{x1:e[0],y1:e[1],x2:e[0],y2:e[1]};const{x:a,y:l}=r.reduce((c,u)=>(c.x.push(u[0]),c.y.push(u[1]),c),{x:[e[0]],y:[e[1]]});return{x1:tu(a)||0,y1:tu(l)||0,x2:eu(a)||0,y2:eu(l)||0}}default:return}}function b2({location:e,areaType:n,area:o,_tmpArea:i},r){if(!e)return{};switch(n){case"point":return{cx:e[0]-r.x1,cy:e[1]-r.y1,r:3};case"circle":return{cx:e[0]-r.x1,cy:e[1]-r.y1,r:i||o||0};case"rectangle":return{x:0,y:0,width:r.x2-r.x1,height:r.y2-r.y1};case"polygon":{const a=i?[...o||[],i]:o||[];return{points:[e,...a].map(c=>`${c[0]-r.x1},${c[1]-r.y1}`).join(" ")}}}return{}}const Ao={fill:"blue",stroke:"pink",strokeWidth:2,opacity:.5};function x2({data:e}){var I,B;const{id:n,name:o,bg:i,location:r,areaType:a,area:l,editing:c}=e||{},{image:u,corners:f}=i||{},h=f==null?void 0:f[0],[p,m]=k.useState({bgStyle:{left:(h==null?void 0:h[0])-(r==null?void 0:r[0])||0,top:(h==null?void 0:h[1])-(r==null?void 0:r[1])||0,position:"absolute"}}),{screenToFlowPosition:v}=pa(),E=aa(),S=_t(),P=k.useRef(void 0),b=k.useRef([]),w=k.useRef(void 0),_=k.useRef([]);k.useEffect(()=>{var j,K,V,F;const M=(i==null?void 0:i.w)||((K=(j=w.current)==null?void 0:j.getElement())==null?void 0:K.offsetWidth)||500,T=(i==null?void 0:i.h)||((F=(V=w.current)==null?void 0:V.getElement())==null?void 0:F.offsetHeight)||375,O={width:M,height:T,position:"absolute"};if(f){const Z=f[0],q=f.map(X=>[X[0]-(Z==null?void 0:Z[0]),X[1]-(Z==null?void 0:Z[1])]),W=v2(q,M,T),J=y2(W);O.transform=J,O.transformOrigin="0px 0px 0px"}m(Z=>({...Z,bgStyle:O}))},[f,i==null?void 0:i.w,i==null?void 0:i.h]),k.useEffect(()=>{if(!c){console.log("!");return}if(!P.current||!r)return;const M=j=>{const K={x:j.sourceEvent.clientX,y:j.sourceEvent.clientY},V=v(K),F=[V.x,V.y];console.log("location",K,V);const{current:Z,updateCurrent:q}=E.getState();Z&&q({...Z,location:F})},T=j=>{const K={x:j.sourceEvent.clientX,y:j.sourceEvent.clientY},V=v(K),F=[V.x,V.y],{current:Z,updateCurrent:q}=E.getState();Z&&q({...Z,location:F})};return Pi({domNode:P.current,onDrag:M,onDragStop:T})},[n,c,!r]),k.useEffect(()=>{var M;if(!c){console.log("!");return}if(a==="rectangle"){if(!b.current||!l||l.length<1)return;console.log("rectangle");const T=(M=b.current)==null?void 0:M[0];return Pi({domNode:T,onDrag:K=>{const V={x:K.sourceEvent.clientX,y:K.sourceEvent.clientY},F=v(V),Z=[F.x,F.y];console.log("area",V,F);const{current:q,updateCurrent:W}=E.getState();W({...q,area:Z})}})}else if(a==="polygon"){if(!b.current||b.current.length<1||!l||l.length<1)return;const T=[];for(let O=0;O<b.current.length;O++){console.log("polygon:",O);const j=b.current[O],V=Pi({domNode:j,onDrag:F=>{const Z={x:F.sourceEvent.clientX,y:F.sourceEvent.clientY},q=v(Z),W=[q.x,q.y];console.log("area",O,Z,q);const{current:J,updateCurrent:X}=E.getState();if(J!=null&&J.area&&Array.isArray(J.area)){const te=[...J.area];te[O]=W,X({...J,area:te})}}});T.push(V)}return()=>{for(let O=0;O<T.length;O++)T[O]()}}},[n,c,a,l==null?void 0:l.length]),k.useEffect(()=>{if(!c){console.log("!");return}if(!w.current||!u)return;let M;const T=()=>{var V;const{current:K}=E.getState();M=(V=K==null?void 0:K.bg)==null?void 0:V.corners},O=K=>{const{transform:V}=S.getState(),F=K.tdx,Z=K.tdy;if(M){const q=[F/V[2],Z/V[2]],{current:W,updateCurrent:J}=E.getState(),X=M==null?void 0:M.map(ee=>[ee[0]+q[0],ee[1]+q[1]]);console.log("drag image"),J({...W,bg:{...(W==null?void 0:W.bg)||{},corners:X}})}};return Pi({domNode:w.current,onDragStart:T,onDrag:O})},[n,c,u]),k.useEffect(()=>{if(!c){console.log("!");return}if(!u){console.log(".");return}if(!_.current||_.current.length<1){console.log(".");return}const M=[];for(let T=0;T<_.current.length;T++){console.log(":",T);const O=_.current[T],K=Pi({domNode:O,onDrag:V=>{var ee;const{current:F,updateCurrent:Z}=E.getState();if(!((ee=F==null?void 0:F.bg)!=null&&ee.corners)){console.log("no bg.corners!");return}const q={x:V.sourceEvent.clientX,y:V.sourceEvent.clientY},W=v(q),J=[W.x,W.y];console.log("drag corner",T,q,W);const X=[...F.bg.corners];X[T]=J,Z({...F,bg:{...(F==null?void 0:F.bg)||{},corners:X}})}});M.push(K)}return()=>{for(let T=0;T<M.length;T++)M[T]()}},[n,c,!u]);const y=_2(e),x=y?y.x2-y.x1:0,A=y?y.y2-y.y1:0,H=y?y.x1-r[0]:0,D=y?y.y1-r[1]:0,N={display:"block",transform:`translate(${H}px, ${D}px)`},U=y?b2(e,y):{};return console.log("NodePosition render",y,e.location,e.area,U),z.jsxs(z.Fragment,{children:[u?z.jsxs("div",{style:{position:"absolute",left:0,top:0,zIndex:(e==null?void 0:e._tmpPreferEdit)==="image"?1:0},children:[z.jsx("img",{ref:w,src:u,style:{...p.bgStyle,left:((I=f==null?void 0:f[0])==null?void 0:I[0])-(r==null?void 0:r[0]),top:((B=f==null?void 0:f[0])==null?void 0:B[1])-(r==null?void 0:r[1])},alt:""}),c?f==null?void 0:f.map((M,T)=>z.jsx(Hi,{ref:O=>_.current[T]=O,value:[M[0]-(r==null?void 0:r[0]),M[1]-(r==null?void 0:r[1])],icon:{name:"icon-rectangle",strokeWidth:2,strokeDasharray:"none"}},T)):null]}):null,z.jsx("svg",{width:x,height:A,style:N,children:a==="rectangle"?z.jsx("rect",{...U,style:Ao}):a==="point"?z.jsx("circle",{...U,style:Ao}):a==="circle"?z.jsx("circle",{...U,style:Ao}):a==="polygon"?z.jsx("polygon",{...U,style:Ao}):null}),z.jsx("div",{style:{position:"absolute",left:0,top:0,whiteSpace:"nowrap",pointerEvents:"none"},children:z.jsx("label",{children:o||""})}),c&&r?z.jsxs(z.Fragment,{children:[z.jsx(Hi,{ref:P,value:[0,0]}),a==="rectangle"&&l?z.jsx(Hi,{ref:M=>b.current[0]=M,value:[(l==null?void 0:l[0])-r[0],(l==null?void 0:l[1])-r[1]],icon:{strokeWidth:2,strokeDasharray:"none"}}):null,a==="polygon"&&l?l.map((M,T)=>z.jsx(Hi,{ref:O=>b.current[T]=O,value:[M[0]-r[0],M[1]-r[1]],icon:{strokeWidth:2,strokeDasharray:"none"}},T)):null]}):null]})}const w2={NodeBg:G_,NodePosition:x2},C2=(e,n)=>console.log("drag",e,n),E2=(e,n)=>console.log("drag stop",n),L2={};function ns(e,n){return Math.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1]))}function ru(e,n){var i,r;return{id:String((e==null?void 0:e.id)||(e==null?void 0:e._id)||""),type:"NodePosition",deletable:!1,data:e?{...e,editing:n}:void 0,position:{x:((i=e==null?void 0:e.location)==null?void 0:i[0])||0,y:((r=e==null?void 0:e.location)==null?void 0:r[1])||0}}}function S2(e){return{id:String((e==null?void 0:e.id)||(e==null?void 0:e._id)||"0"),type:"NodeBg",deletable:!1,draggable:!1,selectable:!1,connectable:!1,focusable:!1,data:e,position:{x:0,y:0}}}const M2=e=>{e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")},T2=()=>{const e=aa(),[n,o]=k.useState(),{onChange:i}=zn(_=>({onChange:_.updateCurrent})),{dbNodeMap:r}=zn(_=>({dbNodeMap:_.dbNodeMap})),{parent:a,parentItem:l,value:c,currentId:u}=zn(_=>{var y,x;return{parent:_.parent,parentItem:_.parent?_.dbNodeMap[_.parent]:void 0,value:_.current,currentId:((y=_.current)==null?void 0:y.id)||((x=_.current)==null?void 0:x._id)}}),f=zn(md),[h,p]=k.useState({nodesWithoutCurrent:[],nodes:[],editing:!1}),[m,v]=k.useState("view");k.useEffect(()=>{c?c.location?v("edit"):v("create"):v("view")},[u,c==null?void 0:c.areaType]),k.useEffect(()=>{c&&!(c!=null&&c.location)&&!(c!=null&&c.area)&&v("create")},[c==null?void 0:c.location,c==null?void 0:c.area]),k.useEffect(()=>{p(_=>({..._,current:c}))},[c]),k.useEffect(()=>{p(_=>({..._,nodeBg:l?S2(l):void 0}))},[a]),k.useEffect(()=>{const _=f.map(y=>{const x=r[y];return(x==null?void 0:x.id)||(x==null?void 0:x._id)||console.log("warning! no position.id",x),ru(x)});p(y=>({...y,nodesWithoutCurrent:_}))},[f]);const E=k.useCallback(({..._})=>{var A,H,D,N,U;const{current:y}=e.getState();if(!y){console.log("error! no state.current!");return}if(_.attr==="image"){const I=_==null?void 0:_.offset,B=n==null?void 0:n.screenToFlowPosition({x:0,y:0}),M=n==null?void 0:n.screenToFlowPosition({x:I[0],y:I[1]});if(B&&M){const T=[M.x-B.x,M.y-B.y],O=(H=(A=h.current)==null?void 0:A.bg)==null?void 0:H.corners,j=O==null?void 0:O.map(V=>[V[0]+T[0],V[1]+T[1]]),K=y.bg||{};console.log("handleChangeNodeInner",{offset:I,position0:B,o:O,n:j}),i==null||i({...y,bg:{...K,corners:j}})}return}if(_.attr==="imageIndicator"){const I=_==null?void 0:_.offset,B=n==null?void 0:n.screenToFlowPosition({x:0,y:0}),M=n==null?void 0:n.screenToFlowPosition({x:I[0],y:I[1]});if(B&&M){const T=[M.x-B.x,M.y-B.y],O=(N=(D=h.current)==null?void 0:D.bg)==null?void 0:N.corners,j=O==null?void 0:O.map(V=>[V[0]+T[0],V[1]+T[1]]),K=y.bg||{};console.log("handleChangeNodeInner",{offset:I,position0:B,o:O,n:j}),i==null||i({...y,bg:{...K,corners:j}})}return}const x=n==null?void 0:n.screenToFlowPosition({x:_.clientX,y:_.clientY});if(console.log("handleChangeNodeInner",x),!x){console.log("error! no position!");return}if(_.attr==="location"){const I=[x.x,x.y];i==null||i({...y,location:I});return}if(_.attr==="area"){const I=[x.x,x.y];if(y.areaType==="rectangle"){i==null||i({...y,area:I});return}else if(y.areaType==="polygon"){const B=_.attrIndex??0,M=((U=y.area)==null?void 0:U.length)??0;if(B>=M){console.log(`error! array overflow! ${B} > ${M}!`);return}const T=[...y.area||[]];T[B]=I,i==null||i({...y,area:T});return}}},[n,i]);k.useEffect(()=>{const _=[];h.nodeBg&&_.push(h.nodeBg),h.nodesWithoutCurrent.length>0&&_.push(...h.nodesWithoutCurrent),h.current&&_.push(ru(h.current,!0)),p(y=>({...y,nodes:_}))},[h.nodeBg,h.nodesWithoutCurrent,h.current,E]);const S=k.useMemo(()=>["onMove","onMoveStart","onMoveEnd","onPaneContextMenu","onPaneScroll","onPaneMouseEnter","onPaneMouseLeave"].reduce((_,y)=>{const x=A=>{};return{..._,[y]:x}},{}),[n]),P=k.useCallback(_=>{const y=n==null?void 0:n.screenToFlowPosition({x:_.clientX,y:_.clientY});if(console.log("handlePaneClick",m,y),!y)return;const x=h.current;if(!x)return;const A=[y.x,y.y];if(m==="create"){if(x.areaType==="point"){if(!x.location){i==null||i({...x,location:A}),v("view");return}}else if(x.areaType==="circle"){if(!x.location){i==null||i({...x,location:A});return}if(!(x.area??void 0)){const H=x.location,D=ns(H,A);i==null||i({...x,area:D,_tmpArea:void 0}),v("view");return}return}else if(x.areaType==="rectangle"){if(!x.location){i==null||i({...x,location:A});return}if(!(x.area??void 0)){i==null||i({...x,area:A,_tmpArea:void 0}),v("view");return}return}else if(x.areaType==="polygon"){if(!x.location){i==null||i({...x,location:A});return}if(ns(x.location,A)<=10){i==null||i({...x,_tmpArea:void 0}),v("view");return}else{i==null||i({...x,area:[...x.area||[],A],_tmpArea:void 0});return}}}},[n,h.current,m]),b=k.useCallback(_=>{const y=n==null?void 0:n.screenToFlowPosition({x:_.clientX,y:_.clientY});if(!y)return;const x=h.current;if(x&&m==="create"){const A=[y.x,y.y],H=x.location;if(!H)return;if(x.areaType==="circle"){const D=ns(H,A);p(N=>({...N,current:{...N.current||{},_tmpArea:D}}));return}else if(x.areaType==="rectangle"){p(D=>({...D,current:{...D.current||{},_tmpArea:A}}));return}else if(x.areaType==="polygon"){p(D=>({...D,current:{...D.current||{},_tmpArea:A}}));return}}},[n,h.current,m]),w=_=>o(_);return z.jsxs(If,{nodeTypes:w2,onNodeClick:P,onNodeDragStop:E2,onNodeDrag:C2,nodes:h.nodes,className:"react-flow-basic-example",minZoom:.2,maxZoom:4,defaultEdgeOptions:L2,selectNodesOnDrag:!1,elevateEdgesOnSelect:!0,elevateNodesOnSelect:!1,onInit:w,onDragOver:M2,onMove:S==null?void 0:S.onMove,onMoveStart:S==null?void 0:S.onMoveStart,onMoveEnd:S==null?void 0:S.onMoveEnd,onPaneClick:P,onPaneContextMenu:S==null?void 0:S.onPaneContextMenu,onPaneScroll:S==null?void 0:S.onPaneScroll,onPaneMouseMove:b,onPaneMouseEnter:S==null?void 0:S.onPaneMouseEnter,onPaneMouseLeave:S==null?void 0:S.onPaneMouseLeave,children:[z.jsx(W_,{variant:fn.Dots}),z.jsx(O_,{}),z.jsx(V_,{position:"bottom-left"})]})};function k2(){return z.jsx(dl,{children:z.jsx(T2,{})})}function A2({onClose:e,onCommit:n}){return z.jsxs("div",{style:{position:"fixed",left:0,top:0,width:"100%",height:"100%",zIndex:2e3},children:[z.jsx("div",{style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",backgroundColor:"#000",opacity:.7},onClick:e}),z.jsxs("div",{style:{position:"absolute",margin:100,padding:20,backgroundColor:"#fff"},children:[z.jsxs("div",{style:{fontSize:"30px"},children:[z.jsx("p",{children:"!:onCommit(),onClose()"}),z.jsx("p",{style:{color:"red"},children:""})]}),z.jsxs("div",{children:[z.jsx("p",{style:{color:"red"},children:""}),z.jsx("img",{onClick:()=>n({url:"https://www.runoob.com/images/pulpit.jpg"}),src:"https://www.runoob.com/images/pulpit.jpg",style:{width:200,height:200,objectFit:"contain"}})]})]})]})}function D2(e){return new Promise((n,o)=>{const i=new window.Image;i.onload=()=>{n({w:i.width,h:i.height})},i.onerror=()=>{o(new Error("error load image!"))},i.src=e})}function P2(){var b,w,_,y,x,A,H,D,N,U,I,B,M,T,O,j,K,V,F,Z,q,W,J,X,ee,te,re,ie,se,ae,le,ye;const{ImageSelectPopup:e=A2,dbNodeMap:n={},value:o,onChange:i,onSubmit:r,onRemove:a,currentId:l}=zn(oe=>{var ce,_e;return{ImageSelectPopup:oe.ImageSelectPopup,dbNodeMap:oe.dbNodeMap,value:oe.current,onRemove:oe.remove,onSubmit:oe.save,onChange:oe.updateCurrent,currentId:((ce=oe.current)==null?void 0:ce.id)||((_e=oe.current)==null?void 0:_e._id)}}),[c,u]=k.useState({showAncestor:!1,showImage:!0,showGraph:!0,imagePopupOpen:!1}),f=o==null?void 0:o._tmpPreferEdit,h=oe=>()=>{u(ce=>({...ce,[oe]:!ce[oe]}))},p=oe=>()=>{i({...o,_tmpPreferEdit:oe})},m=()=>{u(oe=>({...oe,imagePopupOpen:!0}))},v=oe=>{if(console.log(oe),!o)return;const ce=oe==null?void 0:oe.url;ce?D2(ce).then(({w:_e,h:Pe})=>{var ve,we;const Se=o==null?void 0:o.locationType,ue={...(o==null?void 0:o.bg)||{},image:ce,w:_e,h:Pe};if(Se==="xyz"){const Te=Ap(((we=(ve=o==null?void 0:o.bg)==null?void 0:ve.corners)==null?void 0:we[0])||(o==null?void 0:o.location)||[0,0]),He=[Te[0]+_e,Te[1]],je=[Te[0],Te[1]+Pe],Ke=[Te[0]+_e,Te[1]+Pe],Ae=[Te,He,je,Ke];ue.corners=Ae}const ge={...o,bg:ue,_tmpPreferEdit:"image"};console.log("handleImageCommit",{w:_e,h:Pe},ge),i(ge)}):i({...o,bg:void 0,_tmpPreferEdit:"graph"}),u(_e=>({..._e,imagePopupOpen:!1}))},E=()=>{u(oe=>({...oe,imagePopupOpen:!1}))},S=oe=>ce=>{if(i&&o){const _e={...o,[oe]:ce.target.value};i(_e)}},P=oe=>{if(o&&(o==null?void 0:o.areaType)!==oe){const ce={...o,location:void 0,areaType:oe,area:void 0,_tmpArea:void 0,_tmpPreferEdit:"graph"};i==null||i(ce)}else console.log("info:areaType")};return o?z.jsx("div",{style:{paddingBottom:"70px"},children:z.jsxs("div",{children:[z.jsxs("div",{children:[z.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[z.jsx("h3",{children:""}),z.jsxs("div",{style:{fontSize:"11px"},children:[z.jsx("span",{style:{marginLeft:"15px"},children:"ID:"}),z.jsx("span",{children:l})]})]}),z.jsxs("div",{className:"rc-property-item",children:[z.jsx("span",{className:"rc-property-item-label",children:":"}),z.jsx("input",{className:"customInput",value:o.name??"",onChange:S("name"),placeholder:""})]}),z.jsxs("div",{className:"rc-property-item",children:[z.jsx("span",{className:"rc-property-item-label",children:":"}),z.jsxs("div",{className:"buttonGroup",children:[z.jsx("div",{className:"buttonGroup-item"+((o==null?void 0:o.nodeType)==="structure"?" checked":""),onClick:()=>S("nodeType")({target:{value:"structure"}}),children:""}),z.jsx("div",{className:"buttonGroup-item"+((o==null?void 0:o.nodeType)==="position"?" checked":""),onClick:()=>S("nodeType")({target:{value:"position"}}),children:""})]})]}),z.jsxs("div",{className:"rc-property-item",children:[z.jsx("span",{className:"rc-property-item-label",children:":"}),z.jsx("input",{className:"customInput",value:o.parent&&((b=n[o.parent])==null?void 0:b.name)||"",readOnly:!0}),z.jsxs("div",{style:{display:"flex",alignItems:"center",marginLeft:"10px",cursor:"pointer"},onClick:h("showAncestor"),children:[z.jsx(ut,{name:"icon-parent",color:c.showAncestor?"#3D5AFE":"#BDBDBD"}),z.jsx("span",{style:{color:c.showAncestor?"#3D5AFE":"#BDBDBD"},children:""})]})]}),c.showAncestor?z.jsxs("div",{className:"rc-property-item",children:[z.jsx("span",{className:"rc-property-item-label",children:": "}),z.jsx("span",{style:{maxWidth:300},children:(w=o.ancestor)==null?void 0:w.map(oe=>{var ce;return`/${((ce=n[oe])==null?void 0:ce.name)||"-"}`})})]}):null]}),z.jsxs("div",{style:{marginTop:"15px"},children:[z.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[z.jsx("h3",{children:""}),z.jsxs("div",{style:{display:"flex"},children:[z.jsx("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginRight:"10px"},onClick:h("showGraph"),children:z.jsx(ut,{name:"icon-look",color:c.showGraph?"#3D5AFE":"#BDBDBD"})}),z.jsx("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:p("graph"),children:z.jsx(ut,{name:"icon-selected",color:f==="graph"?"#3D5AFE":"#BDBDBD"})})]})]}),z.jsxs("div",{className:"rc-property-item",children:[z.jsx("span",{className:"rc-property-item-label",children:":"}),z.jsx("input",{className:"customInput",value:o.locationType??"",readOnly:!0})]}),z.jsxs("div",{className:"rc-property-item",children:[z.jsx("span",{className:"rc-property-item-label",children:":"}),z.jsxs("div",{className:"buttonGroup",children:[z.jsx("div",{className:"buttonGroup-item"+((o==null?void 0:o.areaType)==="point"?" checked":""),onClick:()=>P("point"),children:z.jsx(ut,{name:"icon-point",color:"#3D5AFE"})}),z.jsx("div",{className:"buttonGroup-item"+((o==null?void 0:o.areaType)==="polygon"?" checked":""),onClick:()=>P("polygon"),children:z.jsx(ut,{name:"icon-polygon",color:"#3D5AFE"})}),z.jsx("div",{className:"buttonGroup-item"+((o==null?void 0:o.areaType)==="rectangle"?" checked":""),onClick:()=>P("rectangle"),children:z.jsx(ut,{name:"icon-rectangle",color:"#3D5AFE"})}),z.jsx("div",{className:"buttonGroup-item"+((o==null?void 0:o.areaType)==="circle"?" checked":""),onClick:()=>P("circle"),children:z.jsx(ut,{name:"icon-circle",color:"#3D5AFE"})})]})]}),z.jsxs("div",{className:"rc-property-item",children:[z.jsx("div",{children:z.jsx("input",{className:"customInput",value:(o.location&&o.location[0])??"",readOnly:!0})}),z.jsx("div",{children:z.jsx("input",{className:"customInput",style:{marginLeft:"5px"},value:(o.location&&o.location[1])??"",readOnly:!0})})]}),(o==null?void 0:o.areaType)==="circle"?z.jsx("div",{className:"rc-property-item",children:z.jsx("input",{className:"customInput",value:o.area??"",readOnly:!0})}):null,(o==null?void 0:o.areaType)==="rectangle"?z.jsxs("div",{className:"rc-property-item",children:[z.jsx("input",{className:"customInput",value:((_=o.area)==null?void 0:_[0])??"",readOnly:!0}),z.jsx("input",{className:"customInput",style:{marginLeft:"5px"},value:((y=o.area)==null?void 0:y[1])??"",readOnly:!0})]}):null,(o==null?void 0:o.areaType)==="polygon"?(x=o==null?void 0:o.area)==null?void 0:x.map((oe,ce)=>z.jsxs("div",{className:"rc-property-item",style:{marginTop:"unset"},children:[z.jsx("input",{className:"customInput",value:(oe==null?void 0:oe[0])??"",readOnly:!0}),z.jsx("input",{className:"customInput",style:{marginLeft:"5px"},value:(oe==null?void 0:oe[1])??"",readOnly:!0})]},ce)):null]}),z.jsxs("div",{style:{marginTop:"15px"},children:[z.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[z.jsx("h3",{children:""}),z.jsxs("div",{style:{display:"flex"},children:[z.jsx("div",{style:{display:"flex",alignItems:"center",cursor:"pointer",marginRight:"10px"},onClick:h("showImage"),children:z.jsx(ut,{name:"icon-look",color:c.showImage?"#3D5AFE":"#BDBDBD"})}),z.jsx("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},onClick:p("image"),children:z.jsx(ut,{name:"icon-selected",color:f==="image"?"#3D5AFE":"#BDBDBD"})})]})]}),z.jsx("div",{onClick:m,children:(A=o==null?void 0:o.bg)!=null&&A.image?z.jsx("img",{style:{width:100,height:100},src:(H=o==null?void 0:o.bg)==null?void 0:H.image}):z.jsx(ut,{name:"icon-addimg",size:100})}),c.imagePopupOpen?z.jsx(e,{onCommit:v,onClose:E}):null,(D=o.bg)!=null&&D.corners?z.jsxs("div",{style:{fontSize:"13px",marginTop:"5px"},children:[z.jsx("div",{style:{width:"70px",textAlign:"right"},children:":"}),z.jsxs("div",{children:[z.jsxs("div",{style:{marginTop:"5px"},children:[z.jsx("input",{className:"customInput",value:((I=(U=(N=o.bg)==null?void 0:N.corners)==null?void 0:U[0])==null?void 0:I[0])??"",readOnly:!0}),z.jsx("input",{className:"customInput",style:{marginLeft:"5px"},value:((T=(M=(B=o.bg)==null?void 0:B.corners)==null?void 0:M[0])==null?void 0:T[1])??"",readOnly:!0})]}),z.jsxs("div",{style:{marginTop:"5px"},children:[z.jsx("input",{className:"customInput",value:((K=(j=(O=o.bg)==null?void 0:O.corners)==null?void 0:j[1])==null?void 0:K[0])??"",readOnly:!0}),z.jsx("input",{className:"customInput",style:{marginLeft:"5px"},value:((Z=(F=(V=o.bg)==null?void 0:V.corners)==null?void 0:F[1])==null?void 0:Z[1])??"",readOnly:!0})]}),z.jsxs("div",{style:{marginTop:"5px"},children:[z.jsx("input",{className:"customInput",value:((J=(W=(q=o.bg)==null?void 0:q.corners)==null?void 0:W[2])==null?void 0:J[0])??"",readOnly:!0}),z.jsx("input",{className:"customInput",style:{marginLeft:"5px"},value:((te=(ee=(X=o.bg)==null?void 0:X.corners)==null?void 0:ee[2])==null?void 0:te[1])??"",readOnly:!0})]}),z.jsxs("div",{style:{marginTop:"5px"},children:[z.jsx("input",{className:"customInput",value:((se=(ie=(re=o.bg)==null?void 0:re.corners)==null?void 0:ie[3])==null?void 0:se[0])??"",readOnly:!0}),z.jsx("input",{className:"customInput",style:{marginLeft:"5px"},value:((ye=(le=(ae=o.bg)==null?void 0:ae.corners)==null?void 0:le[3])==null?void 0:ye[1])??"",readOnly:!0})]})]})]}):null]}),z.jsxs("div",{style:{position:"absolute",bottom:"16px",width:"90%",display:"flex"},children:[z.jsx("button",{style:{border:"1px solid #3D5AFE",color:"#3D5AFE",background:"#fff",flex:1,marginRight:"20px"},onClick:()=>a==null?void 0:a(l),children:""}),z.jsx("button",{style:{border:"1px solid #3d5afe",color:"#fff",background:"#3D5AFE",flex:1},onClick:()=>r==null?void 0:r(o),children:""})]})]})}):z.jsx("div",{style:{background:"rgba(255,255,255,0.90)",padding:"10px 20px",borderRadius:"10px",boxShadow:"0px 4px 4px 0px rgba(0,0,0,0.25)"},children:""})}function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},xt.apply(this,arguments)}function At(e){"@babel/helpers - typeof";return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},At(e)}function N2(e,n){if(At(e)!="object"||!e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var i=o.call(e,n||"default");if(At(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function jf(e){var n=N2(e,"string");return At(n)=="symbol"?n:String(n)}function Me(e,n,o){return n=jf(n),n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function I2(e){if(Array.isArray(e))return e}function O2(e,n){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var i,r,a,l,c=[],u=!0,f=!1;try{if(a=(o=o.call(e)).next,n===0){if(Object(o)!==o)return;u=!1}else for(;!(u=(i=a.call(o)).done)&&(c.push(i.value),c.length!==n);u=!0);}catch(h){f=!0,r=h}finally{try{if(!u&&o.return!=null&&(l=o.return(),Object(l)!==l))return}finally{if(f)throw r}}return c}}function ks(e,n){(n==null||n>e.length)&&(n=e.length);for(var o=0,i=new Array(n);o<n;o++)i[o]=e[o];return i}function Uf(e,n){if(e){if(typeof e=="string")return ks(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ks(e,n)}}function R2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xe(e,n){return I2(e)||O2(e,n)||Uf(e,n)||R2()}function H2(e,n){if(e==null)return{};var o={},i=Object.keys(e),r,a;for(a=0;a<i.length;a++)r=i[a],!(n.indexOf(r)>=0)&&(o[r]=e[r]);return o}function ar(e,n){if(e==null)return{};var o=H2(e,n),i,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)i=a[r],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function iu(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,i)}return o}function fe(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?iu(Object(o),!0).forEach(function(i){Me(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):iu(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function sr(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var As={},z2=function(n){};function B2(e,n){}function j2(e,n){}function U2(){As={}}function Vf(e,n,o){!n&&!As[o]&&(e(!1,o),As[o]=!0)}function An(e,n){Vf(B2,e,n)}function V2(e,n){Vf(j2,e,n)}An.preMessage=z2;An.resetWarned=U2;An.noteOnce=V2;var Zf={exports:{}},We={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=Symbol.for("react.element"),hl=Symbol.for("react.portal"),ma=Symbol.for("react.fragment"),ga=Symbol.for("react.strict_mode"),va=Symbol.for("react.profiler"),ya=Symbol.for("react.provider"),_a=Symbol.for("react.context"),Z2=Symbol.for("react.server_context"),ba=Symbol.for("react.forward_ref"),xa=Symbol.for("react.suspense"),wa=Symbol.for("react.suspense_list"),Ca=Symbol.for("react.memo"),Ea=Symbol.for("react.lazy"),F2=Symbol.for("react.offscreen"),Ff;Ff=Symbol.for("react.module.reference");function hn(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case fl:switch(e=e.type,e){case ma:case va:case ga:case xa:case wa:return e;default:switch(e=e&&e.$$typeof,e){case Z2:case _a:case ba:case Ea:case Ca:case ya:return e;default:return n}}case hl:return n}}}We.ContextConsumer=_a;We.ContextProvider=ya;We.Element=fl;We.ForwardRef=ba;We.Fragment=ma;We.Lazy=Ea;We.Memo=Ca;We.Portal=hl;We.Profiler=va;We.StrictMode=ga;We.Suspense=xa;We.SuspenseList=wa;We.isAsyncMode=function(){return!1};We.isConcurrentMode=function(){return!1};We.isContextConsumer=function(e){return hn(e)===_a};We.isContextProvider=function(e){return hn(e)===ya};We.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===fl};We.isForwardRef=function(e){return hn(e)===ba};We.isFragment=function(e){return hn(e)===ma};We.isLazy=function(e){return hn(e)===Ea};We.isMemo=function(e){return hn(e)===Ca};We.isPortal=function(e){return hn(e)===hl};We.isProfiler=function(e){return hn(e)===va};We.isStrictMode=function(e){return hn(e)===ga};We.isSuspense=function(e){return hn(e)===xa};We.isSuspenseList=function(e){return hn(e)===wa};We.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ma||e===va||e===ga||e===xa||e===wa||e===F2||typeof e=="object"&&e!==null&&(e.$$typeof===Ea||e.$$typeof===Ca||e.$$typeof===ya||e.$$typeof===_a||e.$$typeof===ba||e.$$typeof===Ff||e.getModuleId!==void 0)};We.typeOf=hn;Zf.exports=We;var Kf=Zf.exports;function K2(e,n,o){var i=k.useRef({});return(!("value"in i.current)||o(i.current.condition,n))&&(i.current.value=e(),i.current.condition=n),i.current.value}function pl(e,n){typeof e=="function"?e(n):At(e)==="object"&&e&&"current"in e&&(e.current=n)}function La(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];var i=n.filter(function(r){return r});return i.length<=1?i[0]:function(r){n.forEach(function(a){pl(a,r)})}}function ml(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return K2(function(){return La.apply(void 0,n)},n,function(i,r){return i.length!==r.length||i.every(function(a,l){return a!==r[l]})})}function gi(e){var n,o,i=Kf.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((n=i.prototype)!==null&&n!==void 0&&n.render)||typeof e=="function"&&!((o=e.prototype)!==null&&o!==void 0&&o.render))}var qf=k.createContext(null);function q2(e){if(Array.isArray(e))return ks(e)}function $2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jn(e){return q2(e)||$2(e)||Uf(e)||W2()}var ou=sr()?k.useLayoutEffect:k.useEffect,dt=function(n,o){var i=k.useRef(!0);ou(function(){return n(i.current)},o),ou(function(){return i.current=!1,function(){i.current=!0}},[])},au=[];function G2(e,n){var o=k.useState(function(){if(!sr())return null;var E=document.createElement("div");return E}),i=xe(o,1),r=i[0],a=k.useRef(!1),l=k.useContext(qf),c=k.useState(au),u=xe(c,2),f=u[0],h=u[1],p=l||(a.current?void 0:function(E){h(function(S){var P=[E].concat(jn(S));return P})});function m(){r.parentElement||document.body.appendChild(r),a.current=!0}function v(){var E;(E=r.parentElement)===null||E===void 0||E.removeChild(r),a.current=!1}return dt(function(){return e?l?l(m):m():v(),v},[e]),dt(function(){f.length&&(f.forEach(function(E){return E()}),h(au))},[f]),[r,p]}function Y2(e,n){if(!e)return!1;if(e.contains)return e.contains(n);for(var o=n;o;){if(o===e)return!0;o=o.parentNode}return!1}var su="data-rc-order",lu="data-rc-priority",X2="rc-util-key",Ds=new Map;function $f(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.mark;return n?n.startsWith("data-")?n:"data-".concat(n):X2}function Sa(e){if(e.attachTo)return e.attachTo;var n=document.querySelector("head");return n||document.body}function J2(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function Wf(e){return Array.from((Ds.get(e)||e).children).filter(function(n){return n.tagName==="STYLE"})}function Gf(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!sr())return null;var o=n.csp,i=n.prepend,r=n.priority,a=r===void 0?0:r,l=J2(i),c=l==="prependQueue",u=document.createElement("style");u.setAttribute(su,l),c&&a&&u.setAttribute(lu,"".concat(a)),o!=null&&o.nonce&&(u.nonce=o==null?void 0:o.nonce),u.innerHTML=e;var f=Sa(n),h=f.firstChild;if(i){if(c){var p=Wf(f).filter(function(m){if(!["prepend","prependQueue"].includes(m.getAttribute(su)))return!1;var v=Number(m.getAttribute(lu)||0);return a>=v});if(p.length)return f.insertBefore(u,p[p.length-1].nextSibling),u}f.insertBefore(u,h)}else f.appendChild(u);return u}function Yf(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=Sa(n);return Wf(o).find(function(i){return i.getAttribute($f(n))===e})}function cu(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=Yf(e,n);if(o){var i=Sa(n);i.removeChild(o)}}function Q2(e,n){var o=Ds.get(e);if(!o||!Y2(document,o)){var i=Gf("",n),r=i.parentNode;Ds.set(e,r),e.removeChild(i)}}function eb(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Sa(o);Q2(i,o);var r=Yf(n,o);if(r){var a,l;if((a=o.csp)!==null&&a!==void 0&&a.nonce&&r.nonce!==((l=o.csp)===null||l===void 0?void 0:l.nonce)){var c;r.nonce=(c=o.csp)===null||c===void 0?void 0:c.nonce}return r.innerHTML!==e&&(r.innerHTML=e),r}var u=Gf(e,o);return u.setAttribute($f(o),n),u}var rs;function tb(e){if(typeof document>"u")return 0;if(e||rs===void 0){var n=document.createElement("div");n.style.width="100%",n.style.height="200px";var o=document.createElement("div"),i=o.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",o.appendChild(n),document.body.appendChild(o);var r=n.offsetWidth;o.style.overflow="scroll";var a=n.offsetWidth;r===a&&(a=o.clientWidth),document.body.removeChild(o),rs=r-a}return rs}function uu(e){var n=e.match(/^(.*)px$/),o=Number(n==null?void 0:n[1]);return Number.isNaN(o)?tb():o}function nb(e){if(typeof document>"u"||!e||!(e instanceof Element))return{width:0,height:0};var n=getComputedStyle(e,"::-webkit-scrollbar"),o=n.width,i=n.height;return{width:uu(o),height:uu(i)}}function rb(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var ib="rc-util-locker-".concat(Date.now()),du=0;function ob(e){var n=!!e,o=k.useState(function(){return du+=1,"".concat(ib,"_").concat(du)}),i=xe(o,1),r=i[0];dt(function(){if(n){var a=nb(document.body).width,l=rb();eb(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(a,"px);"):"",`
}`),r)}else cu(r);return function(){cu(r)}},[n,r])}var fu=!1;function ab(e){return typeof e=="boolean"&&(fu=e),fu}var hu=function(n){return n===!1?!1:!sr()||!n?null:typeof n=="string"?document.querySelector(n):typeof n=="function"?n():n},Xf=k.forwardRef(function(e,n){var o=e.open,i=e.autoLock,r=e.getContainer;e.debug;var a=e.autoDestroy,l=a===void 0?!0:a,c=e.children,u=k.useState(o),f=xe(u,2),h=f[0],p=f[1],m=h||o;k.useEffect(function(){(l||o)&&p(o)},[o,l]);var v=k.useState(function(){return hu(r)}),E=xe(v,2),S=E[0],P=E[1];k.useEffect(function(){var I=hu(r);P(I??null)});var b=G2(m&&!S),w=xe(b,2),_=w[0],y=w[1],x=S??_;ob(i&&o&&sr()&&(x===_||x===document.body));var A=null;if(c&&gi(c)&&n){var H=c;A=H.ref}var D=ml(A,n);if(!m||!sr()||S===void 0)return null;var N=x===!1||ab(),U=c;return n&&(U=k.cloneElement(c,{ref:D})),k.createElement(qf.Provider,{value:y},N?U:cs.createPortal(U,x))}),Jf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var n={}.hasOwnProperty;function o(){for(var a="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(a=r(a,i(c)))}return a}function i(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return o.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var l="";for(var c in a)n.call(a,c)&&a[c]&&(l=r(l,c));return l}function r(a,l){return l?a?a+" "+l:a+l:a}e.exports?(o.default=o,e.exports=o):window.classNames=o})()})(Jf);var sb=Jf.exports;const ot=pi(sb);function Xo(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=[];return Y.Children.forEach(e,function(i){i==null&&!n.keepEmpty||(Array.isArray(i)?o=o.concat(Xo(i)):Kf.isFragment(i)&&i.props?o=o.concat(Xo(i.props.children,n)):o.push(i))}),o}function Jo(e){return e instanceof HTMLElement||e instanceof SVGElement}function zi(e){return Jo(e)?e:e instanceof Y.Component?Dp.findDOMNode(e):null}var Ps=k.createContext(null);function lb(e){var n=e.children,o=e.onBatchResize,i=k.useRef(0),r=k.useRef([]),a=k.useContext(Ps),l=k.useCallback(function(c,u,f){i.current+=1;var h=i.current;r.current.push({size:c,element:u,data:f}),Promise.resolve().then(function(){h===i.current&&(o==null||o(r.current),r.current=[])}),a==null||a(c,u,f)},[o,a]);return k.createElement(Ps.Provider,{value:l},n)}var Qf=function(){if(typeof Map<"u")return Map;function e(n,o){var i=-1;return n.some(function(r,a){return r[0]===o?(i=a,!0):!1}),i}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(o){var i=e(this.__entries__,o),r=this.__entries__[i];return r&&r[1]},n.prototype.set=function(o,i){var r=e(this.__entries__,o);~r?this.__entries__[r][1]=i:this.__entries__.push([o,i])},n.prototype.delete=function(o){var i=this.__entries__,r=e(i,o);~r&&i.splice(r,1)},n.prototype.has=function(o){return!!~e(this.__entries__,o)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(o,i){i===void 0&&(i=null);for(var r=0,a=this.__entries__;r<a.length;r++){var l=a[r];o.call(i,l[1],l[0])}},n}()}(),Ns=typeof window<"u"&&typeof document<"u"&&window.document===document,Qo=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),cb=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Qo):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),ub=2;function db(e,n){var o=!1,i=!1,r=0;function a(){o&&(o=!1,e()),i&&c()}function l(){cb(a)}function c(){var u=Date.now();if(o){if(u-r<ub)return;i=!0}else o=!0,i=!1,setTimeout(l,n);r=u}return c}var fb=20,hb=["top","right","bottom","left","width","height","size","weight"],pb=typeof MutationObserver<"u",mb=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=db(this.refresh.bind(this),fb)}return e.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},e.prototype.removeObserver=function(n){var o=this.observers_,i=o.indexOf(n);~i&&o.splice(i,1),!o.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},e.prototype.updateObservers_=function(){var n=this.observers_.filter(function(o){return o.gatherActive(),o.hasActive()});return n.forEach(function(o){return o.broadcastActive()}),n.length>0},e.prototype.connect_=function(){!Ns||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),pb?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!Ns||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(n){var o=n.propertyName,i=o===void 0?"":o,r=hb.some(function(a){return!!~i.indexOf(a)});r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),eh=function(e,n){for(var o=0,i=Object.keys(n);o<i.length;o++){var r=i[o];Object.defineProperty(e,r,{value:n[r],enumerable:!1,writable:!1,configurable:!0})}return e},hi=function(e){var n=e&&e.ownerDocument&&e.ownerDocument.defaultView;return n||Qo},th=Ma(0,0,0,0);function ea(e){return parseFloat(e)||0}function pu(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return n.reduce(function(i,r){var a=e["border-"+r+"-width"];return i+ea(a)},0)}function gb(e){for(var n=["top","right","bottom","left"],o={},i=0,r=n;i<r.length;i++){var a=r[i],l=e["padding-"+a];o[a]=ea(l)}return o}function vb(e){var n=e.getBBox();return Ma(0,0,n.width,n.height)}function yb(e){var n=e.clientWidth,o=e.clientHeight;if(!n&&!o)return th;var i=hi(e).getComputedStyle(e),r=gb(i),a=r.left+r.right,l=r.top+r.bottom,c=ea(i.width),u=ea(i.height);if(i.boxSizing==="border-box"&&(Math.round(c+a)!==n&&(c-=pu(i,"left","right")+a),Math.round(u+l)!==o&&(u-=pu(i,"top","bottom")+l)),!bb(e)){var f=Math.round(c+a)-n,h=Math.round(u+l)-o;Math.abs(f)!==1&&(c-=f),Math.abs(h)!==1&&(u-=h)}return Ma(r.left,r.top,c,u)}var _b=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof hi(e).SVGGraphicsElement}:function(e){return e instanceof hi(e).SVGElement&&typeof e.getBBox=="function"}}();function bb(e){return e===hi(e).document.documentElement}function xb(e){return Ns?_b(e)?vb(e):yb(e):th}function wb(e){var n=e.x,o=e.y,i=e.width,r=e.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(a.prototype);return eh(l,{x:n,y:o,width:i,height:r,top:o,right:n+i,bottom:r+o,left:n}),l}function Ma(e,n,o,i){return{x:e,y:n,width:o,height:i}}var Cb=function(){function e(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ma(0,0,0,0),this.target=n}return e.prototype.isActive=function(){var n=xb(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},e}(),Eb=function(){function e(n,o){var i=wb(o);eh(this,{target:n,contentRect:i})}return e}(),Lb=function(){function e(n,o,i){if(this.activeObservations_=[],this.observations_=new Qf,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=o,this.callbackCtx_=i}return e.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof hi(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var o=this.observations_;o.has(n)||(o.set(n,new Cb(n)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof hi(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var o=this.observations_;o.has(n)&&(o.delete(n),o.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(o){o.isActive()&&n.activeObservations_.push(o)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,o=this.activeObservations_.map(function(i){return new Eb(i.target,i.broadcastRect())});this.callback_.call(n,o,n),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),nh=typeof WeakMap<"u"?new WeakMap:new Qf,rh=function(){function e(n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var o=mb.getInstance(),i=new Lb(n,o,this);nh.set(this,i)}return e}();["observe","unobserve","disconnect"].forEach(function(e){rh.prototype[e]=function(){var n;return(n=nh.get(this))[e].apply(n,arguments)}});var Sb=function(){return typeof Qo.ResizeObserver<"u"?Qo.ResizeObserver:rh}(),Cr=new Map;function Mb(e){e.forEach(function(n){var o,i=n.target;(o=Cr.get(i))===null||o===void 0||o.forEach(function(r){return r(i)})})}var ih=new Sb(Mb);function Tb(e,n){Cr.has(e)||(Cr.set(e,new Set),ih.observe(e)),Cr.get(e).add(n)}function kb(e,n){Cr.has(e)&&(Cr.get(e).delete(n),Cr.get(e).size||(ih.unobserve(e),Cr.delete(e)))}function vi(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function mu(e,n){for(var o=0;o<n.length;o++){var i=n[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,jf(i.key),i)}}function yi(e,n,o){return n&&mu(e.prototype,n),o&&mu(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function Is(e,n){return Is=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Is(e,n)}function to(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Is(e,n)}function ta(e){return ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},ta(e)}function oh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oh=function(){return!!e})()}function Tn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ab(e,n){if(n&&(At(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tn(e)}function no(e){var n=oh();return function(){var i=ta(e),r;if(n){var a=ta(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return Ab(this,r)}}var Db=function(e){to(o,e);var n=no(o);function o(){return vi(this,o),n.apply(this,arguments)}return yi(o,[{key:"render",value:function(){return this.props.children}}]),o}(k.Component);function Pb(e,n){var o=e.children,i=e.disabled,r=k.useRef(null),a=k.useRef(null),l=k.useContext(Ps),c=typeof o=="function",u=c?o(r):o,f=k.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),h=!c&&k.isValidElement(u)&&gi(u),p=h?u.ref:null,m=ml(p,r),v=function(){var b;return zi(r.current)||(r.current&&At(r.current)==="object"?zi((b=r.current)===null||b===void 0?void 0:b.nativeElement):null)||zi(a.current)};k.useImperativeHandle(n,function(){return v()});var E=k.useRef(e);E.current=e;var S=k.useCallback(function(P){var b=E.current,w=b.onResize,_=b.data,y=P.getBoundingClientRect(),x=y.width,A=y.height,H=P.offsetWidth,D=P.offsetHeight,N=Math.floor(x),U=Math.floor(A);if(f.current.width!==N||f.current.height!==U||f.current.offsetWidth!==H||f.current.offsetHeight!==D){var I={width:N,height:U,offsetWidth:H,offsetHeight:D};f.current=I;var B=H===Math.round(x)?x:H,M=D===Math.round(A)?A:D,T=fe(fe({},I),{},{offsetWidth:B,offsetHeight:M});l==null||l(T,P,_),w&&Promise.resolve().then(function(){w(T,P)})}},[]);return k.useEffect(function(){var P=v();return P&&!i&&Tb(P,S),function(){return kb(P,S)}},[r.current,i]),k.createElement(Db,{ref:a},h?k.cloneElement(u,{ref:m}):u)}var Nb=k.forwardRef(Pb),Ib="rc-observer-key";function Ob(e,n){var o=e.children,i=typeof o=="function"?[o]:Xo(o);return i.map(function(r,a){var l=(r==null?void 0:r.key)||"".concat(Ib,"-").concat(a);return k.createElement(Nb,xt({},e,{key:l,ref:a===0?n:void 0}),r)})}var ro=k.forwardRef(Ob);ro.Collection=lb;function ah(e){var n;return e==null||(n=e.getRootNode)===null||n===void 0?void 0:n.call(e)}function Rb(e){return ah(e)instanceof ShadowRoot}function Os(e){return Rb(e)?ah(e):null}function tr(e){var n=k.useRef();n.current=e;var o=k.useCallback(function(){for(var i,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(i=n.current)===null||i===void 0?void 0:i.call.apply(i,[n].concat(a))},[]);return o}function Hb(){var e=fe({},Pp);return e.useId}var gu=0,vu=Hb();const zb=vu?function(n){var o=vu();return n||o}:function(n){var o=k.useState("ssr-id"),i=xe(o,2),r=i[0],a=i[1];return k.useEffect(function(){var l=gu;gu+=1,a("rc_unique_".concat(l))},[]),n||r},Bb=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(e==null?void 0:e.substr(0,4))};var jb=k.createContext({}),Ub=function(e){to(o,e);var n=no(o);function o(){return vi(this,o),n.apply(this,arguments)}return yi(o,[{key:"render",value:function(){return this.props.children}}]),o}(k.Component);function Bo(e){var n=k.useRef(!1),o=k.useState(e),i=xe(o,2),r=i[0],a=i[1];k.useEffect(function(){return n.current=!1,function(){n.current=!0}},[]);function l(c,u){u&&n.current||a(c)}return[r,l]}var Pr="none",Do="appear",Po="enter",No="leave",yu="none",Mn="prepare",ri="start",ii="active",gl="end",sh="prepared";function _u(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit".concat(e)]="webkit".concat(n),o["Moz".concat(e)]="moz".concat(n),o["ms".concat(e)]="MS".concat(n),o["O".concat(e)]="o".concat(n.toLowerCase()),o}function Vb(e,n){var o={animationend:_u("Animation","AnimationEnd"),transitionend:_u("Transition","TransitionEnd")};return e&&("AnimationEvent"in n||delete o.animationend.animation,"TransitionEvent"in n||delete o.transitionend.transition),o}var Zb=Vb(sr(),typeof window<"u"?window:{}),lh={};if(sr()){var Fb=document.createElement("div");lh=Fb.style}var Io={};function ch(e){if(Io[e])return Io[e];var n=Zb[e];if(n)for(var o=Object.keys(n),i=o.length,r=0;r<i;r+=1){var a=o[r];if(Object.prototype.hasOwnProperty.call(n,a)&&a in lh)return Io[e]=n[a],Io[e]}return""}var uh=ch("animationend"),dh=ch("transitionend"),fh=!!(uh&&dh),bu=uh||"animationend",xu=dh||"transitionend";function wu(e,n){if(!e)return null;if(At(e)==="object"){var o=n.replace(/-\w/g,function(i){return i[1].toUpperCase()});return e[o]}return"".concat(e,"-").concat(n)}const Kb=function(e){var n=k.useRef(),o=k.useRef(e);o.current=e;var i=k.useCallback(function(l){o.current(l)},[]);function r(l){l&&(l.removeEventListener(xu,i),l.removeEventListener(bu,i))}function a(l){n.current&&n.current!==l&&r(n.current),l&&l!==n.current&&(l.addEventListener(xu,i),l.addEventListener(bu,i),n.current=l)}return k.useEffect(function(){return function(){r(n.current)}},[]),[a,r]};var hh=sr()?k.useLayoutEffect:k.useEffect,ph=function(n){return+setTimeout(n,16)},mh=function(n){return clearTimeout(n)};typeof window<"u"&&"requestAnimationFrame"in window&&(ph=function(n){return window.requestAnimationFrame(n)},mh=function(n){return window.cancelAnimationFrame(n)});var Cu=0,vl=new Map;function gh(e){vl.delete(e)}var Rt=function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Cu+=1;var i=Cu;function r(a){if(a===0)gh(i),n();else{var l=ph(function(){r(a-1)});vl.set(i,l)}}return r(o),i};Rt.cancel=function(e){var n=vl.get(e);return gh(e),mh(n)};const qb=function(){var e=k.useRef(null);function n(){Rt.cancel(e.current)}function o(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;n();var a=Rt(function(){r<=1?i({isCanceled:function(){return a!==e.current}}):o(i,r-1)});e.current=a}return k.useEffect(function(){return function(){n()}},[]),[o,n]};var $b=[Mn,ri,ii,gl],Wb=[Mn,sh],vh=!1,Gb=!0;function yh(e){return e===ii||e===gl}const Yb=function(e,n,o){var i=Bo(yu),r=xe(i,2),a=r[0],l=r[1],c=qb(),u=xe(c,2),f=u[0],h=u[1];function p(){l(Mn,!0)}var m=n?Wb:$b;return hh(function(){if(a!==yu&&a!==gl){var v=m.indexOf(a),E=m[v+1],S=o(a);S===vh?l(E,!0):E&&f(function(P){function b(){P.isCanceled()||l(E,!0)}S===!0?b():Promise.resolve(S).then(b)})}},[e,a]),k.useEffect(function(){return function(){h()}},[]),[p,a]};function Xb(e,n,o,i){var r=i.motionEnter,a=r===void 0?!0:r,l=i.motionAppear,c=l===void 0?!0:l,u=i.motionLeave,f=u===void 0?!0:u,h=i.motionDeadline,p=i.motionLeaveImmediately,m=i.onAppearPrepare,v=i.onEnterPrepare,E=i.onLeavePrepare,S=i.onAppearStart,P=i.onEnterStart,b=i.onLeaveStart,w=i.onAppearActive,_=i.onEnterActive,y=i.onLeaveActive,x=i.onAppearEnd,A=i.onEnterEnd,H=i.onLeaveEnd,D=i.onVisibleChanged,N=Bo(),U=xe(N,2),I=U[0],B=U[1],M=Bo(Pr),T=xe(M,2),O=T[0],j=T[1],K=Bo(null),V=xe(K,2),F=V[0],Z=V[1],q=k.useRef(!1),W=k.useRef(null);function J(){return o()}var X=k.useRef(!1);function ee(){j(Pr,!0),Z(null,!0)}function te(ge){var ve=J();if(!(ge&&!ge.deadline&&ge.target!==ve)){var we=X.current,Te;O===Do&&we?Te=x==null?void 0:x(ve,ge):O===Po&&we?Te=A==null?void 0:A(ve,ge):O===No&&we&&(Te=H==null?void 0:H(ve,ge)),O!==Pr&&we&&Te!==!1&&ee()}}var re=Kb(te),ie=xe(re,1),se=ie[0],ae=function(ve){var we,Te,He;switch(ve){case Do:return we={},Me(we,Mn,m),Me(we,ri,S),Me(we,ii,w),we;case Po:return Te={},Me(Te,Mn,v),Me(Te,ri,P),Me(Te,ii,_),Te;case No:return He={},Me(He,Mn,E),Me(He,ri,b),Me(He,ii,y),He;default:return{}}},le=k.useMemo(function(){return ae(O)},[O]),ye=Yb(O,!e,function(ge){if(ge===Mn){var ve=le[Mn];return ve?ve(J()):vh}if(_e in le){var we;Z(((we=le[_e])===null||we===void 0?void 0:we.call(le,J(),null))||null)}return _e===ii&&(se(J()),h>0&&(clearTimeout(W.current),W.current=setTimeout(function(){te({deadline:!0})},h))),_e===sh&&ee(),Gb}),oe=xe(ye,2),ce=oe[0],_e=oe[1],Pe=yh(_e);X.current=Pe,hh(function(){B(n);var ge=q.current;q.current=!0;var ve;!ge&&n&&c&&(ve=Do),ge&&n&&a&&(ve=Po),(ge&&!n&&f||!ge&&p&&!n&&f)&&(ve=No);var we=ae(ve);ve&&(e||we[Mn])?(j(ve),ce()):j(Pr)},[n]),k.useEffect(function(){(O===Do&&!c||O===Po&&!a||O===No&&!f)&&j(Pr)},[c,a,f]),k.useEffect(function(){return function(){q.current=!1,clearTimeout(W.current)}},[]);var Se=k.useRef(!1);k.useEffect(function(){I&&(Se.current=!0),I!==void 0&&O===Pr&&((Se.current||I)&&(D==null||D(I)),Se.current=!0)},[I,O]);var ue=F;return le[Mn]&&_e===ri&&(ue=fe({transition:"none"},ue)),[O,_e,ue,I??n]}function Jb(e){var n=e;At(e)==="object"&&(n=e.transitionSupport);function o(r,a){return!!(r.motionName&&n&&a!==!1)}var i=k.forwardRef(function(r,a){var l=r.visible,c=l===void 0?!0:l,u=r.removeOnLeave,f=u===void 0?!0:u,h=r.forceRender,p=r.children,m=r.motionName,v=r.leavedClassName,E=r.eventProps,S=k.useContext(jb),P=S.motion,b=o(r,P),w=k.useRef(),_=k.useRef();function y(){try{return w.current instanceof HTMLElement?w.current:zi(_.current)}catch{return null}}var x=Xb(b,c,y,r),A=xe(x,4),H=A[0],D=A[1],N=A[2],U=A[3],I=k.useRef(U);U&&(I.current=!0);var B=k.useCallback(function(Z){w.current=Z,pl(a,Z)},[a]),M,T=fe(fe({},E),{},{visible:c});if(!p)M=null;else if(H===Pr)U?M=p(fe({},T),B):!f&&I.current&&v?M=p(fe(fe({},T),{},{className:v}),B):h||!f&&!v?M=p(fe(fe({},T),{},{style:{display:"none"}}),B):M=null;else{var O,j;D===Mn?j="prepare":yh(D)?j="active":D===ri&&(j="start");var K=wu(m,"".concat(H,"-").concat(j));M=p(fe(fe({},T),{},{className:ot(wu(m,H),(O={},Me(O,K,K&&j),Me(O,m,typeof m=="string"),O)),style:N}),B)}if(k.isValidElement(M)&&gi(M)){var V=M,F=V.ref;F||(M=k.cloneElement(M,{ref:B}))}return k.createElement(Ub,{ref:_},M)});return i.displayName="CSSMotion",i}const Ta=Jb(fh);var Rs="add",Hs="keep",zs="remove",is="removed";function Qb(e){var n;return e&&At(e)==="object"&&"key"in e?n=e:n={key:e},fe(fe({},n),{},{key:String(n.key)})}function Bs(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e.map(Qb)}function e5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=[],i=0,r=n.length,a=Bs(e),l=Bs(n);a.forEach(function(f){for(var h=!1,p=i;p<r;p+=1){var m=l[p];if(m.key===f.key){i<p&&(o=o.concat(l.slice(i,p).map(function(v){return fe(fe({},v),{},{status:Rs})})),i=p),o.push(fe(fe({},m),{},{status:Hs})),i+=1,h=!0;break}}h||o.push(fe(fe({},f),{},{status:zs}))}),i<r&&(o=o.concat(l.slice(i).map(function(f){return fe(fe({},f),{},{status:Rs})})));var c={};o.forEach(function(f){var h=f.key;c[h]=(c[h]||0)+1});var u=Object.keys(c).filter(function(f){return c[f]>1});return u.forEach(function(f){o=o.filter(function(h){var p=h.key,m=h.status;return p!==f||m!==zs}),o.forEach(function(h){h.key===f&&(h.status=Hs)})}),o}var t5=["component","children","onVisibleChanged","onAllRemoved"],n5=["status"],r5=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function i5(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ta,o=function(i){to(a,i);var r=no(a);function a(){var l;vi(this,a);for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return l=r.call.apply(r,[this].concat(u)),Me(Tn(l),"state",{keyEntities:[]}),Me(Tn(l),"removeKey",function(h){var p=l.state.keyEntities,m=p.map(function(v){return v.key!==h?v:fe(fe({},v),{},{status:is})});return l.setState({keyEntities:m}),m.filter(function(v){var E=v.status;return E!==is}).length}),l}return yi(a,[{key:"render",value:function(){var c=this,u=this.state.keyEntities,f=this.props,h=f.component,p=f.children,m=f.onVisibleChanged,v=f.onAllRemoved,E=ar(f,t5),S=h||k.Fragment,P={};return r5.forEach(function(b){P[b]=E[b],delete E[b]}),delete E.keys,k.createElement(S,E,u.map(function(b,w){var _=b.status,y=ar(b,n5),x=_===Rs||_===Hs;return k.createElement(n,xt({},P,{key:y.key,visible:x,eventProps:y,onVisibleChanged:function(H){if(m==null||m(H,{key:y.key}),!H){var D=c.removeKey(y.key);D===0&&v&&v()}}}),function(A,H){return p(fe(fe({},A),{},{index:w}),H)})}))}}],[{key:"getDerivedStateFromProps",value:function(c,u){var f=c.keys,h=u.keyEntities,p=Bs(f),m=e5(h,p);return{keyEntities:m.filter(function(v){var E=h.find(function(S){var P=S.key;return v.key===P});return!(E&&E.status===is&&v.status===zs)})}}}]),a}(k.Component);return Me(o,"defaultProps",{component:"div"}),o}i5(fh);function o5(e){var n=e.prefixCls,o=e.align,i=e.arrow,r=e.arrowPos,a=i||{},l=a.className,c=a.content,u=r.x,f=u===void 0?0:u,h=r.y,p=h===void 0?0:h,m=k.useRef();if(!o||!o.points)return null;var v={position:"absolute"};if(o.autoArrow!==!1){var E=o.points[0],S=o.points[1],P=E[0],b=E[1],w=S[0],_=S[1];P===w||!["t","b"].includes(P)?v.top=p:P==="t"?v.top=0:v.bottom=0,b===_||!["l","r"].includes(b)?v.left=f:b==="l"?v.left=0:v.right=0}return k.createElement("div",{ref:m,className:ot("".concat(n,"-arrow"),l),style:v},c)}function a5(e){var n=e.prefixCls,o=e.open,i=e.zIndex,r=e.mask,a=e.motion;return r?k.createElement(Ta,xt({},a,{motionAppear:!0,visible:o,removeOnLeave:!0}),function(l){var c=l.className;return k.createElement("div",{style:{zIndex:i},className:ot("".concat(n,"-mask"),c)})}):null}var s5=k.memo(function(e){var n=e.children;return n},function(e,n){return n.cache}),l5=k.forwardRef(function(e,n){var o=e.popup,i=e.className,r=e.prefixCls,a=e.style,l=e.target,c=e.onVisibleChanged,u=e.open,f=e.keepDom,h=e.fresh,p=e.onClick,m=e.mask,v=e.arrow,E=e.arrowPos,S=e.align,P=e.motion,b=e.maskMotion,w=e.forceRender,_=e.getPopupContainer,y=e.autoDestroy,x=e.portal,A=e.zIndex,H=e.onMouseEnter,D=e.onMouseLeave,N=e.onPointerEnter,U=e.ready,I=e.offsetX,B=e.offsetY,M=e.offsetR,T=e.offsetB,O=e.onAlign,j=e.onPrepare,K=e.stretch,V=e.targetWidth,F=e.targetHeight,Z=typeof o=="function"?o():o,q=u||f,W=(_==null?void 0:_.length)>0,J=k.useState(!_||!W),X=xe(J,2),ee=X[0],te=X[1];if(dt(function(){!ee&&W&&l&&te(!0)},[ee,W,l]),!ee)return null;var re="auto",ie={left:"-1000vw",top:"-1000vh",right:re,bottom:re};if(U||!u){var se,ae=S.points,le=S.dynamicInset||((se=S._experimental)===null||se===void 0?void 0:se.dynamicInset),ye=le&&ae[0][1]==="r",oe=le&&ae[0][0]==="b";ye?(ie.right=M,ie.left=re):(ie.left=I,ie.right=re),oe?(ie.bottom=T,ie.top=re):(ie.top=B,ie.bottom=re)}var ce={};return K&&(K.includes("height")&&F?ce.height=F:K.includes("minHeight")&&F&&(ce.minHeight=F),K.includes("width")&&V?ce.width=V:K.includes("minWidth")&&V&&(ce.minWidth=V)),u||(ce.pointerEvents="none"),k.createElement(x,{open:w||q,getContainer:_&&function(){return _(l)},autoDestroy:y},k.createElement(a5,{prefixCls:r,open:u,zIndex:A,mask:m,motion:b}),k.createElement(ro,{onResize:O,disabled:!u},function(_e){return k.createElement(Ta,xt({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(r,"-hidden")},P,{onAppearPrepare:j,onEnterPrepare:j,visible:u,onVisibleChanged:function(Se){var ue;P==null||(ue=P.onVisibleChanged)===null||ue===void 0||ue.call(P,Se),c(Se)}}),function(Pe,Se){var ue=Pe.className,ge=Pe.style,ve=ot(r,ue,i);return k.createElement("div",{ref:La(_e,n,Se),className:ve,style:fe(fe(fe(fe({"--arrow-x":"".concat(E.x||0,"px"),"--arrow-y":"".concat(E.y||0,"px")},ie),ce),ge),{},{boxSizing:"border-box",zIndex:A},a),onMouseEnter:H,onMouseLeave:D,onPointerEnter:N,onClick:p},v&&k.createElement(o5,{prefixCls:r,arrow:v,arrowPos:E,align:S}),k.createElement(s5,{cache:!u&&!h},Z))})}))}),c5=k.forwardRef(function(e,n){var o=e.children,i=e.getTriggerDOMNode,r=gi(o),a=k.useCallback(function(c){pl(n,i?i(c):c)},[i]),l=ml(a,o.ref);return r?k.cloneElement(o,{ref:l}):o}),Eu=k.createContext(null);function Lu(e){return e?Array.isArray(e)?e:[e]:[]}function u5(e,n,o,i){return k.useMemo(function(){var r=Lu(o??n),a=Lu(i??n),l=new Set(r),c=new Set(a);return e&&(l.has("hover")&&(l.delete("hover"),l.add("click")),c.has("hover")&&(c.delete("hover"),c.add("click"))),[l,c]},[e,n,o,i])}const d5=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var n=e.getBBox(),o=n.width,i=n.height;if(o||i)return!0}if(e.getBoundingClientRect){var r=e.getBoundingClientRect(),a=r.width,l=r.height;if(a||l)return!0}}return!1};function f5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0;return o?e[0]===n[0]:e[0]===n[0]&&e[1]===n[1]}function h5(e,n,o,i){for(var r=o.points,a=Object.keys(e),l=0;l<a.length;l+=1){var c,u=a[l];if(f5((c=e[u])===null||c===void 0?void 0:c.points,r,i))return"".concat(n,"-placement-").concat(u)}return""}function Su(e,n,o,i){return n||(o?{motionName:"".concat(e,"-").concat(o)}:i?{motionName:i}:null)}function io(e){return e.ownerDocument.defaultView}function js(e){for(var n=[],o=e==null?void 0:e.parentElement,i=["hidden","scroll","clip","auto"];o;){var r=io(o).getComputedStyle(o),a=r.overflowX,l=r.overflowY,c=r.overflow;[a,l,c].some(function(u){return i.includes(u)})&&n.push(o),o=o.parentElement}return n}function Yi(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(e)?n:e}function Ni(e){return Yi(parseFloat(e),0)}function Mu(e,n){var o=fe({},e);return(n||[]).forEach(function(i){if(!(i instanceof HTMLBodyElement||i instanceof HTMLHtmlElement)){var r=io(i).getComputedStyle(i),a=r.overflow,l=r.overflowClipMargin,c=r.borderTopWidth,u=r.borderBottomWidth,f=r.borderLeftWidth,h=r.borderRightWidth,p=i.getBoundingClientRect(),m=i.offsetHeight,v=i.clientHeight,E=i.offsetWidth,S=i.clientWidth,P=Ni(c),b=Ni(u),w=Ni(f),_=Ni(h),y=Yi(Math.round(p.width/E*1e3)/1e3),x=Yi(Math.round(p.height/m*1e3)/1e3),A=(E-S-w-_)*y,H=(m-v-P-b)*x,D=P*x,N=b*x,U=w*y,I=_*y,B=0,M=0;if(a==="clip"){var T=Ni(l);B=T*y,M=T*x}var O=p.x+U-B,j=p.y+D-M,K=O+p.width+2*B-U-I-A,V=j+p.height+2*M-D-N-H;o.left=Math.max(o.left,O),o.top=Math.max(o.top,j),o.right=Math.min(o.right,K),o.bottom=Math.min(o.bottom,V)}}),o}function Tu(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o="".concat(n),i=o.match(/^(.*)\%$/);return i?e*(parseFloat(i[1])/100):parseFloat(o)}function ku(e,n){var o=n||[],i=xe(o,2),r=i[0],a=i[1];return[Tu(e.width,r),Tu(e.height,a)]}function Au(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[e[0],e[1]]}function Qr(e,n){var o=n[0],i=n[1],r,a;return o==="t"?a=e.y:o==="b"?a=e.y+e.height:a=e.y+e.height/2,i==="l"?r=e.x:i==="r"?r=e.x+e.width:r=e.x+e.width/2,{x:r,y:a}}function yr(e,n){var o={t:"b",b:"t",l:"r",r:"l"};return e.map(function(i,r){return r===n?o[i]||"c":i}).join("")}function p5(e,n,o,i,r,a,l){var c=k.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:r[i]||{}}),u=xe(c,2),f=u[0],h=u[1],p=k.useRef(0),m=k.useMemo(function(){return n?js(n):[]},[n]),v=k.useRef({}),E=function(){v.current={}};e||E();var S=tr(function(){if(n&&o&&e){let Lt=function(Vt,xn){var Nn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ve,wn=Z.x+Vt,qn=Z.y+xn,$n=wn+se,Wn=qn+ie,Ur=Math.max(wn,Nn.left),Mr=Math.max(qn,Nn.top),bi=Math.min($n,Nn.right),De=Math.min(Wn,Nn.bottom);return Math.max(0,(bi-Ur)*(De-Mr))},hr=function(){zt=Z.y+Oe,Bt=zt+ie,gt=Z.x+$e,qt=gt+se};var w,_,y=n,x=y.ownerDocument,A=io(y),H=A.getComputedStyle(y),D=H.width,N=H.height,U=H.position,I=y.style.left,B=y.style.top,M=y.style.right,T=y.style.bottom,O=y.style.overflow,j=fe(fe({},r[i]),a),K=x.createElement("div");(w=y.parentElement)===null||w===void 0||w.appendChild(K),K.style.left="".concat(y.offsetLeft,"px"),K.style.top="".concat(y.offsetTop,"px"),K.style.position=U,K.style.height="".concat(y.offsetHeight,"px"),K.style.width="".concat(y.offsetWidth,"px"),y.style.left="0",y.style.top="0",y.style.right="auto",y.style.bottom="auto",y.style.overflow="hidden";var V;if(Array.isArray(o))V={x:o[0],y:o[1],width:0,height:0};else{var F=o.getBoundingClientRect();V={x:F.x,y:F.y,width:F.width,height:F.height}}var Z=y.getBoundingClientRect(),q=x.documentElement,W=q.clientWidth,J=q.clientHeight,X=q.scrollWidth,ee=q.scrollHeight,te=q.scrollTop,re=q.scrollLeft,ie=Z.height,se=Z.width,ae=V.height,le=V.width,ye={left:0,top:0,right:W,bottom:J},oe={left:-re,top:-te,right:X-re,bottom:ee-te},ce=j.htmlRegion,_e="visible",Pe="visibleFirst";ce!=="scroll"&&ce!==Pe&&(ce=_e);var Se=ce===Pe,ue=Mu(oe,m),ge=Mu(ye,m),ve=ce===_e?ge:ue,we=Se?ge:ve;y.style.left="auto",y.style.top="auto",y.style.right="0",y.style.bottom="0";var Te=y.getBoundingClientRect();y.style.left=I,y.style.top=B,y.style.right=M,y.style.bottom=T,y.style.overflow=O,(_=y.parentElement)===null||_===void 0||_.removeChild(K);var He=Yi(Math.round(se/parseFloat(D)*1e3)/1e3),je=Yi(Math.round(ie/parseFloat(N)*1e3)/1e3);if(He===0||je===0||Jo(o)&&!d5(o))return;var Ke=j.offset,Ae=j.targetOffset,Xe=ku(Z,Ke),at=xe(Xe,2),nt=at[0],Ve=at[1],Ue=ku(V,Ae),Pt=xe(Ue,2),Mt=Pt[0],Ct=Pt[1];V.x-=Mt,V.y-=Ct;var st=j.points||[],Ge=xe(st,2),lt=Ge[0],Yt=Ge[1],ft=Au(Yt),ct=Au(lt),Xt=Qr(V,ft),bt=Qr(Z,ct),Ft=fe({},j),$e=Xt.x-bt.x+nt,Oe=Xt.y-bt.y+Ve,Et=Lt($e,Oe),Tt=Lt($e,Oe,ge),Jt=Qr(V,["t","l"]),Ht=Qr(Z,["t","l"]),pn=Qr(V,["b","r"]),mn=Qr(Z,["b","r"]),ht=j.overflow||{},gn=ht.adjustX,mt=ht.adjustY,me=ht.shiftX,Kt=ht.shiftY,vn=function(xn){return typeof xn=="boolean"?xn:xn>=0},zt,Bt,gt,qt;hr();var be=vn(mt),Ce=ct[0]===ft[0];if(be&&ct[0]==="t"&&(Bt>we.bottom||v.current.bt)){var Ie=Oe;Ce?Ie-=ie-ae:Ie=Jt.y-mn.y-Ve;var qe=Lt($e,Ie),Nt=Lt($e,Ie,ge);qe>Et||qe===Et&&(!Se||Nt>=Tt)?(v.current.bt=!0,Oe=Ie,Ve=-Ve,Ft.points=[yr(ct,0),yr(ft,0)]):v.current.bt=!1}if(be&&ct[0]==="b"&&(zt<we.top||v.current.tb)){var rt=Oe;Ce?rt+=ie-ae:rt=pn.y-Ht.y-Ve;var jt=Lt($e,rt),Vn=Lt($e,rt,ge);jt>Et||jt===Et&&(!Se||Vn>=Tt)?(v.current.tb=!0,Oe=rt,Ve=-Ve,Ft.points=[yr(ct,0),yr(ft,0)]):v.current.tb=!1}var Qt=vn(gn),yn=ct[1]===ft[1];if(Qt&&ct[1]==="l"&&(qt>we.right||v.current.rl)){var It=$e;yn?It-=se-le:It=Jt.x-mn.x-nt;var cr=Lt(It,Oe),Sr=Lt(It,Oe,ge);cr>Et||cr===Et&&(!Se||Sr>=Tt)?(v.current.rl=!0,$e=It,nt=-nt,Ft.points=[yr(ct,1),yr(ft,1)]):v.current.rl=!1}if(Qt&&ct[1]==="r"&&(gt<we.left||v.current.lr)){var _n=$e;yn?_n+=se-le:_n=pn.x-Ht.x-nt;var rn=Lt(_n,Oe),on=Lt(_n,Oe,ge);rn>Et||rn===Et&&(!Se||on>=Tt)?(v.current.lr=!0,$e=_n,nt=-nt,Ft.points=[yr(ct,1),yr(ft,1)]):v.current.lr=!1}hr();var an=me===!0?0:me;typeof an=="number"&&(gt<ge.left&&($e-=gt-ge.left-nt,V.x+le<ge.left+an&&($e+=V.x-ge.left+le-an)),qt>ge.right&&($e-=qt-ge.right-nt,V.x>ge.right-an&&($e+=V.x-ge.right+an)));var Pn=Kt===!0?0:Kt;typeof Pn=="number"&&(zt<ge.top&&(Oe-=zt-ge.top-Ve,V.y+ae<ge.top+Pn&&(Oe+=V.y-ge.top+ae-Pn)),Bt>ge.bottom&&(Oe-=Bt-ge.bottom-Ve,V.y>ge.bottom-Pn&&(Oe+=V.y-ge.bottom+Pn)));var sn=Z.x+$e,Re=sn+se,Fe=Z.y+Oe,Zn=Fe+ie,$t=V.x,Ut=$t+le,ur=V.y,Ne=ur+ae,Qe=Math.max(sn,$t),dr=Math.min(Re,Ut),fr=(Qe+dr)/2,Ot=fr-sn,_i=Math.max(Fe,ur),Fn=Math.min(Zn,Ne),bn=(_i+Fn)/2,tt=bn-Fe;l==null||l(n,Ft);var ln=Te.right-Z.x-($e+Z.width),Kn=Te.bottom-Z.y-(Oe+Z.height);h({ready:!0,offsetX:$e/He,offsetY:Oe/je,offsetR:ln/He,offsetB:Kn/je,arrowX:Ot/He,arrowY:tt/je,scaleX:He,scaleY:je,align:Ft})}}),P=function(){p.current+=1;var _=p.current;Promise.resolve().then(function(){p.current===_&&S()})},b=function(){h(function(_){return fe(fe({},_),{},{ready:!1})})};return dt(b,[i]),dt(function(){e||b()},[e]),[f.ready,f.offsetX,f.offsetY,f.offsetR,f.offsetB,f.arrowX,f.arrowY,f.scaleX,f.scaleY,f.align,P]}function m5(e,n,o,i,r){dt(function(){if(e&&n&&o){let p=function(){i(),r()};var a=n,l=o,c=js(a),u=js(l),f=io(l),h=new Set([f].concat(jn(c),jn(u)));return h.forEach(function(m){m.addEventListener("scroll",p,{passive:!0})}),f.addEventListener("resize",p,{passive:!0}),i(),function(){h.forEach(function(m){m.removeEventListener("scroll",p),f.removeEventListener("resize",p)})}}},[e,n,o])}function g5(e,n,o,i,r,a,l,c){var u=k.useRef(e),f=k.useRef(!1);u.current!==e&&(f.current=!0,u.current=e),k.useEffect(function(){var h=Rt(function(){f.current=!1});return function(){Rt.cancel(h)}},[e]),k.useEffect(function(){if(n&&i&&(!r||a)){var h=function(){var A=!1,H=function(U){var I=U.target;A=l(I)},D=function(U){var I=U.target;!f.current&&u.current&&!A&&!l(I)&&c(!1)};return[H,D]},p=h(),m=xe(p,2),v=m[0],E=m[1],S=h(),P=xe(S,2),b=P[0],w=P[1],_=io(i);_.addEventListener("mousedown",v,!0),_.addEventListener("click",E,!0),_.addEventListener("contextmenu",E,!0);var y=Os(o);return y&&(y.addEventListener("mousedown",b,!0),y.addEventListener("click",w,!0),y.addEventListener("contextmenu",w,!0)),function(){_.removeEventListener("mousedown",v,!0),_.removeEventListener("click",E,!0),_.removeEventListener("contextmenu",E,!0),y&&(y.removeEventListener("mousedown",b,!0),y.removeEventListener("click",w,!0),y.removeEventListener("contextmenu",w,!0))}}},[n,o,i,r,a])}var v5=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function y5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Xf,n=k.forwardRef(function(o,i){var r=o.prefixCls,a=r===void 0?"rc-trigger-popup":r,l=o.children,c=o.action,u=c===void 0?"hover":c,f=o.showAction,h=o.hideAction,p=o.popupVisible,m=o.defaultPopupVisible,v=o.onPopupVisibleChange,E=o.afterPopupVisibleChange,S=o.mouseEnterDelay,P=o.mouseLeaveDelay,b=P===void 0?.1:P,w=o.focusDelay,_=o.blurDelay,y=o.mask,x=o.maskClosable,A=x===void 0?!0:x,H=o.getPopupContainer,D=o.forceRender,N=o.autoDestroy,U=o.destroyPopupOnHide,I=o.popup,B=o.popupClassName,M=o.popupStyle,T=o.popupPlacement,O=o.builtinPlacements,j=O===void 0?{}:O,K=o.popupAlign,V=o.zIndex,F=o.stretch,Z=o.getPopupClassNameFromAlign,q=o.fresh,W=o.alignPoint,J=o.onPopupClick,X=o.onPopupAlign,ee=o.arrow,te=o.popupMotion,re=o.maskMotion,ie=o.popupTransitionName,se=o.popupAnimation,ae=o.maskTransitionName,le=o.maskAnimation,ye=o.className,oe=o.getTriggerDOMNode,ce=ar(o,v5),_e=N||U||!1,Pe=k.useState(!1),Se=xe(Pe,2),ue=Se[0],ge=Se[1];dt(function(){ge(Bb())},[]);var ve=k.useRef({}),we=k.useContext(Eu),Te=k.useMemo(function(){return{registerSubPopup:function(de,et){ve.current[de]=et,we==null||we.registerSubPopup(de,et)}}},[we]),He=zb(),je=k.useState(null),Ke=xe(je,2),Ae=Ke[0],Xe=Ke[1],at=tr(function(he){Jo(he)&&Ae!==he&&Xe(he),we==null||we.registerSubPopup(He,he)}),nt=k.useState(null),Ve=xe(nt,2),Ue=Ve[0],Pt=Ve[1],Mt=k.useRef(null),Ct=tr(function(he){Jo(he)&&Ue!==he&&(Pt(he),Mt.current=he)}),st=k.Children.only(l),Ge=(st==null?void 0:st.props)||{},lt={},Yt=tr(function(he){var de,et,it=Ue;return(it==null?void 0:it.contains(he))||((de=Os(it))===null||de===void 0?void 0:de.host)===he||he===it||(Ae==null?void 0:Ae.contains(he))||((et=Os(Ae))===null||et===void 0?void 0:et.host)===he||he===Ae||Object.values(ve.current).some(function(Je){return(Je==null?void 0:Je.contains(he))||he===Je})}),ft=Su(a,te,se,ie),ct=Su(a,re,le,ae),Xt=k.useState(m||!1),bt=xe(Xt,2),Ft=bt[0],$e=bt[1],Oe=p??Ft,Et=tr(function(he){p===void 0&&$e(he)});dt(function(){$e(p||!1)},[p]);var Tt=k.useRef(Oe);Tt.current=Oe;var Jt=k.useRef([]);Jt.current=[];var Ht=tr(function(he){var de;Et(he),((de=Jt.current[Jt.current.length-1])!==null&&de!==void 0?de:Oe)!==he&&(Jt.current.push(he),v==null||v(he))}),pn=k.useRef(),mn=function(){clearTimeout(pn.current)},ht=function(de){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;mn(),et===0?Ht(de):pn.current=setTimeout(function(){Ht(de)},et*1e3)};k.useEffect(function(){return mn},[]);var gn=k.useState(!1),mt=xe(gn,2),me=mt[0],Kt=mt[1];dt(function(he){(!he||Oe)&&Kt(!0)},[Oe]);var vn=k.useState(null),zt=xe(vn,2),Bt=zt[0],gt=zt[1],qt=k.useState([0,0]),be=xe(qt,2),Ce=be[0],Ie=be[1],qe=function(de){Ie([de.clientX,de.clientY])},Nt=p5(Oe,Ae,W?Ce:Ue,T,j,K,X),rt=xe(Nt,11),jt=rt[0],Vn=rt[1],Qt=rt[2],yn=rt[3],It=rt[4],cr=rt[5],Sr=rt[6],_n=rt[7],rn=rt[8],on=rt[9],an=rt[10],Pn=u5(ue,u,f,h),sn=xe(Pn,2),Re=sn[0],Fe=sn[1],Zn=Re.has("click"),$t=Fe.has("click")||Fe.has("contextMenu"),Ut=tr(function(){me||an()}),ur=function(){Tt.current&&W&&$t&&ht(!1)};m5(Oe,Ue,Ae,Ut,ur),dt(function(){Ut()},[Ce,T]),dt(function(){Oe&&!(j!=null&&j[T])&&Ut()},[JSON.stringify(K)]);var Ne=k.useMemo(function(){var he=h5(j,a,on,W);return ot(he,Z==null?void 0:Z(on))},[on,Z,j,a,W]);k.useImperativeHandle(i,function(){return{nativeElement:Mt.current,forceAlign:Ut}});var Qe=k.useState(0),dr=xe(Qe,2),fr=dr[0],Ot=dr[1],_i=k.useState(0),Fn=xe(_i,2),bn=Fn[0],tt=Fn[1],ln=function(){if(F&&Ue){var de=Ue.getBoundingClientRect();Ot(de.width),tt(de.height)}},Kn=function(){ln(),Ut()},Lt=function(de){Kt(!1),an(),E==null||E(de)},hr=function(){return new Promise(function(de){ln(),gt(function(){return de})})};dt(function(){Bt&&(an(),Bt(),gt(null))},[Bt]);function Vt(he,de,et,it){lt[he]=function(Je){var pr;it==null||it(Je),ht(de,et);for(var Cn=arguments.length,Vr=new Array(Cn>1?Cn-1:0),In=1;In<Cn;In++)Vr[In-1]=arguments[In];(pr=Ge[he])===null||pr===void 0||pr.call.apply(pr,[Ge,Je].concat(Vr))}}(Zn||$t)&&(lt.onClick=function(he){var de;Tt.current&&$t?ht(!1):!Tt.current&&Zn&&(qe(he),ht(!0));for(var et=arguments.length,it=new Array(et>1?et-1:0),Je=1;Je<et;Je++)it[Je-1]=arguments[Je];(de=Ge.onClick)===null||de===void 0||de.call.apply(de,[Ge,he].concat(it))}),g5(Oe,$t,Ue,Ae,y,A,Yt,ht);var xn=Re.has("hover"),Nn=Fe.has("hover"),wn,qn;xn&&(Vt("onMouseEnter",!0,S,function(he){qe(he)}),Vt("onPointerEnter",!0,S,function(he){qe(he)}),wn=function(de){(Oe||me)&&Ae!==null&&Ae!==void 0&&Ae.contains(de.target)&&ht(!0,S)},W&&(lt.onMouseMove=function(he){var de;(de=Ge.onMouseMove)===null||de===void 0||de.call(Ge,he)})),Nn&&(Vt("onMouseLeave",!1,b),Vt("onPointerLeave",!1,b),qn=function(){ht(!1,b)}),Re.has("focus")&&Vt("onFocus",!0,w),Fe.has("focus")&&Vt("onBlur",!1,_),Re.has("contextMenu")&&(lt.onContextMenu=function(he){var de;Tt.current&&Fe.has("contextMenu")?ht(!1):(qe(he),ht(!0)),he.preventDefault();for(var et=arguments.length,it=new Array(et>1?et-1:0),Je=1;Je<et;Je++)it[Je-1]=arguments[Je];(de=Ge.onContextMenu)===null||de===void 0||de.call.apply(de,[Ge,he].concat(it))}),ye&&(lt.className=ot(Ge.className,ye));var $n=fe(fe({},Ge),lt),Wn={},Ur=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Ur.forEach(function(he){ce[he]&&(Wn[he]=function(){for(var de,et=arguments.length,it=new Array(et),Je=0;Je<et;Je++)it[Je]=arguments[Je];(de=$n[he])===null||de===void 0||de.call.apply(de,[$n].concat(it)),ce[he].apply(ce,it)})});var Mr=k.cloneElement(st,fe(fe({},$n),Wn)),bi={x:cr,y:Sr},De=ee?fe({},ee!==!0?ee:{}):null;return k.createElement(k.Fragment,null,k.createElement(ro,{disabled:!Oe,ref:Ct,onResize:Kn},k.createElement(c5,{getTriggerDOMNode:oe},Mr)),k.createElement(Eu.Provider,{value:Te},k.createElement(l5,{portal:e,ref:at,prefixCls:a,popup:I,className:ot(B,Ne),style:M,target:Ue,onMouseEnter:wn,onMouseLeave:qn,onPointerEnter:wn,zIndex:V,open:Oe,keepDom:me,fresh:q,onClick:J,mask:y,motion:ft,maskMotion:ct,onVisibleChanged:Lt,onPrepare:hr,forceRender:D,autoDestroy:_e,getPopupContainer:H,align:on,arrow:De,arrowPos:bi,ready:jt,offsetX:Vn,offsetY:Qt,offsetR:yn,offsetB:It,onAlign:Ut,stretch:F,targetWidth:fr/_n,targetHeight:bn/rn})))});return n}const _5=y5(Xf);var Ee={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(n){var o=n.keyCode;if(n.altKey&&!n.ctrlKey||n.metaKey||o>=Ee.F1&&o<=Ee.F12)return!1;switch(o){case Ee.ALT:case Ee.CAPS_LOCK:case Ee.CONTEXT_MENU:case Ee.CTRL:case Ee.DOWN:case Ee.END:case Ee.ESC:case Ee.HOME:case Ee.INSERT:case Ee.LEFT:case Ee.MAC_FF_META:case Ee.META:case Ee.NUMLOCK:case Ee.NUM_CENTER:case Ee.PAGE_DOWN:case Ee.PAGE_UP:case Ee.PAUSE:case Ee.PRINT_SCREEN:case Ee.RIGHT:case Ee.SHIFT:case Ee.UP:case Ee.WIN_KEY:case Ee.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(n){if(n>=Ee.ZERO&&n<=Ee.NINE||n>=Ee.NUM_ZERO&&n<=Ee.NUM_MULTIPLY||n>=Ee.A&&n<=Ee.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&n===0)return!0;switch(n){case Ee.SPACE:case Ee.QUESTION_MARK:case Ee.NUM_PLUS:case Ee.NUM_MINUS:case Ee.NUM_PERIOD:case Ee.NUM_DIVISION:case Ee.SEMICOLON:case Ee.DASH:case Ee.EQUALS:case Ee.COMMA:case Ee.PERIOD:case Ee.SLASH:case Ee.APOSTROPHE:case Ee.SINGLE_QUOTE:case Ee.OPEN_SQUARE_BRACKET:case Ee.BACKSLASH:case Ee.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},b5=Ee.ESC,x5=Ee.TAB;function w5(e){var n=e.visible,o=e.triggerRef,i=e.onVisibleChange,r=e.autoFocus,a=e.overlayRef,l=k.useRef(!1),c=function(){if(n){var p,m;(p=o.current)===null||p===void 0||(m=p.focus)===null||m===void 0||m.call(p),i==null||i(!1)}},u=function(){var p;return(p=a.current)!==null&&p!==void 0&&p.focus?(a.current.focus(),l.current=!0,!0):!1},f=function(p){switch(p.keyCode){case b5:c();break;case x5:{var m=!1;l.current||(m=u()),m?p.preventDefault():c();break}}};k.useEffect(function(){return n?(window.addEventListener("keydown",f),r&&Rt(u,3),function(){window.removeEventListener("keydown",f),l.current=!1}):function(){l.current=!1}},[n])}var C5=k.forwardRef(function(e,n){var o=e.overlay,i=e.arrow,r=e.prefixCls,a=k.useMemo(function(){var c;return typeof o=="function"?c=o():c=o,c},[o]),l=La(n,a==null?void 0:a.ref);return Y.createElement(Y.Fragment,null,i&&Y.createElement("div",{className:"".concat(r,"-arrow")}),Y.cloneElement(a,{ref:gi(a)?l:void 0}))}),ei={adjustX:1,adjustY:1},ti=[0,0],E5={topLeft:{points:["bl","tl"],overflow:ei,offset:[0,-4],targetOffset:ti},top:{points:["bc","tc"],overflow:ei,offset:[0,-4],targetOffset:ti},topRight:{points:["br","tr"],overflow:ei,offset:[0,-4],targetOffset:ti},bottomLeft:{points:["tl","bl"],overflow:ei,offset:[0,4],targetOffset:ti},bottom:{points:["tc","bc"],overflow:ei,offset:[0,4],targetOffset:ti},bottomRight:{points:["tr","br"],overflow:ei,offset:[0,4],targetOffset:ti}},L5=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function S5(e,n){var o,i=e.arrow,r=i===void 0?!1:i,a=e.prefixCls,l=a===void 0?"rc-dropdown":a,c=e.transitionName,u=e.animation,f=e.align,h=e.placement,p=h===void 0?"bottomLeft":h,m=e.placements,v=m===void 0?E5:m,E=e.getPopupContainer,S=e.showAction,P=e.hideAction,b=e.overlayClassName,w=e.overlayStyle,_=e.visible,y=e.trigger,x=y===void 0?["hover"]:y,A=e.autoFocus,H=e.overlay,D=e.children,N=e.onVisibleChange,U=ar(e,L5),I=Y.useState(),B=xe(I,2),M=B[0],T=B[1],O="visible"in e?_:M,j=Y.useRef(null),K=Y.useRef(null),V=Y.useRef(null);Y.useImperativeHandle(n,function(){return j.current});var F=function(ie){T(ie),N==null||N(ie)};w5({visible:O,triggerRef:V,onVisibleChange:F,autoFocus:A,overlayRef:K});var Z=function(ie){var se=e.onOverlayClick;T(!1),se&&se(ie)},q=function(){return Y.createElement(C5,{ref:K,overlay:H,prefixCls:l,arrow:r})},W=function(){return typeof H=="function"?q:q()},J=function(){var ie=e.minOverlayWidthMatchTrigger,se=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?ie:!se},X=function(){var ie=e.openClassName;return ie!==void 0?ie:"".concat(l,"-open")},ee=Y.cloneElement(D,{className:ot((o=D.props)===null||o===void 0?void 0:o.className,O&&X()),ref:gi(D)?La(V,D.ref):void 0}),te=P;return!te&&x.indexOf("contextMenu")!==-1&&(te=["click"]),Y.createElement(_5,xt({builtinPlacements:v},U,{prefixCls:l,ref:j,popupClassName:ot(b,Me({},"".concat(l,"-show-arrow"),r)),popupStyle:w,action:x,showAction:S,hideAction:te,popupPlacement:p,popupAlign:f,popupTransitionName:c,popupAnimation:u,popupVisible:O,stretch:J()?"minWidth":"",popup:W(),onPopupVisibleChange:F,onPopupClick:Z,getPopupContainer:E}),ee)}const M5=Y.forwardRef(S5),T5={point:"icon-point",circle:"icon-circle",rectangle:"icon-rectangle",polygon:"icon-polygon"},k5=({defaultAreaType:e,disabled:n=!1,type:o,onCreate:i})=>{const[r,a]=k.useState(e??"point"),l=k.useCallback(()=>{n||i==null||i(r,o)},[r,o,i,n]),c=k.useCallback(f=>{a(f),n||i==null||i(f,o)},[i,n]),u=k.useMemo(()=>z.jsxs("ul",{tabIndex:0,className:"nodeSelectList",children:[z.jsxs("li",{className:"nodeItem",onClick:()=>c("point"),children:[z.jsx(ut,{name:"icon-point",color:"#000"}),""]}),z.jsxs("li",{className:"nodeItem",onClick:()=>c("polygon"),children:[z.jsx(ut,{name:"icon-polygon",color:"#000"}),""]}),z.jsxs("li",{className:"nodeItem",onClick:()=>c("rectangle"),children:[z.jsx(ut,{name:"icon-rectangle",color:"#000"}),""]}),z.jsxs("li",{className:"nodeItem",onClick:()=>c("circle"),children:[z.jsx(ut,{name:"icon-circle",color:"#000"}),""]})]}),[c]);return z.jsxs("div",{className:"createNodeDiv"+(n?" createNodeDiv-disable":""),children:[z.jsxs("div",{className:"createNodeLeft",onClick:l,children:[z.jsx(ut,{name:T5[r],color:"#fff"}),z.jsx("div",{style:{marginLeft:5},children:o==="sibling"?"":""})]}),z.jsx(M5,{trigger:["click"],overlay:n?z.jsx(z.Fragment,{}):u,animation:"slide-up",children:z.jsx("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:z.jsx(ut,{name:"icon-arrowdown",color:"#fff"})})})]})},Du=k5;function yl(e){return n=>!!n.type&&n.type.tabsRole===e}const ka=yl("Tab"),_l=yl("TabList"),bl=yl("TabPanel");function A5(e){return ka(e)||_l(e)||bl(e)}function Us(e,n){return k.Children.map(e,o=>o===null?null:A5(o)?n(o):o.props&&o.props.children&&typeof o.props.children=="object"?k.cloneElement(o,{...o.props,children:Us(o.props.children,n)}):o)}function _h(e,n){return k.Children.forEach(e,o=>{o!==null&&(ka(o)||bl(o)?n(o):o.props&&o.props.children&&typeof o.props.children=="object"&&(_l(o)&&n(o),_h(o.props.children,n)))})}function bh(e){var n,o,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(n=0;n<r;n++)e[n]&&(o=bh(e[n]))&&(i&&(i+=" "),i+=o)}else for(o in e)e[o]&&(i&&(i+=" "),i+=o);return i}function Aa(){for(var e,n,o=0,i="",r=arguments.length;o<r;o++)(e=arguments[o])&&(n=bh(e))&&(i&&(i+=" "),i+=n);return i}function xh(e){let n=0;return _h(e,o=>{ka(o)&&n++}),n}function wh(e){return e&&"getAttribute"in e}function Pu(e){return wh(e)&&e.getAttribute("data-rttab")}function Ar(e){return wh(e)&&e.getAttribute("aria-disabled")==="true"}let na;function D5(e){const n=e||(typeof window<"u"?window:void 0);try{na=!!(typeof n<"u"&&n.document&&n.document.activeElement)}catch{na=!1}}const P5={className:"react-tabs",focus:!1},Ch=e=>{let n=k.useRef([]),o=k.useRef([]);const i=k.useRef();function r(M,T){if(M<0||M>=f())return;const{onSelect:O,selectedIndex:j}=e;O(M,j,T)}function a(M){const T=f();for(let O=M+1;O<T;O++)if(!Ar(h(O)))return O;for(let O=0;O<M;O++)if(!Ar(h(O)))return O;return M}function l(M){let T=M;for(;T--;)if(!Ar(h(T)))return T;for(T=f();T-- >M;)if(!Ar(h(T)))return T;return M}function c(){const M=f();for(let T=0;T<M;T++)if(!Ar(h(T)))return T;return null}function u(){let M=f();for(;M--;)if(!Ar(h(M)))return M;return null}function f(){const{children:M}=e;return xh(M)}function h(M){return n.current[`tabs-${M}`]}function p(){let M=0;const{children:T,disabledTabClassName:O,focus:j,forceRenderTabPanel:K,selectedIndex:V,selectedTabClassName:F,selectedTabPanelClassName:Z,environment:q}=e;o.current=o.current||[];let W=o.current.length-f();const J=k.useId();for(;W++<0;)o.current.push(`${J}${o.current.length}`);return Us(T,X=>{let ee=X;if(_l(X)){let te=0,re=!1;na==null&&D5(q);const ie=q||(typeof window<"u"?window:void 0);na&&ie&&(re=Y.Children.toArray(X.props.children).filter(ka).some((se,ae)=>ie.document.activeElement===h(ae))),ee=k.cloneElement(X,{children:Us(X.props.children,se=>{const ae=`tabs-${te}`,le=V===te,ye={tabRef:oe=>{n.current[ae]=oe},id:o.current[te],selected:le,focus:le&&(j||re)};return F&&(ye.selectedClassName=F),O&&(ye.disabledClassName=O),te++,k.cloneElement(se,ye)})})}else if(bl(X)){const te={id:o.current[M],selected:V===M};K&&(te.forceRender=K),Z&&(te.selectedClassName=Z),M++,ee=k.cloneElement(X,te)}return ee})}function m(M){const{direction:T,disableUpDownKeys:O,disableLeftRightKeys:j}=e;if(E(M.target)){let{selectedIndex:K}=e,V=!1,F=!1;(M.code==="Space"||M.keyCode===32||M.code==="Enter"||M.keyCode===13)&&(V=!0,F=!1,v(M)),!j&&(M.keyCode===37||M.code==="ArrowLeft")||!O&&(M.keyCode===38||M.code==="ArrowUp")?(T==="rtl"?K=a(K):K=l(K),V=!0,F=!0):!j&&(M.keyCode===39||M.code==="ArrowRight")||!O&&(M.keyCode===40||M.code==="ArrowDown")?(T==="rtl"?K=l(K):K=a(K),V=!0,F=!0):M.keyCode===35||M.code==="End"?(K=u(),V=!0,F=!0):(M.keyCode===36||M.code==="Home")&&(K=c(),V=!0,F=!0),V&&M.preventDefault(),F&&r(K,M)}}function v(M){let T=M.target;do if(E(T)){if(Ar(T))return;const O=[].slice.call(T.parentNode.children).filter(Pu).indexOf(T);r(O,M);return}while((T=T.parentNode)!=null)}function E(M){if(!Pu(M))return!1;let T=M.parentElement;do{if(T===i.current)return!0;if(T.getAttribute("data-rttabs"))break;T=T.parentElement}while(T);return!1}const{children:S,className:P,disabledTabClassName:b,domRef:w,focus:_,forceRenderTabPanel:y,onSelect:x,selectedIndex:A,selectedTabClassName:H,selectedTabPanelClassName:D,environment:N,disableUpDownKeys:U,disableLeftRightKeys:I,...B}={...P5,...e};return Y.createElement("div",Object.assign({},B,{className:Aa(P),onClick:v,onKeyDown:m,ref:M=>{i.current=M,w&&w(M)},"data-rttabs":!0}),p())};Ch.propTypes={};const N5=0,jo=1,I5={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},O5=e=>e.selectedIndex===null?jo:N5,xl=e=>{const{children:n,defaultFocus:o,defaultIndex:i,focusTabOnClick:r,onSelect:a,...l}={...I5,...e},[c,u]=k.useState(o),[f]=k.useState(O5(l)),[h,p]=k.useState(f===jo?i||0:null);if(k.useEffect(()=>{u(!1)},[]),f===jo){const E=xh(n);k.useEffect(()=>{if(h!=null){const S=Math.max(0,E-1);p(Math.min(h,S))}},[E])}const m=(E,S,P)=>{typeof a=="function"&&a(E,S,P)===!1||(r&&u(!0),f===jo&&p(E))};let v={...e,...l};return v.focus=c,v.onSelect=m,h!=null&&(v.selectedIndex=h),delete v.defaultFocus,delete v.defaultIndex,delete v.focusTabOnClick,Y.createElement(Ch,v,n)};xl.propTypes={};xl.tabsRole="Tabs";const R5={className:"react-tabs__tab-list"},wl=e=>{const{children:n,className:o,...i}={...R5,...e};return Y.createElement("ul",Object.assign({},i,{className:Aa(o),role:"tablist"}),n)};wl.tabsRole="TabList";wl.propTypes={};const os="react-tabs__tab",H5={className:os,disabledClassName:`${os}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${os}--selected`},Bi=e=>{let n=k.useRef();const{children:o,className:i,disabled:r,disabledClassName:a,focus:l,id:c,selected:u,selectedClassName:f,tabIndex:h,tabRef:p,...m}={...H5,...e};return k.useEffect(()=>{u&&l&&n.current.focus()},[u,l]),Y.createElement("li",Object.assign({},m,{className:Aa(i,{[f]:u,[a]:r}),ref:v=>{n.current=v,p&&p(v)},role:"tab",id:`tab${c}`,"aria-selected":u?"true":"false","aria-disabled":r?"true":"false","aria-controls":`panel${c}`,tabIndex:h||(u?"0":null),"data-rttab":!0}),o)};Bi.propTypes={};Bi.tabsRole="Tab";const Nu="react-tabs__tab-panel",z5={className:Nu,forceRender:!1,selectedClassName:`${Nu}--selected`},ji=e=>{const{children:n,className:o,forceRender:i,id:r,selected:a,selectedClassName:l,...c}={...z5,...e};return Y.createElement("div",Object.assign({},c,{className:Aa(o,{[l]:a}),role:"tabpanel",id:`panel${r}`,"aria-labelledby":`tab${r}`}),i||a?n:null)};ji.tabsRole="TabPanel";ji.propTypes={};const B5=()=>{const{currentId:e}=zn(n=>{var o,i;return{currentId:((o=n.current)==null?void 0:o.id)||((i=n.current)==null?void 0:i._id)}});return z.jsxs("div",{children:[z.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[z.jsx("h3",{children:""}),z.jsxs("div",{style:{fontSize:"11px"},children:[z.jsx("span",{style:{marginLeft:"15px"},children:"ID:"}),z.jsx("span",{children:e})]})]}),z.jsxs("div",{className:"infoDiv",children:[z.jsx(ut,{name:"icon-info",size:35}),z.jsx("div",{style:{color:"#0288D1",marginLeft:"10px"},children:""})]})]})};var j5=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,U5=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,V5="".concat(j5," ").concat(U5).split(/[\s\n]+/),Z5="aria-",F5="data-";function Iu(e,n){return e.indexOf(n)===0}function Eh(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o;n===!1?o={aria:!0,data:!0,attr:!0}:n===!0?o={aria:!0}:o=fe({},n);var i={};return Object.keys(e).forEach(function(r){(o.aria&&(r==="role"||Iu(r,Z5))||o.data&&Iu(r,F5)||o.attr&&V5.includes(r))&&(i[r]=e[r])}),i}var Cl=k.createContext(null);function K5(e){var n=e.dropPosition,o=e.dropLevelOffset,i=e.indent,r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(n){case-1:r.top=0,r.left=-o*i;break;case 1:r.bottom=0,r.left=-o*i;break;case 0:r.bottom=0,r.left=i;break}return k.createElement("div",{style:r})}function Lh(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var Sh=k.forwardRef(function(e,n){var o=e.height,i=e.offsetY,r=e.offsetX,a=e.children,l=e.prefixCls,c=e.onInnerResize,u=e.innerProps,f=e.rtl,h=e.extra,p={},m={display:"flex",flexDirection:"column"};if(i!==void 0){var v;p={height:o,position:"relative",overflow:"hidden"},m=fe(fe({},m),{},(v={transform:"translateY(".concat(i,"px)")},Me(v,f?"marginRight":"marginLeft",-r),Me(v,"position","absolute"),Me(v,"left",0),Me(v,"right",0),Me(v,"top",0),v))}return k.createElement("div",{style:p},k.createElement(ro,{onResize:function(S){var P=S.offsetHeight;P&&c&&c()}},k.createElement("div",xt({style:m,className:ot(Me({},"".concat(l,"-holder-inner"),l)),ref:n},u),a,h)))});Sh.displayName="Filler";function Ou(e,n){var o="touches"in e?e.touches[0]:e;return o[n?"pageX":"pageY"]}var Ru=k.forwardRef(function(e,n){var o,i=e.prefixCls,r=e.rtl,a=e.scrollOffset,l=e.scrollRange,c=e.onStartMove,u=e.onStopMove,f=e.onScroll,h=e.horizontal,p=e.spinSize,m=e.containerSize,v=e.style,E=e.thumbStyle,S=k.useState(!1),P=xe(S,2),b=P[0],w=P[1],_=k.useState(null),y=xe(_,2),x=y[0],A=y[1],H=k.useState(null),D=xe(H,2),N=D[0],U=D[1],I=!r,B=k.useRef(),M=k.useRef(),T=k.useState(!1),O=xe(T,2),j=O[0],K=O[1],V=k.useRef(),F=function(){clearTimeout(V.current),K(!0),V.current=setTimeout(function(){K(!1)},3e3)},Z=l-m||0,q=m-p||0,W=Z>0,J=k.useMemo(function(){if(a===0||Z===0)return 0;var ye=a/Z;return ye*q},[a,Z,q]),X=function(oe){oe.stopPropagation(),oe.preventDefault()},ee=k.useRef({top:J,dragging:b,pageY:x,startTop:N});ee.current={top:J,dragging:b,pageY:x,startTop:N};var te=function(oe){w(!0),A(Ou(oe,h)),U(ee.current.top),c(),oe.stopPropagation(),oe.preventDefault()};k.useEffect(function(){var ye=function(Pe){Pe.preventDefault()},oe=B.current,ce=M.current;return oe.addEventListener("touchstart",ye),ce.addEventListener("touchstart",te),function(){oe.removeEventListener("touchstart",ye),ce.removeEventListener("touchstart",te)}},[]);var re=k.useRef();re.current=Z;var ie=k.useRef();ie.current=q,k.useEffect(function(){if(b){var ye,oe=function(Pe){var Se=ee.current,ue=Se.dragging,ge=Se.pageY,ve=Se.startTop;if(Rt.cancel(ye),ue){var we=Ou(Pe,h)-ge,Te=ve;!I&&h?Te-=we:Te+=we;var He=re.current,je=ie.current,Ke=je?Te/je:0,Ae=Math.ceil(Ke*He);Ae=Math.max(Ae,0),Ae=Math.min(Ae,He),ye=Rt(function(){f(Ae,h)})}},ce=function(){w(!1),u()};return window.addEventListener("mousemove",oe),window.addEventListener("touchmove",oe),window.addEventListener("mouseup",ce),window.addEventListener("touchend",ce),function(){window.removeEventListener("mousemove",oe),window.removeEventListener("touchmove",oe),window.removeEventListener("mouseup",ce),window.removeEventListener("touchend",ce),Rt.cancel(ye)}}},[b]),k.useEffect(function(){F()},[a]),k.useImperativeHandle(n,function(){return{delayHidden:F}});var se="".concat(i,"-scrollbar"),ae={position:"absolute",visibility:j&&W?null:"hidden"},le={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return h?(ae.height=8,ae.left=0,ae.right=0,ae.bottom=0,le.height="100%",le.width=p,I?le.left=J:le.right=J):(ae.width=8,ae.top=0,ae.bottom=0,I?ae.right=0:ae.left=0,le.width="100%",le.height=p,le.top=J),k.createElement("div",{ref:B,className:ot(se,(o={},Me(o,"".concat(se,"-horizontal"),h),Me(o,"".concat(se,"-vertical"),!h),Me(o,"".concat(se,"-visible"),j),o)),style:fe(fe({},ae),v),onMouseDown:X,onMouseMove:F},k.createElement("div",{ref:M,className:ot("".concat(se,"-thumb"),Me({},"".concat(se,"-thumb-moving"),b)),style:fe(fe({},le),E),onMouseDown:te}))});function q5(e){var n=e.children,o=e.setRef,i=k.useCallback(function(r){o(r)},[]);return k.cloneElement(n,{ref:i})}function $5(e,n,o,i,r,a,l){var c=l.getKey;return e.slice(n,o+1).map(function(u,f){var h=n+f,p=a(u,h,{style:{width:i}}),m=c(u);return k.createElement(q5,{key:m,setRef:function(E){return r(u,E)}},p)})}var W5=function(){function e(){vi(this,e),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return yi(e,[{key:"set",value:function(o,i){this.maps[o]=i,this.id+=1}},{key:"get",value:function(o){return this.maps[o]}}]),e}();function G5(e,n,o){var i=k.useState(0),r=xe(i,2),a=r[0],l=r[1],c=k.useRef(new Map),u=k.useRef(new W5),f=k.useRef();function h(){Rt.cancel(f.current)}function p(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;h();var E=function(){c.current.forEach(function(P,b){if(P&&P.offsetParent){var w=zi(P),_=w.offsetHeight;u.current.get(b)!==_&&u.current.set(b,w.offsetHeight)}}),l(function(P){return P+1})};v?E():f.current=Rt(E)}function m(v,E){var S=e(v),P=c.current.get(S);E?(c.current.set(S,E),p()):c.current.delete(S),!P!=!E&&(E?n==null||n(v):o==null||o(v))}return k.useEffect(function(){return h},[]),[m,p,u.current,a]}var Y5=10;function X5(e,n,o,i,r,a,l,c){var u=k.useRef(),f=k.useState(null),h=xe(f,2),p=h[0],m=h[1];return dt(function(){if(p&&p.times<Y5){if(!e.current){m(function(F){return fe({},F)});return}a();var v=p.targetAlign,E=p.originAlign,S=p.index,P=p.offset,b=e.current.clientHeight,w=!1,_=v,y=null;if(b){for(var x=v||E,A=0,H=0,D=0,N=Math.min(n.length-1,S),U=0;U<=N;U+=1){var I=r(n[U]);H=A;var B=o.get(I);D=H+(B===void 0?i:B),A=D}for(var M=x==="top"?P:b-P,T=N;T>=0;T-=1){var O=r(n[T]),j=o.get(O);if(j===void 0){w=!0;break}if(M-=j,M<=0)break}switch(x){case"top":y=H-P;break;case"bottom":y=D-b+P;break;default:{var K=e.current.scrollTop,V=K+b;H<K?_="top":D>V&&(_="bottom")}}y!==null&&l(y),y!==p.lastTop&&(w=!0)}w&&m(fe(fe({},p),{},{times:p.times+1,targetAlign:_,lastTop:y}))}},[p,e.current]),function(v){if(v==null){c();return}if(Rt.cancel(u.current),typeof v=="number")l(v);else if(v&&At(v)==="object"){var E,S=v.align;"index"in v?E=v.index:E=n.findIndex(function(w){return r(w)===v.key});var P=v.offset,b=P===void 0?0:P;m({times:0,index:E,offset:b,originAlign:S})}}}function J5(e,n,o){var i=e.length,r=n.length,a,l;if(i===0&&r===0)return null;i<r?(a=e,l=n):(a=n,l=e);var c={__EMPTY_ITEM__:!0};function u(E){return E!==void 0?o(E):c}for(var f=null,h=Math.abs(i-r)!==1,p=0;p<l.length;p+=1){var m=u(a[p]),v=u(l[p]);if(m!==v){f=p,h=h||m!==u(l[p+1]);break}}return f===null?null:{index:f,multiple:h}}function Q5(e,n,o){var i=k.useState(e),r=xe(i,2),a=r[0],l=r[1],c=k.useState(null),u=xe(c,2),f=u[0],h=u[1];return k.useEffect(function(){var p=J5(a||[],e||[],n);(p==null?void 0:p.index)!==void 0&&(o==null||o(p.index),h(e[p.index])),l(e)},[e]),[f]}var Hu=(typeof navigator>"u"?"undefined":At(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const Mh=function(e,n){var o=k.useRef(!1),i=k.useRef(null);function r(){clearTimeout(i.current),o.current=!0,i.current=setTimeout(function(){o.current=!1},50)}var a=k.useRef({top:e,bottom:n});return a.current.top=e,a.current.bottom=n,function(l){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=l<0&&a.current.top||l>0&&a.current.bottom;return c&&u?(clearTimeout(i.current),o.current=!1):(!u||o.current)&&r(),!o.current&&u}};function e3(e,n,o,i,r){var a=k.useRef(0),l=k.useRef(null),c=k.useRef(null),u=k.useRef(!1),f=Mh(n,o);function h(P,b){Rt.cancel(l.current),a.current+=b,c.current=b,!f(b)&&(Hu||P.preventDefault(),l.current=Rt(function(){var w=u.current?10:1;r(a.current*w),a.current=0}))}function p(P,b){r(b,!0),Hu||P.preventDefault()}var m=k.useRef(null),v=k.useRef(null);function E(P){if(e){Rt.cancel(v.current),v.current=Rt(function(){m.current=null},2);var b=P.deltaX,w=P.deltaY,_=P.shiftKey,y=b,x=w;(m.current==="sx"||!m.current&&_&&w&&!b)&&(y=w,x=0,m.current="sx");var A=Math.abs(y),H=Math.abs(x);m.current===null&&(m.current=i&&A>H?"x":"y"),m.current==="y"?h(P,x):p(P,y)}}function S(P){e&&(u.current=P.detail===c.current)}return[E,S]}var t3=14/15;function n3(e,n,o){var i=k.useRef(!1),r=k.useRef(0),a=k.useRef(null),l=k.useRef(null),c,u=function(m){if(i.current){var v=Math.ceil(m.touches[0].pageY),E=r.current-v;r.current=v,o(E)&&m.preventDefault(),clearInterval(l.current),l.current=setInterval(function(){E*=t3,(!o(E,!0)||Math.abs(E)<=.1)&&clearInterval(l.current)},16)}},f=function(){i.current=!1,c()},h=function(m){c(),m.touches.length===1&&!i.current&&(i.current=!0,r.current=Math.ceil(m.touches[0].pageY),a.current=m.target,a.current.addEventListener("touchmove",u),a.current.addEventListener("touchend",f))};c=function(){a.current&&(a.current.removeEventListener("touchmove",u),a.current.removeEventListener("touchend",f))},dt(function(){return e&&n.current.addEventListener("touchstart",h),function(){var p;(p=n.current)===null||p===void 0||p.removeEventListener("touchstart",h),c(),clearInterval(l.current)}},[e])}var r3=20;function zu(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=e/n*100;return isNaN(o)&&(o=0),o=Math.max(o,r3),o=Math.min(o,e/2),Math.floor(o)}function i3(e,n,o,i){var r=k.useMemo(function(){return[new Map,[]]},[e,o.id,i]),a=xe(r,2),l=a[0],c=a[1],u=function(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h,m=l.get(h),v=l.get(p);if(m===void 0||v===void 0)for(var E=e.length,S=c.length;S<E;S+=1){var P,b=e[S],w=n(b);l.set(w,S);var _=(P=o.get(w))!==null&&P!==void 0?P:i;if(c[S]=(c[S-1]||0)+_,w===h&&(m=S),w===p&&(v=S),m!==void 0&&v!==void 0)break}return{top:c[m-1]||0,bottom:c[v]}};return u}var o3=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],a3=[],s3={overflowY:"auto",overflowAnchor:"none"};function l3(e,n){var o=e.prefixCls,i=o===void 0?"rc-virtual-list":o,r=e.className,a=e.height,l=e.itemHeight,c=e.fullHeight,u=c===void 0?!0:c,f=e.style,h=e.data,p=e.children,m=e.itemKey,v=e.virtual,E=e.direction,S=e.scrollWidth,P=e.component,b=P===void 0?"div":P,w=e.onScroll,_=e.onVirtualScroll,y=e.onVisibleChange,x=e.innerProps,A=e.extraRender,H=e.styles,D=ar(e,o3),N=!!(v!==!1&&a&&l),U=N&&h&&(l*h.length>a||!!S),I=E==="rtl",B=ot(i,Me({},"".concat(i,"-rtl"),I),r),M=h||a3,T=k.useRef(),O=k.useRef(),j=k.useState(0),K=xe(j,2),V=K[0],F=K[1],Z=k.useState(0),q=xe(Z,2),W=q[0],J=q[1],X=k.useState(!1),ee=xe(X,2),te=ee[0],re=ee[1],ie=function(){re(!0)},se=function(){re(!1)},ae=k.useCallback(function(be){return typeof m=="function"?m(be):be==null?void 0:be[m]},[m]),le={getKey:ae};function ye(be){F(function(Ce){var Ie;typeof be=="function"?Ie=be(Ce):Ie=be;var qe=ct(Ie);return T.current.scrollTop=qe,qe})}var oe=k.useRef({start:0,end:M.length}),ce=k.useRef(),_e=Q5(M,ae),Pe=xe(_e,1),Se=Pe[0];ce.current=Se;var ue=G5(ae,null,null),ge=xe(ue,4),ve=ge[0],we=ge[1],Te=ge[2],He=ge[3],je=k.useMemo(function(){if(!N)return{scrollHeight:void 0,start:0,end:M.length-1,offset:void 0};if(!U){var be;return{scrollHeight:((be=O.current)===null||be===void 0?void 0:be.offsetHeight)||0,start:0,end:M.length-1,offset:void 0}}for(var Ce=0,Ie,qe,Nt,rt=M.length,jt=0;jt<rt;jt+=1){var Vn=M[jt],Qt=ae(Vn),yn=Te.get(Qt),It=Ce+(yn===void 0?l:yn);It>=V&&Ie===void 0&&(Ie=jt,qe=Ce),It>V+a&&Nt===void 0&&(Nt=jt),Ce=It}return Ie===void 0&&(Ie=0,qe=0,Nt=Math.ceil(a/l)),Nt===void 0&&(Nt=M.length-1),Nt=Math.min(Nt+1,M.length-1),{scrollHeight:Ce,start:Ie,end:Nt,offset:qe}},[U,N,V,M,He,a]),Ke=je.scrollHeight,Ae=je.start,Xe=je.end,at=je.offset;oe.current.start=Ae,oe.current.end=Xe;var nt=k.useState({width:0,height:a}),Ve=xe(nt,2),Ue=Ve[0],Pt=Ve[1],Mt=function(Ce){Pt({width:Ce.width||Ce.offsetWidth,height:Ce.height||Ce.offsetHeight})},Ct=k.useRef(),st=k.useRef(),Ge=k.useMemo(function(){return zu(Ue.width,S)},[Ue.width,S]),lt=k.useMemo(function(){return zu(Ue.height,Ke)},[Ue.height,Ke]),Yt=Ke-a,ft=k.useRef(Yt);ft.current=Yt;function ct(be){var Ce=be;return Number.isNaN(ft.current)||(Ce=Math.min(Ce,ft.current)),Ce=Math.max(Ce,0),Ce}var Xt=V<=0,bt=V>=Yt,Ft=Mh(Xt,bt),$e=function(){return{x:I?-W:W,y:V}},Oe=k.useRef($e()),Et=tr(function(){if(_){var be=$e();(Oe.current.x!==be.x||Oe.current.y!==be.y)&&(_(be),Oe.current=be)}});function Tt(be,Ce){var Ie=be;Ce?(cs.flushSync(function(){J(Ie)}),Et()):ye(Ie)}function Jt(be){var Ce=be.currentTarget.scrollTop;Ce!==V&&ye(Ce),w==null||w(be),Et()}var Ht=function(Ce){var Ie=Ce,qe=S-Ue.width;return Ie=Math.max(Ie,0),Ie=Math.min(Ie,qe),Ie},pn=tr(function(be,Ce){Ce?(cs.flushSync(function(){J(function(Ie){var qe=Ie+(I?-be:be);return Ht(qe)})}),Et()):ye(function(Ie){var qe=Ie+be;return qe})}),mn=e3(N,Xt,bt,!!S,pn),ht=xe(mn,2),gn=ht[0],mt=ht[1];n3(N,T,function(be,Ce){return Ft(be,Ce)?!1:(gn({preventDefault:function(){},deltaY:be}),!0)}),dt(function(){function be(Ie){N&&Ie.preventDefault()}var Ce=T.current;return Ce.addEventListener("wheel",gn),Ce.addEventListener("DOMMouseScroll",mt),Ce.addEventListener("MozMousePixelScroll",be),function(){Ce.removeEventListener("wheel",gn),Ce.removeEventListener("DOMMouseScroll",mt),Ce.removeEventListener("MozMousePixelScroll",be)}},[N]),dt(function(){S&&J(function(be){return Ht(be)})},[Ue.width,S]);var me=function(){var Ce,Ie;(Ce=Ct.current)===null||Ce===void 0||Ce.delayHidden(),(Ie=st.current)===null||Ie===void 0||Ie.delayHidden()},Kt=X5(T,M,Te,l,ae,function(){return we(!0)},ye,me);k.useImperativeHandle(n,function(){return{getScrollInfo:$e,scrollTo:function(Ce){function Ie(qe){return qe&&At(qe)==="object"&&("left"in qe||"top"in qe)}Ie(Ce)?(Ce.left!==void 0&&J(Ht(Ce.left)),Kt(Ce.top)):Kt(Ce)}}}),dt(function(){if(y){var be=M.slice(Ae,Xe+1);y(be,M)}},[Ae,Xe,M]);var vn=i3(M,ae,Te,l),zt=A==null?void 0:A({start:Ae,end:Xe,virtual:U,offsetX:W,offsetY:at,rtl:I,getSize:vn}),Bt=$5(M,Ae,Xe,S,ve,p,le),gt=null;a&&(gt=fe(Me({},u?"height":"maxHeight",a),s3),N&&(gt.overflowY="hidden",S&&(gt.overflowX="hidden"),te&&(gt.pointerEvents="none")));var qt={};return I&&(qt.dir="rtl"),k.createElement("div",xt({style:fe(fe({},f),{},{position:"relative"}),className:B},qt,D),k.createElement(ro,{onResize:Mt},k.createElement(b,{className:"".concat(i,"-holder"),style:gt,ref:T,onScroll:Jt,onMouseEnter:me},k.createElement(Sh,{prefixCls:i,height:Ke,offsetX:W,offsetY:at,scrollWidth:S,onInnerResize:we,ref:O,innerProps:x,rtl:I,extra:zt},Bt))),U&&Ke>a&&k.createElement(Ru,{ref:Ct,prefixCls:i,scrollOffset:V,scrollRange:Ke,rtl:I,onScroll:Tt,onStartMove:ie,onStopMove:se,spinSize:lt,containerSize:Ue.height,style:H==null?void 0:H.verticalScrollBar,thumbStyle:H==null?void 0:H.verticalScrollBarThumb}),U&&S&&k.createElement(Ru,{ref:st,prefixCls:i,scrollOffset:W,scrollRange:S,rtl:I,onScroll:Tt,onStartMove:ie,onStopMove:se,spinSize:Ge,containerSize:Ue.width,horizontal:!0,style:H==null?void 0:H.horizontalScrollBar,thumbStyle:H==null?void 0:H.horizontalScrollBarThumb}))}var Th=k.forwardRef(l3);Th.displayName="List";var c3=function(n){for(var o=n.prefixCls,i=n.level,r=n.isStart,a=n.isEnd,l="".concat(o,"-indent-unit"),c=[],u=0;u<i;u+=1){var f;c.push(k.createElement("span",{key:u,className:ot(l,(f={},Me(f,"".concat(l,"-start"),r[u]),Me(f,"".concat(l,"-end"),a[u]),f))}))}return k.createElement("span",{"aria-hidden":"true",className:"".concat(o,"-indent")},c)};const u3=k.memo(c3);function tn(e,n){return e[n]}function d3(e,n){var o=fe({},e);return Array.isArray(n)&&n.forEach(function(i){delete o[i]}),o}var f3=["children"];function kh(e,n){return"".concat(e,"-").concat(n)}function h3(e){return e&&e.type&&e.type.isTreeNode}function oo(e,n){return e??n}function ra(e){var n=e||{},o=n.title,i=n._title,r=n.key,a=n.children,l=o||"title";return{title:l,_title:i||[l],key:r||"key",children:a||"children"}}function p3(e){function n(o){var i=Xo(o);return i.map(function(r){if(!h3(r))return An(!r,"Tree/TreeNode can only accept TreeNode as children."),null;var a=r.key,l=r.props,c=l.children,u=ar(l,f3),f=fe({key:a},u),h=n(c);return h.length&&(f.children=h),f}).filter(function(r){return r})}return n(e)}function as(e,n,o){var i=ra(o),r=i._title,a=i.key,l=i.children,c=new Set(n===!0?[]:n),u=[];function f(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return h.map(function(m,v){for(var E=kh(p?p.pos:"0",v),S=oo(m[a],E),P,b=0;b<r.length;b+=1){var w=r[b];if(m[w]!==void 0){P=m[w];break}}var _=fe(fe({},d3(m,[].concat(jn(r),[a,l]))),{},{title:P,key:S,parent:p,pos:E,children:null,data:m,isStart:[].concat(jn(p?p.isStart:[]),[v===0]),isEnd:[].concat(jn(p?p.isEnd:[]),[v===h.length-1])});return u.push(_),n===!0||c.has(S)?_.children=f(m[l]||[],_):_.children=[],_})}return f(e),u}function m3(e,n,o){var i={};At(o)==="object"?i=o:i={externalGetKey:o},i=i||{};var r=i,a=r.childrenPropName,l=r.externalGetKey,c=r.fieldNames,u=ra(c),f=u.key,h=u.children,p=a||h,m;l?typeof l=="string"?m=function(S){return S[l]}:typeof l=="function"&&(m=function(S){return l(S)}):m=function(S,P){return oo(S[f],P)};function v(E,S,P,b){var w=E?E[p]:e,_=E?kh(P.pos,S):"0",y=E?[].concat(jn(b),[E]):[];if(E){var x=m(E,_),A={node:E,index:S,pos:_,key:x,parentPos:P.node?P.pos:null,level:P.level+1,nodes:y};n(A)}w&&w.forEach(function(H,D){v(H,D,{node:E,pos:_,level:P?P.level+1:-1},y)})}v(null)}function g3(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.initWrapper,i=n.processEntity,r=n.onProcessFinished,a=n.externalGetKey,l=n.childrenPropName,c=n.fieldNames,u=arguments.length>2?arguments[2]:void 0,f=a||u,h={},p={},m={posEntities:h,keyEntities:p};return o&&(m=o(m)||m),m3(e,function(v){var E=v.node,S=v.index,P=v.pos,b=v.key,w=v.parentPos,_=v.level,y=v.nodes,x={node:E,nodes:y,index:S,key:b,pos:P,level:_},A=oo(b,P);h[P]=x,p[A]=x,x.parent=h[w],x.parent&&(x.parent.children=x.parent.children||[],x.parent.children.push(x)),i&&i(x,m)},{externalGetKey:f,childrenPropName:l,fieldNames:c}),r&&r(m),m}function Ui(e,n){var o=n.expandedKeys,i=n.selectedKeys,r=n.loadedKeys,a=n.loadingKeys,l=n.checkedKeys,c=n.halfCheckedKeys,u=n.dragOverNodeKey,f=n.dropPosition,h=n.keyEntities,p=tn(h,e),m={eventKey:e,expanded:o.indexOf(e)!==-1,selected:i.indexOf(e)!==-1,loaded:r.indexOf(e)!==-1,loading:a.indexOf(e)!==-1,checked:l.indexOf(e)!==-1,halfChecked:c.indexOf(e)!==-1,pos:String(p?p.pos:""),dragOver:u===e&&f===0,dragOverGapTop:u===e&&f===-1,dragOverGapBottom:u===e&&f===1};return m}function yt(e){var n=e.data,o=e.expanded,i=e.selected,r=e.checked,a=e.loaded,l=e.loading,c=e.halfChecked,u=e.dragOver,f=e.dragOverGapTop,h=e.dragOverGapBottom,p=e.pos,m=e.active,v=e.eventKey,E=fe(fe({},n),{},{expanded:o,selected:i,checked:r,loaded:a,loading:l,halfChecked:c,dragOver:u,dragOverGapTop:f,dragOverGapBottom:h,pos:p,active:m,key:v});return"props"in E||Object.defineProperty(E,"props",{get:function(){return An(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),e}}),E}var v3=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Bu="open",ju="close",y3="---",_3=function(e){to(o,e);var n=no(o);function o(){var i;vi(this,o);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return i=n.call.apply(n,[this].concat(a)),i.state={dragNodeHighlight:!1},i.selectHandle=void 0,i.cacheIndent=void 0,i.onSelectorClick=function(c){var u=i.props.context.onNodeClick;u(c,yt(i.props)),i.isSelectable()?i.onSelect(c):i.onCheck(c)},i.onSelectorDoubleClick=function(c){var u=i.props.context.onNodeDoubleClick;u(c,yt(i.props))},i.onSelect=function(c){if(!i.isDisabled()){var u=i.props.context.onNodeSelect;u(c,yt(i.props))}},i.onCheck=function(c){if(!i.isDisabled()){var u=i.props,f=u.disableCheckbox,h=u.checked,p=i.props.context.onNodeCheck;if(!(!i.isCheckable()||f)){var m=!h;p(c,yt(i.props),m)}}},i.onMouseEnter=function(c){var u=i.props.context.onNodeMouseEnter;u(c,yt(i.props))},i.onMouseLeave=function(c){var u=i.props.context.onNodeMouseLeave;u(c,yt(i.props))},i.onContextMenu=function(c){var u=i.props.context.onNodeContextMenu;u(c,yt(i.props))},i.onDragStart=function(c){var u=i.props.context.onNodeDragStart;c.stopPropagation(),i.setState({dragNodeHighlight:!0}),u(c,Tn(i));try{c.dataTransfer.setData("text/plain","")}catch{}},i.onDragEnter=function(c){var u=i.props.context.onNodeDragEnter;c.preventDefault(),c.stopPropagation(),u(c,Tn(i))},i.onDragOver=function(c){var u=i.props.context.onNodeDragOver;c.preventDefault(),c.stopPropagation(),u(c,Tn(i))},i.onDragLeave=function(c){var u=i.props.context.onNodeDragLeave;c.stopPropagation(),u(c,Tn(i))},i.onDragEnd=function(c){var u=i.props.context.onNodeDragEnd;c.stopPropagation(),i.setState({dragNodeHighlight:!1}),u(c,Tn(i))},i.onDrop=function(c){var u=i.props.context.onNodeDrop;c.preventDefault(),c.stopPropagation(),i.setState({dragNodeHighlight:!1}),u(c,Tn(i))},i.onExpand=function(c){var u=i.props,f=u.loading,h=u.context.onNodeExpand;f||h(c,yt(i.props))},i.setSelectHandle=function(c){i.selectHandle=c},i.getNodeState=function(){var c=i.props.expanded;return i.isLeaf()?null:c?Bu:ju},i.hasChildren=function(){var c=i.props.eventKey,u=i.props.context.keyEntities,f=tn(u,c)||{},h=f.children;return!!(h||[]).length},i.isLeaf=function(){var c=i.props,u=c.isLeaf,f=c.loaded,h=i.props.context.loadData,p=i.hasChildren();return u===!1?!1:u||!h&&!p||h&&f&&!p},i.isDisabled=function(){var c=i.props.disabled,u=i.props.context.disabled;return!!(u||c)},i.isCheckable=function(){var c=i.props.checkable,u=i.props.context.checkable;return!u||c===!1?!1:u},i.syncLoadData=function(c){var u=c.expanded,f=c.loading,h=c.loaded,p=i.props.context,m=p.loadData,v=p.onNodeLoad;f||m&&u&&!i.isLeaf()&&!i.hasChildren()&&!h&&v(yt(i.props))},i.isDraggable=function(){var c=i.props,u=c.data,f=c.context.draggable;return!!(f&&(!f.nodeDraggable||f.nodeDraggable(u)))},i.renderDragHandler=function(){var c=i.props.context,u=c.draggable,f=c.prefixCls;return u!=null&&u.icon?k.createElement("span",{className:"".concat(f,"-draggable-icon")},u.icon):null},i.renderSwitcherIconDom=function(c){var u=i.props.switcherIcon,f=i.props.context.switcherIcon,h=u||f;return typeof h=="function"?h(fe(fe({},i.props),{},{isLeaf:c})):h},i.renderSwitcher=function(){var c=i.props.expanded,u=i.props.context.prefixCls;if(i.isLeaf()){var f=i.renderSwitcherIconDom(!0);return f!==!1?k.createElement("span",{className:ot("".concat(u,"-switcher"),"".concat(u,"-switcher-noop"))},f):null}var h=ot("".concat(u,"-switcher"),"".concat(u,"-switcher_").concat(c?Bu:ju)),p=i.renderSwitcherIconDom(!1);return p!==!1?k.createElement("span",{onClick:i.onExpand,className:h},p):null},i.renderCheckbox=function(){var c=i.props,u=c.checked,f=c.halfChecked,h=c.disableCheckbox,p=i.props.context.prefixCls,m=i.isDisabled(),v=i.isCheckable();if(!v)return null;var E=typeof v!="boolean"?v:null;return k.createElement("span",{className:ot("".concat(p,"-checkbox"),u&&"".concat(p,"-checkbox-checked"),!u&&f&&"".concat(p,"-checkbox-indeterminate"),(m||h)&&"".concat(p,"-checkbox-disabled")),onClick:i.onCheck},E)},i.renderIcon=function(){var c=i.props.loading,u=i.props.context.prefixCls;return k.createElement("span",{className:ot("".concat(u,"-iconEle"),"".concat(u,"-icon__").concat(i.getNodeState()||"docu"),c&&"".concat(u,"-icon_loading"))})},i.renderSelector=function(){var c=i.state.dragNodeHighlight,u=i.props,f=u.title,h=f===void 0?y3:f,p=u.selected,m=u.icon,v=u.loading,E=u.data,S=i.props.context,P=S.prefixCls,b=S.showIcon,w=S.icon,_=S.loadData,y=S.titleRender,x=i.isDisabled(),A="".concat(P,"-node-content-wrapper"),H;if(b){var D=m||w;H=D?k.createElement("span",{className:ot("".concat(P,"-iconEle"),"".concat(P,"-icon__customize"))},typeof D=="function"?D(i.props):D):i.renderIcon()}else _&&v&&(H=i.renderIcon());var N;typeof h=="function"?N=h(E):y?N=y(E):N=h;var U=k.createElement("span",{className:"".concat(P,"-title")},N);return k.createElement("span",{ref:i.setSelectHandle,title:typeof h=="string"?h:"",className:ot("".concat(A),"".concat(A,"-").concat(i.getNodeState()||"normal"),!x&&(p||c)&&"".concat(P,"-node-selected")),onMouseEnter:i.onMouseEnter,onMouseLeave:i.onMouseLeave,onContextMenu:i.onContextMenu,onClick:i.onSelectorClick,onDoubleClick:i.onSelectorDoubleClick},H,U,i.renderDropIndicator())},i.renderDropIndicator=function(){var c=i.props,u=c.disabled,f=c.eventKey,h=i.props.context,p=h.draggable,m=h.dropLevelOffset,v=h.dropPosition,E=h.prefixCls,S=h.indent,P=h.dropIndicatorRender,b=h.dragOverNodeKey,w=h.direction,_=!!p,y=!u&&_&&b===f,x=S??i.cacheIndent;return i.cacheIndent=S,y?P({dropPosition:v,dropLevelOffset:m,indent:x,prefixCls:E,direction:w}):null},i}return yi(o,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var r=this.props.selectable,a=this.props.context.selectable;return typeof r=="boolean"?r:a}},{key:"render",value:function(){var r,a=this.props,l=a.eventKey,c=a.className,u=a.style,f=a.dragOver,h=a.dragOverGapTop,p=a.dragOverGapBottom,m=a.isLeaf,v=a.isStart,E=a.isEnd,S=a.expanded,P=a.selected,b=a.checked,w=a.halfChecked,_=a.loading,y=a.domRef,x=a.active;a.data;var A=a.onMouseMove,H=a.selectable,D=ar(a,v3),N=this.props.context,U=N.prefixCls,I=N.filterTreeNode,B=N.keyEntities,M=N.dropContainerKey,T=N.dropTargetKey,O=N.draggingNodeKey,j=this.isDisabled(),K=Eh(D,{aria:!0,data:!0}),V=tn(B,l)||{},F=V.level,Z=E[E.length-1],q=this.isDraggable(),W=!j&&q,J=O===l,X=H!==void 0?{"aria-selected":!!H}:void 0;return k.createElement("div",xt({ref:y,className:ot(c,"".concat(U,"-treenode"),(r={},Me(r,"".concat(U,"-treenode-disabled"),j),Me(r,"".concat(U,"-treenode-switcher-").concat(S?"open":"close"),!m),Me(r,"".concat(U,"-treenode-checkbox-checked"),b),Me(r,"".concat(U,"-treenode-checkbox-indeterminate"),w),Me(r,"".concat(U,"-treenode-selected"),P),Me(r,"".concat(U,"-treenode-loading"),_),Me(r,"".concat(U,"-treenode-active"),x),Me(r,"".concat(U,"-treenode-leaf-last"),Z),Me(r,"".concat(U,"-treenode-draggable"),q),Me(r,"dragging",J),Me(r,"drop-target",T===l),Me(r,"drop-container",M===l),Me(r,"drag-over",!j&&f),Me(r,"drag-over-gap-top",!j&&h),Me(r,"drag-over-gap-bottom",!j&&p),Me(r,"filter-node",I&&I(yt(this.props))),r)),style:u,draggable:W,"aria-grabbed":J,onDragStart:W?this.onDragStart:void 0,onDragEnter:q?this.onDragEnter:void 0,onDragOver:q?this.onDragOver:void 0,onDragLeave:q?this.onDragLeave:void 0,onDrop:q?this.onDrop:void 0,onDragEnd:q?this.onDragEnd:void 0,onMouseMove:A},X,K),k.createElement(u3,{prefixCls:U,level:F,isStart:v,isEnd:E}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),o}(k.Component),Xi=function(n){return k.createElement(Cl.Consumer,null,function(o){return k.createElement(_3,xt({},n,{context:o}))})};Xi.displayName="TreeNode";Xi.isTreeNode=1;function b3(e,n){var o=k.useState(!1),i=xe(o,2),r=i[0],a=i[1];dt(function(){if(r)return e(),function(){n()}},[r]),dt(function(){return a(!0),function(){a(!1)}},[])}var x3=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Ah=function(n,o){var i=n.className,r=n.style,a=n.motion,l=n.motionNodes,c=n.motionType,u=n.onMotionStart,f=n.onMotionEnd,h=n.active,p=n.treeNodeRequiredProps,m=ar(n,x3),v=k.useState(!0),E=xe(v,2),S=E[0],P=E[1],b=k.useContext(Cl),w=b.prefixCls,_=l&&c!=="hide";dt(function(){l&&_!==S&&P(_)},[l]);var y=function(){l&&u()},x=k.useRef(!1),A=function(){l&&!x.current&&(x.current=!0,f())};b3(y,A);var H=function(N){_===N&&A()};return l?k.createElement(Ta,xt({ref:o,visible:S},a,{motionAppear:c==="show",onVisibleChanged:H}),function(D,N){var U=D.className,I=D.style;return k.createElement("div",{ref:N,className:ot("".concat(w,"-treenode-motion"),U),style:I},l.map(function(B){var M=xt({},(Lh(B.data),B.data)),T=B.title,O=B.key,j=B.isStart,K=B.isEnd;delete M.children;var V=Ui(O,p);return k.createElement(Xi,xt({},M,V,{title:T,active:h,data:B.data,key:O,isStart:j,isEnd:K}))}))}):k.createElement(Xi,xt({domRef:o,className:i,style:r},m,{active:h}))};Ah.displayName="MotionTreeNode";var w3=k.forwardRef(Ah);function C3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=e.length,i=n.length;if(Math.abs(o-i)!==1)return{add:!1,key:null};function r(a,l){var c=new Map;a.forEach(function(f){c.set(f,!0)});var u=l.filter(function(f){return!c.has(f)});return u.length===1?u[0]:null}return o<i?{add:!0,key:r(e,n)}:{add:!1,key:r(n,e)}}function Uu(e,n,o){var i=e.findIndex(function(c){return c.key===o}),r=e[i+1],a=n.findIndex(function(c){return c.key===o});if(r){var l=n.findIndex(function(c){return c.key===r.key});return n.slice(a+1,l)}return n.slice(a+1)}var E3=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Vu={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},L3=function(){},Br="RC_TREE_MOTION_".concat(Math.random()),Vs={key:Br},Dh={key:Br,level:0,index:0,pos:"0",node:Vs,nodes:[Vs]},Zu={parent:null,children:[],pos:Dh.pos,data:Vs,title:null,key:Br,isStart:[],isEnd:[]};function Fu(e,n,o,i){return n===!1||!o?e:e.slice(0,Math.ceil(o/i)+1)}function Ku(e){var n=e.key,o=e.pos;return oo(n,o)}function S3(e){for(var n=String(e.data.key),o=e;o.parent;)o=o.parent,n="".concat(o.data.key," > ").concat(n);return n}var Ph=k.forwardRef(function(e,n){var o=e.prefixCls,i=e.data;e.selectable,e.checkable;var r=e.expandedKeys,a=e.selectedKeys,l=e.checkedKeys,c=e.loadedKeys,u=e.loadingKeys,f=e.halfCheckedKeys,h=e.keyEntities,p=e.disabled,m=e.dragging,v=e.dragOverNodeKey,E=e.dropPosition,S=e.motion,P=e.height,b=e.itemHeight,w=e.virtual,_=e.focusable,y=e.activeItem,x=e.focused,A=e.tabIndex,H=e.onKeyDown,D=e.onFocus,N=e.onBlur,U=e.onActiveChange,I=e.onListChangeStart,B=e.onListChangeEnd,M=ar(e,E3),T=k.useRef(null),O=k.useRef(null);k.useImperativeHandle(n,function(){return{scrollTo:function(we){T.current.scrollTo(we)},getIndentWidth:function(){return O.current.offsetWidth}}});var j=k.useState(r),K=xe(j,2),V=K[0],F=K[1],Z=k.useState(i),q=xe(Z,2),W=q[0],J=q[1],X=k.useState(i),ee=xe(X,2),te=ee[0],re=ee[1],ie=k.useState([]),se=xe(ie,2),ae=se[0],le=se[1],ye=k.useState(null),oe=xe(ye,2),ce=oe[0],_e=oe[1],Pe=k.useRef(i);Pe.current=i;function Se(){var ve=Pe.current;J(ve),re(ve),le([]),_e(null),B()}dt(function(){F(r);var ve=C3(V,r);if(ve.key!==null)if(ve.add){var we=W.findIndex(function(Xe){var at=Xe.key;return at===ve.key}),Te=Fu(Uu(W,i,ve.key),w,P,b),He=W.slice();He.splice(we+1,0,Zu),re(He),le(Te),_e("show")}else{var je=i.findIndex(function(Xe){var at=Xe.key;return at===ve.key}),Ke=Fu(Uu(i,W,ve.key),w,P,b),Ae=i.slice();Ae.splice(je+1,0,Zu),re(Ae),le(Ke),_e("hide")}else W!==i&&(J(i),re(i))},[r,i]),k.useEffect(function(){m||Se()},[m]);var ue=S?te:i,ge={expandedKeys:r,selectedKeys:a,loadedKeys:c,loadingKeys:u,checkedKeys:l,halfCheckedKeys:f,dragOverNodeKey:v,dropPosition:E,keyEntities:h};return k.createElement(k.Fragment,null,x&&y&&k.createElement("span",{style:Vu,"aria-live":"assertive"},S3(y)),k.createElement("div",null,k.createElement("input",{style:Vu,disabled:_===!1||p,tabIndex:_!==!1?A:null,onKeyDown:H,onFocus:D,onBlur:N,value:"",onChange:L3,"aria-label":"for screen reader"})),k.createElement("div",{className:"".concat(o,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},k.createElement("div",{className:"".concat(o,"-indent")},k.createElement("div",{ref:O,className:"".concat(o,"-indent-unit")}))),k.createElement(Th,xt({},M,{data:ue,itemKey:Ku,height:P,fullHeight:!1,virtual:w,itemHeight:b,prefixCls:"".concat(o,"-list"),ref:T,onVisibleChange:function(we,Te){var He=new Set(we),je=Te.filter(function(Ke){return!He.has(Ke)});je.some(function(Ke){return Ku(Ke)===Br})&&Se()}}),function(ve){var we=ve.pos,Te=xt({},(Lh(ve.data),ve.data)),He=ve.title,je=ve.key,Ke=ve.isStart,Ae=ve.isEnd,Xe=oo(je,we);delete Te.key,delete Te.children;var at=Ui(Xe,ge);return k.createElement(w3,xt({},Te,at,{title:He,active:!!y&&je===y.key,pos:we,data:ve.data,isStart:Ke,isEnd:Ae,motion:S,motionNodes:je===Br?ae:null,motionType:ce,onMotionStart:I,onMotionEnd:Se,treeNodeRequiredProps:ge,onMouseMove:function(){U(null)}}))}))});Ph.displayName="NodeList";function er(e,n){if(!e)return[];var o=e.slice(),i=o.indexOf(n);return i>=0&&o.splice(i,1),o}function _r(e,n){var o=(e||[]).slice();return o.indexOf(n)===-1&&o.push(n),o}function El(e){return e.split("-")}function M3(e,n){var o=[],i=tn(n,e);function r(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];a.forEach(function(l){var c=l.key,u=l.children;o.push(c),r(u)})}return r(i.children),o}function T3(e){if(e.parent){var n=El(e.pos);return Number(n[n.length-1])===e.parent.children.length-1}return!1}function k3(e){var n=El(e.pos);return Number(n[n.length-1])===0}function qu(e,n,o,i,r,a,l,c,u,f){var h,p=e.clientX,m=e.clientY,v=e.target.getBoundingClientRect(),E=v.top,S=v.height,P=(f==="rtl"?-1:1)*(((r==null?void 0:r.x)||0)-p),b=(P-12)/i,w=tn(c,o.props.eventKey);if(m<E+S/2){var _=l.findIndex(function(O){return O.key===w.key}),y=_<=0?0:_-1,x=l[y].key;w=tn(c,x)}var A=w.key,H=w,D=w.key,N=0,U=0;if(!u.includes(A))for(var I=0;I<b&&T3(w);I+=1)w=w.parent,U+=1;var B=n.props.data,M=w.node,T=!0;return k3(w)&&w.level===0&&m<E+S/2&&a({dragNode:B,dropNode:M,dropPosition:-1})&&w.key===o.props.eventKey?N=-1:(H.children||[]).length&&u.includes(D)?a({dragNode:B,dropNode:M,dropPosition:0})?N=0:T=!1:U===0?b>-1.5?a({dragNode:B,dropNode:M,dropPosition:1})?N=1:T=!1:a({dragNode:B,dropNode:M,dropPosition:0})?N=0:a({dragNode:B,dropNode:M,dropPosition:1})?N=1:T=!1:a({dragNode:B,dropNode:M,dropPosition:1})?N=1:T=!1,{dropPosition:N,dropLevelOffset:U,dropTargetKey:w.key,dropTargetPos:w.pos,dragOverNodeKey:D,dropContainerKey:N===0?null:((h=w.parent)===null||h===void 0?void 0:h.key)||null,dropAllowed:T}}function $u(e,n){if(e){var o=n.multiple;return o?e.slice():e.length?[e[0]]:e}}function ss(e){if(!e)return null;var n;if(Array.isArray(e))n={checkedKeys:e,halfCheckedKeys:void 0};else if(At(e)==="object")n={checkedKeys:e.checked||void 0,halfCheckedKeys:e.halfChecked||void 0};else return An(!1,"`checkedKeys` is not an array or an object"),null;return n}function Wu(e,n){var o=new Set;function i(r){if(!o.has(r)){var a=tn(n,r);if(a){o.add(r);var l=a.parent,c=a.node;c.disabled||l&&i(l.key)}}}return(e||[]).forEach(function(r){i(r)}),jn(o)}function Nh(e,n){var o=new Set;return e.forEach(function(i){n.has(i)||o.add(i)}),o}function A3(e){var n=e||{},o=n.disabled,i=n.disableCheckbox,r=n.checkable;return!!(o||i)||r===!1}function D3(e,n,o,i){for(var r=new Set(e),a=new Set,l=0;l<=o;l+=1){var c=n.get(l)||new Set;c.forEach(function(p){var m=p.key,v=p.node,E=p.children,S=E===void 0?[]:E;r.has(m)&&!i(v)&&S.filter(function(P){return!i(P.node)}).forEach(function(P){r.add(P.key)})})}for(var u=new Set,f=o;f>=0;f-=1){var h=n.get(f)||new Set;h.forEach(function(p){var m=p.parent,v=p.node;if(!(i(v)||!p.parent||u.has(p.parent.key))){if(i(p.parent.node)){u.add(m.key);return}var E=!0,S=!1;(m.children||[]).filter(function(P){return!i(P.node)}).forEach(function(P){var b=P.key,w=r.has(b);E&&!w&&(E=!1),!S&&(w||a.has(b))&&(S=!0)}),E&&r.add(m.key),S&&a.add(m.key),u.add(m.key)}})}return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(Nh(a,r))}}function P3(e,n,o,i,r){for(var a=new Set(e),l=new Set(n),c=0;c<=i;c+=1){var u=o.get(c)||new Set;u.forEach(function(m){var v=m.key,E=m.node,S=m.children,P=S===void 0?[]:S;!a.has(v)&&!l.has(v)&&!r(E)&&P.filter(function(b){return!r(b.node)}).forEach(function(b){a.delete(b.key)})})}l=new Set;for(var f=new Set,h=i;h>=0;h-=1){var p=o.get(h)||new Set;p.forEach(function(m){var v=m.parent,E=m.node;if(!(r(E)||!m.parent||f.has(m.parent.key))){if(r(m.parent.node)){f.add(v.key);return}var S=!0,P=!1;(v.children||[]).filter(function(b){return!r(b.node)}).forEach(function(b){var w=b.key,_=a.has(w);S&&!_&&(S=!1),!P&&(_||l.has(w))&&(P=!0)}),S||a.delete(v.key),P&&l.add(v.key),f.add(v.key)}})}return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(Nh(l,a))}}function ls(e,n,o,i){var r=[],a;i?a=i:a=A3;var l=new Set(e.filter(function(h){var p=!!tn(o,h);return p||r.push(h),p})),c=new Map,u=0;Object.keys(o).forEach(function(h){var p=o[h],m=p.level,v=c.get(m);v||(v=new Set,c.set(m,v)),v.add(p),u=Math.max(u,m)}),An(!r.length,"Tree missing follow keys: ".concat(r.slice(0,100).map(function(h){return"'".concat(h,"'")}).join(", ")));var f;return n===!0?f=D3(l,c,u,a):f=P3(l,n.halfCheckedKeys,c,u,a),f}var N3=10,Ll=function(e){to(o,e);var n=no(o);function o(){var i;vi(this,o);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return i=n.call.apply(n,[this].concat(a)),i.destroyed=!1,i.delayedDragEnterLogic=void 0,i.loadingRetryTimes={},i.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:ra()},i.dragStartMousePosition=null,i.dragNode=void 0,i.currentMouseOverDroppableNodeKey=null,i.listRef=k.createRef(),i.onNodeDragStart=function(c,u){var f=i.state,h=f.expandedKeys,p=f.keyEntities,m=i.props.onDragStart,v=u.props.eventKey;i.dragNode=u,i.dragStartMousePosition={x:c.clientX,y:c.clientY};var E=er(h,v);i.setState({draggingNodeKey:v,dragChildrenKeys:M3(v,p),indent:i.listRef.current.getIndentWidth()}),i.setExpandedKeys(E),window.addEventListener("dragend",i.onWindowDragEnd),m==null||m({event:c,node:yt(u.props)})},i.onNodeDragEnter=function(c,u){var f=i.state,h=f.expandedKeys,p=f.keyEntities,m=f.dragChildrenKeys,v=f.flattenNodes,E=f.indent,S=i.props,P=S.onDragEnter,b=S.onExpand,w=S.allowDrop,_=S.direction,y=u.props,x=y.pos,A=y.eventKey,H=Tn(i),D=H.dragNode;if(i.currentMouseOverDroppableNodeKey!==A&&(i.currentMouseOverDroppableNodeKey=A),!D){i.resetDragState();return}var N=qu(c,D,u,E,i.dragStartMousePosition,w,v,p,h,_),U=N.dropPosition,I=N.dropLevelOffset,B=N.dropTargetKey,M=N.dropContainerKey,T=N.dropTargetPos,O=N.dropAllowed,j=N.dragOverNodeKey;if(m.indexOf(B)!==-1||!O){i.resetDragState();return}if(i.delayedDragEnterLogic||(i.delayedDragEnterLogic={}),Object.keys(i.delayedDragEnterLogic).forEach(function(K){clearTimeout(i.delayedDragEnterLogic[K])}),D.props.eventKey!==u.props.eventKey&&(c.persist(),i.delayedDragEnterLogic[x]=window.setTimeout(function(){if(i.state.draggingNodeKey!==null){var K=jn(h),V=tn(p,u.props.eventKey);V&&(V.children||[]).length&&(K=_r(h,u.props.eventKey)),"expandedKeys"in i.props||i.setExpandedKeys(K),b==null||b(K,{node:yt(u.props),expanded:!0,nativeEvent:c.nativeEvent})}},800)),D.props.eventKey===B&&I===0){i.resetDragState();return}i.setState({dragOverNodeKey:j,dropPosition:U,dropLevelOffset:I,dropTargetKey:B,dropContainerKey:M,dropTargetPos:T,dropAllowed:O}),P==null||P({event:c,node:yt(u.props),expandedKeys:h})},i.onNodeDragOver=function(c,u){var f=i.state,h=f.dragChildrenKeys,p=f.flattenNodes,m=f.keyEntities,v=f.expandedKeys,E=f.indent,S=i.props,P=S.onDragOver,b=S.allowDrop,w=S.direction,_=Tn(i),y=_.dragNode;if(y){var x=qu(c,y,u,E,i.dragStartMousePosition,b,p,m,v,w),A=x.dropPosition,H=x.dropLevelOffset,D=x.dropTargetKey,N=x.dropContainerKey,U=x.dropAllowed,I=x.dropTargetPos,B=x.dragOverNodeKey;h.indexOf(D)!==-1||!U||(y.props.eventKey===D&&H===0?i.state.dropPosition===null&&i.state.dropLevelOffset===null&&i.state.dropTargetKey===null&&i.state.dropContainerKey===null&&i.state.dropTargetPos===null&&i.state.dropAllowed===!1&&i.state.dragOverNodeKey===null||i.resetDragState():A===i.state.dropPosition&&H===i.state.dropLevelOffset&&D===i.state.dropTargetKey&&N===i.state.dropContainerKey&&I===i.state.dropTargetPos&&U===i.state.dropAllowed&&B===i.state.dragOverNodeKey||i.setState({dropPosition:A,dropLevelOffset:H,dropTargetKey:D,dropContainerKey:N,dropTargetPos:I,dropAllowed:U,dragOverNodeKey:B}),P==null||P({event:c,node:yt(u.props)}))}},i.onNodeDragLeave=function(c,u){i.currentMouseOverDroppableNodeKey===u.props.eventKey&&!c.currentTarget.contains(c.relatedTarget)&&(i.resetDragState(),i.currentMouseOverDroppableNodeKey=null);var f=i.props.onDragLeave;f==null||f({event:c,node:yt(u.props)})},i.onWindowDragEnd=function(c){i.onNodeDragEnd(c,null,!0),window.removeEventListener("dragend",i.onWindowDragEnd)},i.onNodeDragEnd=function(c,u){var f=i.props.onDragEnd;i.setState({dragOverNodeKey:null}),i.cleanDragState(),f==null||f({event:c,node:yt(u.props)}),i.dragNode=null,window.removeEventListener("dragend",i.onWindowDragEnd)},i.onNodeDrop=function(c,u){var f,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,p=i.state,m=p.dragChildrenKeys,v=p.dropPosition,E=p.dropTargetKey,S=p.dropTargetPos,P=p.dropAllowed;if(P){var b=i.props.onDrop;if(i.setState({dragOverNodeKey:null}),i.cleanDragState(),E!==null){var w=fe(fe({},Ui(E,i.getTreeNodeRequiredProps())),{},{active:((f=i.getActiveItem())===null||f===void 0?void 0:f.key)===E,data:tn(i.state.keyEntities,E).node}),_=m.indexOf(E)!==-1;An(!_,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var y=El(S),x={event:c,node:yt(w),dragNode:i.dragNode?yt(i.dragNode.props):null,dragNodesKeys:[i.dragNode.props.eventKey].concat(m),dropToGap:v!==0,dropPosition:v+Number(y[y.length-1])};h||b==null||b(x),i.dragNode=null}}},i.cleanDragState=function(){var c=i.state.draggingNodeKey;c!==null&&i.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),i.dragStartMousePosition=null,i.currentMouseOverDroppableNodeKey=null},i.triggerExpandActionExpand=function(c,u){var f=i.state,h=f.expandedKeys,p=f.flattenNodes,m=u.expanded,v=u.key,E=u.isLeaf;if(!(E||c.shiftKey||c.metaKey||c.ctrlKey)){var S=p.filter(function(b){return b.key===v})[0],P=yt(fe(fe({},Ui(v,i.getTreeNodeRequiredProps())),{},{data:S.data}));i.setExpandedKeys(m?er(h,v):_r(h,v)),i.onNodeExpand(c,P)}},i.onNodeClick=function(c,u){var f=i.props,h=f.onClick,p=f.expandAction;p==="click"&&i.triggerExpandActionExpand(c,u),h==null||h(c,u)},i.onNodeDoubleClick=function(c,u){var f=i.props,h=f.onDoubleClick,p=f.expandAction;p==="doubleClick"&&i.triggerExpandActionExpand(c,u),h==null||h(c,u)},i.onNodeSelect=function(c,u){var f=i.state.selectedKeys,h=i.state,p=h.keyEntities,m=h.fieldNames,v=i.props,E=v.onSelect,S=v.multiple,P=u.selected,b=u[m.key],w=!P;w?S?f=_r(f,b):f=[b]:f=er(f,b);var _=f.map(function(y){var x=tn(p,y);return x?x.node:null}).filter(function(y){return y});i.setUncontrolledState({selectedKeys:f}),E==null||E(f,{event:"select",selected:w,node:u,selectedNodes:_,nativeEvent:c.nativeEvent})},i.onNodeCheck=function(c,u,f){var h=i.state,p=h.keyEntities,m=h.checkedKeys,v=h.halfCheckedKeys,E=i.props,S=E.checkStrictly,P=E.onCheck,b=u.key,w,_={event:"check",node:u,checked:f,nativeEvent:c.nativeEvent};if(S){var y=f?_r(m,b):er(m,b),x=er(v,b);w={checked:y,halfChecked:x},_.checkedNodes=y.map(function(I){return tn(p,I)}).filter(function(I){return I}).map(function(I){return I.node}),i.setUncontrolledState({checkedKeys:y})}else{var A=ls([].concat(jn(m),[b]),!0,p),H=A.checkedKeys,D=A.halfCheckedKeys;if(!f){var N=new Set(H);N.delete(b);var U=ls(Array.from(N),{checked:!1,halfCheckedKeys:D},p);H=U.checkedKeys,D=U.halfCheckedKeys}w=H,_.checkedNodes=[],_.checkedNodesPositions=[],_.halfCheckedKeys=D,H.forEach(function(I){var B=tn(p,I);if(B){var M=B.node,T=B.pos;_.checkedNodes.push(M),_.checkedNodesPositions.push({node:M,pos:T})}}),i.setUncontrolledState({checkedKeys:H},!1,{halfCheckedKeys:D})}P==null||P(w,_)},i.onNodeLoad=function(c){var u=c.key,f=new Promise(function(h,p){i.setState(function(m){var v=m.loadedKeys,E=v===void 0?[]:v,S=m.loadingKeys,P=S===void 0?[]:S,b=i.props,w=b.loadData,_=b.onLoad;if(!w||E.indexOf(u)!==-1||P.indexOf(u)!==-1)return null;var y=w(c);return y.then(function(){var x=i.state.loadedKeys,A=_r(x,u);_==null||_(A,{event:"load",node:c}),i.setUncontrolledState({loadedKeys:A}),i.setState(function(H){return{loadingKeys:er(H.loadingKeys,u)}}),h()}).catch(function(x){if(i.setState(function(H){return{loadingKeys:er(H.loadingKeys,u)}}),i.loadingRetryTimes[u]=(i.loadingRetryTimes[u]||0)+1,i.loadingRetryTimes[u]>=N3){var A=i.state.loadedKeys;An(!1,"Retry for `loadData` many times but still failed. No more retry."),i.setUncontrolledState({loadedKeys:_r(A,u)}),h()}p(x)}),{loadingKeys:_r(P,u)}})});return f.catch(function(){}),f},i.onNodeMouseEnter=function(c,u){var f=i.props.onMouseEnter;f==null||f({event:c,node:u})},i.onNodeMouseLeave=function(c,u){var f=i.props.onMouseLeave;f==null||f({event:c,node:u})},i.onNodeContextMenu=function(c,u){var f=i.props.onRightClick;f&&(c.preventDefault(),f({event:c,node:u}))},i.onFocus=function(){var c=i.props.onFocus;i.setState({focused:!0});for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];c==null||c.apply(void 0,f)},i.onBlur=function(){var c=i.props.onBlur;i.setState({focused:!1}),i.onActiveChange(null);for(var u=arguments.length,f=new Array(u),h=0;h<u;h++)f[h]=arguments[h];c==null||c.apply(void 0,f)},i.getTreeNodeRequiredProps=function(){var c=i.state,u=c.expandedKeys,f=c.selectedKeys,h=c.loadedKeys,p=c.loadingKeys,m=c.checkedKeys,v=c.halfCheckedKeys,E=c.dragOverNodeKey,S=c.dropPosition,P=c.keyEntities;return{expandedKeys:u||[],selectedKeys:f||[],loadedKeys:h||[],loadingKeys:p||[],checkedKeys:m||[],halfCheckedKeys:v||[],dragOverNodeKey:E,dropPosition:S,keyEntities:P}},i.setExpandedKeys=function(c){var u=i.state,f=u.treeData,h=u.fieldNames,p=as(f,c,h);i.setUncontrolledState({expandedKeys:c,flattenNodes:p},!0)},i.onNodeExpand=function(c,u){var f=i.state.expandedKeys,h=i.state,p=h.listChanging,m=h.fieldNames,v=i.props,E=v.onExpand,S=v.loadData,P=u.expanded,b=u[m.key];if(!p){var w=f.indexOf(b),_=!P;if(An(P&&w!==-1||!P&&w===-1,"Expand state not sync with index check"),_?f=_r(f,b):f=er(f,b),i.setExpandedKeys(f),E==null||E(f,{node:u,expanded:_,nativeEvent:c.nativeEvent}),_&&S){var y=i.onNodeLoad(u);y&&y.then(function(){var x=as(i.state.treeData,f,m);i.setUncontrolledState({flattenNodes:x})}).catch(function(){var x=i.state.expandedKeys,A=er(x,b);i.setExpandedKeys(A)})}}},i.onListChangeStart=function(){i.setUncontrolledState({listChanging:!0})},i.onListChangeEnd=function(){setTimeout(function(){i.setUncontrolledState({listChanging:!1})})},i.onActiveChange=function(c){var u=i.state.activeKey,f=i.props,h=f.onActiveChange,p=f.itemScrollOffset,m=p===void 0?0:p;u!==c&&(i.setState({activeKey:c}),c!==null&&i.scrollTo({key:c,offset:m}),h==null||h(c))},i.getActiveItem=function(){var c=i.state,u=c.activeKey,f=c.flattenNodes;return u===null?null:f.find(function(h){var p=h.key;return p===u})||null},i.offsetActiveKey=function(c){var u=i.state,f=u.flattenNodes,h=u.activeKey,p=f.findIndex(function(E){var S=E.key;return S===h});p===-1&&c<0&&(p=f.length),p=(p+c+f.length)%f.length;var m=f[p];if(m){var v=m.key;i.onActiveChange(v)}else i.onActiveChange(null)},i.onKeyDown=function(c){var u=i.state,f=u.activeKey,h=u.expandedKeys,p=u.checkedKeys,m=u.fieldNames,v=i.props,E=v.onKeyDown,S=v.checkable,P=v.selectable;switch(c.which){case Ee.UP:{i.offsetActiveKey(-1),c.preventDefault();break}case Ee.DOWN:{i.offsetActiveKey(1),c.preventDefault();break}}var b=i.getActiveItem();if(b&&b.data){var w=i.getTreeNodeRequiredProps(),_=b.data.isLeaf===!1||!!(b.data[m.children]||[]).length,y=yt(fe(fe({},Ui(f,w)),{},{data:b.data,active:!0}));switch(c.which){case Ee.LEFT:{_&&h.includes(f)?i.onNodeExpand({},y):b.parent&&i.onActiveChange(b.parent.key),c.preventDefault();break}case Ee.RIGHT:{_&&!h.includes(f)?i.onNodeExpand({},y):b.children&&b.children.length&&i.onActiveChange(b.children[0].key),c.preventDefault();break}case Ee.ENTER:case Ee.SPACE:{S&&!y.disabled&&y.checkable!==!1&&!y.disableCheckbox?i.onNodeCheck({},y,!p.includes(f)):!S&&P&&!y.disabled&&y.selectable!==!1&&i.onNodeSelect({},y);break}}}E==null||E(c)},i.setUncontrolledState=function(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!i.destroyed){var h=!1,p=!0,m={};Object.keys(c).forEach(function(v){if(v in i.props){p=!1;return}h=!0,m[v]=c[v]}),h&&(!u||p)&&i.setState(fe(fe({},m),f))}},i.scrollTo=function(c){i.listRef.current.scrollTo(c)},i}return yi(o,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var r=this.props,a=r.activeKey,l=r.itemScrollOffset,c=l===void 0?0:l;a!==void 0&&a!==this.state.activeKey&&(this.setState({activeKey:a}),a!==null&&this.scrollTo({key:a,offset:c}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var r,a=this.state,l=a.focused,c=a.flattenNodes,u=a.keyEntities,f=a.draggingNodeKey,h=a.activeKey,p=a.dropLevelOffset,m=a.dropContainerKey,v=a.dropTargetKey,E=a.dropPosition,S=a.dragOverNodeKey,P=a.indent,b=this.props,w=b.prefixCls,_=b.className,y=b.style,x=b.showLine,A=b.focusable,H=b.tabIndex,D=H===void 0?0:H,N=b.selectable,U=b.showIcon,I=b.icon,B=b.switcherIcon,M=b.draggable,T=b.checkable,O=b.checkStrictly,j=b.disabled,K=b.motion,V=b.loadData,F=b.filterTreeNode,Z=b.height,q=b.itemHeight,W=b.virtual,J=b.titleRender,X=b.dropIndicatorRender,ee=b.onContextMenu,te=b.onScroll,re=b.direction,ie=b.rootClassName,se=b.rootStyle,ae=Eh(this.props,{aria:!0,data:!0}),le;return M&&(At(M)==="object"?le=M:typeof M=="function"?le={nodeDraggable:M}:le={}),k.createElement(Cl.Provider,{value:{prefixCls:w,selectable:N,showIcon:U,icon:I,switcherIcon:B,draggable:le,draggingNodeKey:f,checkable:T,checkStrictly:O,disabled:j,keyEntities:u,dropLevelOffset:p,dropContainerKey:m,dropTargetKey:v,dropPosition:E,dragOverNodeKey:S,indent:P,direction:re,dropIndicatorRender:X,loadData:V,filterTreeNode:F,titleRender:J,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},k.createElement("div",{role:"tree",className:ot(w,_,ie,(r={},Me(r,"".concat(w,"-show-line"),x),Me(r,"".concat(w,"-focused"),l),Me(r,"".concat(w,"-active-focused"),h!==null),r)),style:se},k.createElement(Ph,xt({ref:this.listRef,prefixCls:w,style:y,data:c,disabled:j,selectable:N,checkable:!!T,motion:K,dragging:f!==null,height:Z,itemHeight:q,virtual:W,focusable:A,focused:l,tabIndex:D,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ee,onScroll:te},this.getTreeNodeRequiredProps(),ae))))}}],[{key:"getDerivedStateFromProps",value:function(r,a){var l=a.prevProps,c={prevProps:r};function u(A){return!l&&A in r||l&&l[A]!==r[A]}var f,h=a.fieldNames;if(u("fieldNames")&&(h=ra(r.fieldNames),c.fieldNames=h),u("treeData")?f=r.treeData:u("children")&&(An(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),f=p3(r.children)),f){c.treeData=f;var p=g3(f,{fieldNames:h});c.keyEntities=fe(Me({},Br,Dh),p.keyEntities)}var m=c.keyEntities||a.keyEntities;if(u("expandedKeys")||l&&u("autoExpandParent"))c.expandedKeys=r.autoExpandParent||!l&&r.defaultExpandParent?Wu(r.expandedKeys,m):r.expandedKeys;else if(!l&&r.defaultExpandAll){var v=fe({},m);delete v[Br],c.expandedKeys=Object.keys(v).map(function(A){return v[A].key})}else!l&&r.defaultExpandedKeys&&(c.expandedKeys=r.autoExpandParent||r.defaultExpandParent?Wu(r.defaultExpandedKeys,m):r.defaultExpandedKeys);if(c.expandedKeys||delete c.expandedKeys,f||c.expandedKeys){var E=as(f||a.treeData,c.expandedKeys||a.expandedKeys,h);c.flattenNodes=E}if(r.selectable&&(u("selectedKeys")?c.selectedKeys=$u(r.selectedKeys,r):!l&&r.defaultSelectedKeys&&(c.selectedKeys=$u(r.defaultSelectedKeys,r))),r.checkable){var S;if(u("checkedKeys")?S=ss(r.checkedKeys)||{}:!l&&r.defaultCheckedKeys?S=ss(r.defaultCheckedKeys)||{}:f&&(S=ss(r.checkedKeys)||{checkedKeys:a.checkedKeys,halfCheckedKeys:a.halfCheckedKeys}),S){var P=S,b=P.checkedKeys,w=b===void 0?[]:b,_=P.halfCheckedKeys,y=_===void 0?[]:_;if(!r.checkStrictly){var x=ls(w,!0,m);w=x.checkedKeys,y=x.halfCheckedKeys}c.checkedKeys=w,c.halfCheckedKeys=y}}return u("loadedKeys")&&(c.loadedKeys=r.loadedKeys),c}}]),o}(k.Component);Ll.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:K5,allowDrop:function(){return!0},expandAction:!1};Ll.TreeNode=Xi;const I3=()=>{const{selectTreeCurrent:e,retrieveChildren:n}=Lr(fs(f=>({retrieveChildren:f.retrieveChildren,selectTreeCurrent:f.selectTreeCurrent}))),{dbTreeData:o,currentAncestor:i,currentId:r}=Lr(fs(f=>{var h,p,m;return{dbTreeData:f.dbTreeData,currentAncestor:(h=f.current)==null?void 0:h.ancestor,currentId:((p=f.current)==null?void 0:p.id)||((m=f.current)==null?void 0:m._id)}})),a=k.useCallback(f=>{console.log("selected ",f);const h=f&&f[0];e(h)},[e]),l=k.useCallback(async f=>{console.log("handleLoadChildren",f),await n(f.key)},[n]),c=[{key:"earth",title:"",expanded:!0,isLeaf:!1,children:o}],u=["earth",...i||[],r].filter(f=>!!f);return z.jsxs("div",{style:{padding:"10px 20px 50px 20px",overflowY:"scroll"},children:[z.jsxs("div",{className:"search-wrap-title",children:[z.jsx("div",{className:"rc-panel-title",children:""}),z.jsxs("div",{className:"satelliteWrap",children:[z.jsx(ut,{name:"icon-list"}),z.jsx("span",{style:{color:"#2979FF"},children:""})]})]}),z.jsx(Ll,{onSelect:a,checkable:!1,expandedKeys:u,selectedKeys:r?[r]:[],loadData:l,treeData:c})]})},O3=["#F4F400","#58CDFF","#00E39F","#585EFF","#FF00E5","#FF005C","#FF8A00"],R3=[" structure! !","structure! !","structure! !"],H3={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function z3(){const{initNodeByTool:e,setIndicatorColor:n}=zn(v=>({initNodeByTool:v.initNodeByTool,setIndicatorColor:v.setIndicatorColor})),{parent:o,canCreateChild:i}=zn(v=>{var E,S,P;return{dbTreeData:v.dbTreeData,parent:v.parent,canCreateChild:(((E=v.current)==null?void 0:E.id)||((S=v.current)==null?void 0:S._id))&&((P=v.current)==null?void 0:P.nodeType)==="structure"}}),{satellite:r,toggleSatellite:a,defNodeType:l,setDefNodeType:c}=zn(v=>({satellite:v.satellite,toggleSatellite:v.toggleSatellite,defNodeType:v.defNodeType,setDefNodeType:v.setDefNodeType})),[u,f]=k.useState(!1),[h,p]=k.useState(!1),m=k.useCallback(v=>{console.log("handleChangeNodeType",v);const E=v.target.value;v.target.checked&&c(E)},[c]);return hd({parent:o,canCreateChild:i,satellite:r,toggleSatellite:a,defNodeType:l,setDefNodeType:c,initNodeByTool:e,setIndicatorColor:n,colorShow:u,setColorShow:f,warningShow:h,setWarningShow:p,handleChangeNodeType:m},"BaseInner"),z.jsxs("div",{style:H3,children:[z.jsxs("div",{className:"search-wrap",children:[z.jsxs("div",{className:"search-wrap-title",children:[z.jsx("div",{className:"rc-panel-title",children:""}),z.jsxs("div",{className:"satelliteWrap",onClick:a,children:[z.jsx(ut,{name:"icon-satellite",color:r?"#3D5AFE":"#BDBDBD"}),z.jsx("span",{style:{color:r?"#3D5AFE":"#BDBDBD"},children:""})]})]}),z.jsx("input",{className:"customInput",style:{width:"100%"},type:"input",placeholder:"/"})]}),o?z.jsx(k2,{}):z.jsx(sg,{}),z.jsxs("aside",{className:"rc-aside-panel",children:[z.jsxs("div",{style:{padding:"16px 20px"},children:[z.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[z.jsx("div",{className:"rc-panel-title",children:""}),z.jsx("div",{children:z.jsxs("label",{style:{display:"flex",alignItems:"center"},children:[z.jsx("input",{type:"radio",value:"structure",checked:l==="structure",onChange:m}),z.jsx("span",{children:""}),z.jsx("input",{type:"radio",value:"position",checked:l==="position",onChange:m}),z.jsx("span",{children:""})]})})]}),z.jsxs("div",{className:"createNodeWrap",children:[z.jsx(Du,{type:"sibling",onCreate:e}),z.jsx("div",{style:{width:10,flex:1}}),z.jsx(Du,{type:"child",disabled:!i,onCreate:e})]})]}),z.jsx("div",{style:{borderRadius:"10px",maxHeight:"500px",overflowY:"hidden"},children:z.jsx(I3,{})})]}),z.jsx("div",{className:"rc-property-panel",children:z.jsxs(xl,{style:{paddingBottom:"20px"},children:[z.jsxs(wl,{children:[z.jsx(Bi,{children:"1"}),z.jsx(Bi,{children:""}),z.jsx(Bi,{children:""})]}),z.jsx(ji,{className:"tabPage",children:z.jsx(P2,{})}),z.jsx(ji,{className:"tabPage",children:""}),z.jsx(ji,{className:"tabPage",children:z.jsx(B5,{})})]})}),z.jsxs("div",{className:"setting-wrap",children:[z.jsx(ut,{name:"icon-setting",color:"#000",onClick:()=>f(!u)}),u?z.jsxs("div",{className:"color-list",children:[z.jsx("span",{style:{marginLeft:"10px",fontSize:"13px"},children:""}),O3.map(v=>z.jsx("div",{className:"setting-item",style:{background:v},onClick:()=>n(v)},v))]}):null]}),z.jsxs("div",{className:"warning-wrap",children:[z.jsx(ut,{name:"icon-warning",color:"#000",onClick:()=>p(!h)}),h?z.jsx("div",{className:"warning-list",children:R3.map((v,E)=>z.jsxs("div",{className:"warning-item",children:[z.jsx("span",{style:{color:"#9E9E9E",marginRight:"10px"},children:"2024-01-10 10:23:34"}),z.jsx("span",{children:v})]},E))}):null]})]})}function j3(e){return console.log("PositionEditorBase",e),z.jsx(Im,{...e,children:z.jsx(z3,{})})}export{j3 as PositionEditorBase,j3 as default};
